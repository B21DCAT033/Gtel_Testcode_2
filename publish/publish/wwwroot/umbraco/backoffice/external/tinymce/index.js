(function(){var ul=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var t=typeof e;return t==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":t==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":t},_c=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},Y5=function(e,t){var n=Array.prototype.slice.call(e);return n.sort(t)},X5=function(e,t){return Sr(function(n,s){return e.eq(t(n),t(s))})},Sr=function(e){return{eq:e}},Q5=Sr(function(e,t){return e===t}),J5=Q5,mm=function(e){return Sr(function(t,n){if(t.length!==n.length)return!1;for(var s=t.length,o=0;o<s;o++)if(!e.eq(t[o],n[o]))return!1;return!0})},e6=function(e,t){return X5(mm(e),function(n){return Y5(n,t)})},hm=function(e){return Sr(function(t,n){var s=Object.keys(t),o=Object.keys(n);if(!e6(J5).eq(s,o))return!1;for(var r=s.length,a=0;a<r;a++){var l=s[a];if(!e.eq(t[l],n[l]))return!1}return!0})},Ac=Sr(function(e,t){if(e===t)return!0;var n=ul(e),s=ul(t);return n!==s?!1:_c(n)?e===t:n==="array"?mm(Ac).eq(e,t):n==="object"?hm(Ac).eq(e,t):!1});const t6=Object.getPrototypeOf,gm=(e,t,n)=>{var s;return n(e,t.prototype)?!0:((s=e.constructor)===null||s===void 0?void 0:s.name)===t.name},n6=e=>{const t=typeof e;return e===null?"null":t==="object"&&Array.isArray(e)?"array":t==="object"&&gm(e,String,(n,s)=>s.isPrototypeOf(n))?"string":t},Nc=e=>t=>n6(t)===e,Tc=e=>t=>typeof t===e,pm=e=>t=>e===t,dl=(e,t)=>nt(e)&&gm(e,t,(n,s)=>t6(n)===s),J=Nc("string"),nt=Nc("object"),fl=e=>dl(e,Object),Me=Nc("array"),vt=pm(null),Nn=Tc("boolean"),st=pm(void 0),ze=e=>e==null,$=e=>!ze(e),we=Tc("function"),an=Tc("number"),Is=(e,t)=>{if(Me(e)){for(let n=0,s=e.length;n<s;++n)if(!t(e[n]))return!1;return!0}return!1},ie=()=>{},pn=(e,t)=>(...n)=>e(t.apply(null,n)),vm=(e,t)=>n=>e(t(n)),j=e=>()=>e,bt=e=>e,bm=(e,t)=>e===t;function K(e,...t){return(...n)=>{const s=t.concat(n);return e.apply(null,s)}}const kr=e=>t=>!e(t),Cm=e=>()=>{throw new Error(e)},Rc=e=>e(),xr=e=>{e()},Pe=j(!1),$e=j(!0);class m{constructor(t,n){this.tag=t,this.value=n}static some(t){return new m(!0,t)}static none(){return m.singletonNone}fold(t,n){return this.tag?n(this.value):t()}isSome(){return this.tag}isNone(){return!this.tag}map(t){return this.tag?m.some(t(this.value)):m.none()}bind(t){return this.tag?t(this.value):m.none()}exists(t){return this.tag&&t(this.value)}forall(t){return!this.tag||t(this.value)}filter(t){return!this.tag||t(this.value)?this:m.none()}getOr(t){return this.tag?this.value:t}or(t){return this.tag?this:t}getOrThunk(t){return this.tag?this.value:t()}orThunk(t){return this.tag?this:t()}getOrDie(t){if(this.tag)return this.value;throw new Error(t??"Called getOrDie on None")}static from(t){return $(t)?m.some(t):m.none()}getOrNull(){return this.tag?this.value:null}getOrUndefined(){return this.value}each(t){this.tag&&t(this.value)}toArray(){return this.tag?[this.value]:[]}toString(){return this.tag?`some(${this.value})`:"none()"}}m.singletonNone=new m(!1);const Pc=Array.prototype.slice,s6=Array.prototype.indexOf,o6=Array.prototype.push,ym=(e,t)=>s6.call(e,t),r6=(e,t)=>{const n=ym(e,t);return n===-1?m.none():m.some(n)},Ee=(e,t)=>ym(e,t)>-1,Le=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const o=e[n];if(t(o,n))return!0}return!1},ge=(e,t)=>{const n=e.length,s=new Array(n);for(let o=0;o<n;o++){const r=e[o];s[o]=t(r,o)}return s},R=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const o=e[n];t(o,n)}},Em=(e,t)=>{for(let n=e.length-1;n>=0;n--){const s=e[n];t(s,n)}},ko=(e,t)=>{const n=[],s=[];for(let o=0,r=e.length;o<r;o++){const a=e[o];(t(a,o)?n:s).push(a)}return{pass:n,fail:s}},se=(e,t)=>{const n=[];for(let s=0,o=e.length;s<o;s++){const r=e[s];t(r,s)&&n.push(r)}return n},_r=(e,t,n)=>(Em(e,(s,o)=>{n=t(n,s,o)}),n),Mt=(e,t,n)=>(R(e,(s,o)=>{n=t(n,s,o)}),n),wm=(e,t,n)=>{for(let s=0,o=e.length;s<o;s++){const r=e[s];if(t(r,s))return m.some(r);if(n(r,s))break}return m.none()},Ke=(e,t)=>wm(e,t,Pe),Ar=(e,t)=>{for(let n=0,s=e.length;n<s;n++){const o=e[n];if(t(o,n))return m.some(n)}return m.none()},Sm=e=>{const t=[];for(let n=0,s=e.length;n<s;++n){if(!Me(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);o6.apply(t,e[n])}return t},qt=(e,t)=>Sm(ge(e,t)),Xn=(e,t)=>{for(let n=0,s=e.length;n<s;++n){const o=e[n];if(t(o,n)!==!0)return!1}return!0},Nr=e=>{const t=Pc.call(e,0);return t.reverse(),t},ml=(e,t)=>se(e,n=>!Ee(t,n)),Mc=(e,t)=>{const n={};for(let s=0,o=e.length;s<o;s++){const r=e[s];n[String(r)]=t(r,s)}return n},$s=(e,t)=>{const n=Pc.call(e,0);return n.sort(t),n},Tr=(e,t)=>t>=0&&t<e.length?m.some(e[t]):m.none(),_t=e=>Tr(e,0),ms=e=>Tr(e,e.length-1),$t=we(Array.from)?Array.from:e=>Pc.call(e),xo=(e,t)=>{for(let n=0;n<e.length;n++){const s=t(e[n],n);if(s.isSome())return s}return m.none()},km=(e,t)=>{const n=[],s=we(t)?o=>Le(n,r=>t(r,o)):o=>Ee(n,o);for(let o=0,r=e.length;o<r;o++){const a=e[o];s(a)||n.push(a)}return n},Dt=Object.keys,a6=Object.hasOwnProperty,xe=(e,t)=>{const n=Dt(e);for(let s=0,o=n.length;s<o;s++){const r=n[s],a=e[r];t(a,r)}},Rr=(e,t)=>l6(e,(n,s)=>({k:s,v:t(n,s)})),l6=(e,t)=>{const n={};return xe(e,(s,o)=>{const r=t(s,o);n[r.k]=r.v}),n},Dc=e=>(t,n)=>{e[n]=t},xm=(e,t,n,s)=>{xe(e,(o,r)=>{(t(o,r)?n:s)(o,r)})},i6=(e,t)=>{const n={},s={};return xm(e,t,Dc(n),Dc(s)),{t:n,f:s}},Pr=(e,t)=>{const n={};return xm(e,t,Dc(n),ie),n},hl=(e,t)=>{const n=[];return xe(e,(s,o)=>{n.push(t(s,o))}),n},Oc=e=>hl(e,bt),Ae=(e,t)=>oe(e,t)?m.from(e[t]):m.none(),oe=(e,t)=>a6.call(e,t),_o=(e,t)=>oe(e,t)&&e[t]!==void 0&&e[t]!==null,c6=(e,t,n=Ac)=>hm(n).eq(e,t),_m=e=>{const t={};return R(e,n=>{t[n]={}}),Dt(t)},Am=e=>e.length!==void 0,Bc=Array.isArray,u6=e=>{if(Bc(e))return e;{const t=[];for(let n=0,s=e.length;n<s;n++)t[n]=e[n];return t}},gl=(e,t,n)=>{if(!e)return!1;if(n=n||e,Am(e)){for(let s=0,o=e.length;s<o;s++)if(t.call(n,e[s],s,e)===!1)return!1}else for(const s in e)if(oe(e,s)&&t.call(n,e[s],s,e)===!1)return!1;return!0},Lc=(e,t)=>{const n=[];return gl(e,(s,o)=>{n.push(t(s,o,e))}),n},Mr=(e,t)=>{const n=[];return gl(e,(s,o)=>{(!t||t(s,o,e))&&n.push(s)}),n},d6=(e,t)=>{if(e){for(let n=0,s=e.length;n<s;n++)if(e[n]===t)return n}return-1},pl=(e,t,n,s)=>{let o=st(n)?e[0]:n;for(let r=0;r<e.length;r++)o=t.call(s,o,e[r],r);return o},Nm=(e,t,n)=>{for(let s=0,o=e.length;s<o;s++)if(t.call(n,e[s],s,e))return s;return-1},Zs=e=>e[e.length-1],Tn=e=>{let t=!1,n;return(...s)=>(t||(t=!0,n=e.apply(null,s)),n)},f6=(e,t,n,s)=>{const o=e.isiOS()&&/ipad/i.test(n)===!0,r=e.isiOS()&&!o,a=e.isiOS()||e.isAndroid(),l=a||s("(pointer:coarse)"),i=o||!r&&a&&s("(min-device-width:768px)"),c=r||a&&!i,u=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1,d=!c&&!i&&!u;return{isiPad:j(o),isiPhone:j(r),isTablet:j(i),isPhone:j(c),isTouch:j(l),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:j(u),isDesktop:j(d)}},m6=(e,t)=>{for(let n=0;n<e.length;n++){const s=e[n];if(s.test(t))return s}},h6=(e,t)=>{const n=m6(e,t);if(!n)return{major:0,minor:0};const s=o=>Number(t.replace(n,"$"+o));return Hc(s(1),s(2))},g6=(e,t)=>{const n=String(t).toLowerCase();return e.length===0?Tm():h6(e,n)},Tm=()=>Hc(0,0),Hc=(e,t)=>({major:e,minor:t}),Dr={nu:Hc,detect:g6,unknown:Tm},p6=(e,t)=>xo(t.brands,n=>{const s=n.brand.toLowerCase();return Ke(e,o=>{var r;return s===((r=o.brand)===null||r===void 0?void 0:r.toLowerCase())}).map(o=>({current:o.name,version:Dr.nu(parseInt(n.version,10),0)}))}),Rm=(e,t)=>{const n=String(t).toLowerCase();return Ke(e,s=>s.search(n))},v6=(e,t)=>Rm(e,t).map(n=>{const s=Dr.detect(n.versionRegexes,t);return{current:n.name,version:s}}),b6=(e,t)=>Rm(e,t).map(n=>{const s=Dr.detect(n.versionRegexes,t);return{current:n.name,version:s}}),C6=(e,t)=>e.substring(t),Pm=(e,t,n)=>t===""||e.length>=t.length&&e.substr(n,n+t.length)===t,Mm=(e,t)=>Ge(e,t)?C6(e,t.length):e,it=(e,t,n=0,s)=>{const o=e.indexOf(t,n);return o!==-1?st(s)?!0:o+t.length<=s:!1},Ge=(e,t)=>Pm(e,t,0),Ic=(e,t)=>Pm(e,t,e.length-t.length),$c=e=>t=>t.replace(e,""),Ao=$c(/^\s+|\s+$/g),y6=$c(/^\s+/g),Dm=$c(/\s+$/g),Rn=e=>e.length>0,Or=e=>!Rn(e),E6=(e,t)=>t<=0?"":new Array(t+1).join(e),vl=(e,t=10)=>{const n=parseInt(e,t);return isNaN(n)?m.none():m.some(n)},Zc=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Qn=e=>t=>it(t,e),w6=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:e=>it(e,"edge/")&&it(e,"chrome")&&it(e,"safari")&&it(e,"applewebkit")},{name:"Chromium",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Zc],search:e=>it(e,"chrome")&&!it(e,"chromeframe")},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:e=>it(e,"msie")||it(e,"trident")},{name:"Opera",versionRegexes:[Zc,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Qn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Qn("firefox")},{name:"Safari",versionRegexes:[Zc,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:e=>(it(e,"safari")||it(e,"mobile/"))&&it(e,"applewebkit")}],S6=[{name:"Windows",search:Qn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:e=>it(e,"iphone")||it(e,"ipad"),versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Qn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"macOS",search:Qn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Qn("linux"),versionRegexes:[]},{name:"Solaris",search:Qn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Qn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Qn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Om={browsers:j(w6),oses:j(S6)},k6="Edge",x6="Chromium",_6="IE",A6="Opera",N6="Firefox",T6="Safari",R6=()=>Bm({current:void 0,version:Dr.unknown()}),Bm=e=>{const t=e.current,n=e.version,s=o=>()=>t===o;return{current:t,version:n,isEdge:s(k6),isChromium:s(x6),isIE:s(_6),isOpera:s(A6),isFirefox:s(N6),isSafari:s(T6)}},Lm={unknown:R6,nu:Bm},P6="Windows",M6="iOS",D6="Android",O6="Linux",B6="macOS",L6="Solaris",H6="FreeBSD",I6="ChromeOS",$6=()=>Hm({current:void 0,version:Dr.unknown()}),Hm=e=>{const t=e.current,n=e.version,s=o=>()=>t===o;return{current:t,version:n,isWindows:s(P6),isiOS:s(M6),isAndroid:s(D6),isMacOS:s(B6),isLinux:s(O6),isSolaris:s(L6),isFreeBSD:s(H6),isChromeOS:s(I6)}},Im={unknown:$6,nu:Hm},Z6={detect:(e,t,n)=>{const s=Om.browsers(),o=Om.oses(),r=t.bind(i=>p6(s,i)).orThunk(()=>v6(s,e)).fold(Lm.unknown,Lm.nu),a=b6(o,e).fold(Im.unknown,Im.nu),l=f6(a,r,e,n);return{browser:r,os:a,deviceType:l}}},F6=e=>window.matchMedia(e).matches;let z6=Tn(()=>Z6.detect(window.navigator.userAgent,m.from(window.navigator.userAgentData),F6));const Pn=()=>z6(),V6=window.navigator.userAgent,Fc=Pn(),Mn=Fc.browser,Dn=Fc.os,Fs=Fc.deviceType,U6=V6.indexOf("Windows Phone")!==-1,ve={transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",documentMode:Mn.isIE()?document.documentMode||7:10,cacheSuffix:null,container:null,canHaveCSP:!Mn.isIE(),windowsPhone:U6,browser:{current:Mn.current,version:Mn.version,isChromium:Mn.isChromium,isEdge:Mn.isEdge,isFirefox:Mn.isFirefox,isIE:Mn.isIE,isOpera:Mn.isOpera,isSafari:Mn.isSafari},os:{current:Dn.current,version:Dn.version,isAndroid:Dn.isAndroid,isChromeOS:Dn.isChromeOS,isFreeBSD:Dn.isFreeBSD,isiOS:Dn.isiOS,isLinux:Dn.isLinux,isMacOS:Dn.isMacOS,isSolaris:Dn.isSolaris,isWindows:Dn.isWindows},deviceType:{isDesktop:Fs.isDesktop,isiPad:Fs.isiPad,isiPhone:Fs.isiPhone,isPhone:Fs.isPhone,isTablet:Fs.isTablet,isTouch:Fs.isTouch,isWebView:Fs.isWebView}},W6=/^\s*|\s*$/g,$m=e=>ze(e)?"":(""+e).replace(W6,""),j6=(e,t)=>t?t==="array"&&Bc(e)?!0:typeof e===t:e!==void 0,q6=(e,t,n={})=>{const s=J(e)?e.split(t||","):e||[];let o=s.length;for(;o--;)n[s[o]]={};return n},K6=oe,G6=(e,...t)=>{for(let n=0;n<t.length;n++){const s=t[n];for(const o in s)if(oe(s,o)){const r=s[o];r!==void 0&&(e[o]=r)}}return e},Zm=function(e,t,n,s){s=s||this,e&&(n&&(e=e[n]),gl(e,(o,r)=>t.call(s,o,r,n)===!1?!1:(Zm(o,t,n,s),!0)))},L={trim:$m,isArray:Bc,is:j6,toArray:u6,makeMap:q6,each:gl,map:Lc,grep:Mr,inArray:d6,hasOwn:K6,extend:G6,walk:Zm,resolve:(e,t=window)=>{const n=e.split(".");for(let s=0,o=n.length;s<o&&(t=t[n[s]],!!t);s++);return t},explode:(e,t)=>Me(e)?e:e===""?[]:Lc(e.split(t||","),$m),_addCacheSuffix:e=>{const t=ve.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e}},No=(e,t,n=bm)=>e.exists(s=>n(s,t)),Fm=(e,t,n=bm)=>ct(e,t,n).getOr(e.isNone()&&t.isNone()),Y6=e=>{const t=[],n=s=>{t.push(s)};for(let s=0;s<e.length;s++)e[s].each(n);return t},ct=(e,t,n)=>e.isSome()&&t.isSome()?m.some(n(e.getOrDie(),t.getOrDie())):m.none(),X6=(e,t,n,s)=>e.isSome()&&t.isSome()&&n.isSome()?m.some(s(e.getOrDie(),t.getOrDie(),n.getOrDie())):m.none(),To=(e,t)=>e?m.some(t):m.none(),Q6=typeof window<"u"?window:Function("return this;")(),J6=(e,t)=>{let n=t??Q6;for(let s=0;s<e.length&&n!==void 0&&n!==null;++s)n=n[e[s]];return n},zm=(e,t)=>{const n=e.split(".");return J6(n,t)},eE=(e,t)=>zm(e,t),tE=(e,t)=>{const n=eE(e,t);if(n==null)throw new Error(e+" not available on this browser");return n},nE=Object.getPrototypeOf,sE=e=>tE("HTMLElement",e),oE=e=>{const t=zm("ownerDocument.defaultView",e);return nt(e)&&(sE(t).prototype.isPrototypeOf(e)||/^HTML\w*Element$/.test(nE(e).constructor.name))},bl=8,Vm=9,Um=11,Br=1,Wm=3,pe=e=>e.dom.nodeName.toLowerCase(),jm=e=>e.dom.nodeType,Cl=e=>t=>jm(t)===e,rE=e=>jm(e)===bl||pe(e)==="#comment",Lr=e=>Zt(e)&&oE(e.dom),Zt=Cl(Br),At=Cl(Wm),aE=Cl(Vm),lE=Cl(Um),Hr=e=>t=>Zt(t)&&pe(t)===e,qm=(e,t,n)=>{if(J(n)||Nn(n)||an(n))e.setAttribute(t,n+"");else throw console.error("Invalid call to Attribute.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple")},ot=(e,t,n)=>{qm(e.dom,t,n)},Jn=(e,t)=>{const n=e.dom;xe(t,(s,o)=>{qm(n,o,s)})},Ft=(e,t)=>{const n=e.dom.getAttribute(t);return n===null?void 0:n},es=(e,t)=>m.from(Ft(e,t)),Ir=(e,t)=>{const n=e.dom;return n&&n.hasAttribute?n.hasAttribute(t):!1},rt=(e,t)=>{e.dom.removeAttribute(t)},iE=e=>{const t=e.dom.attributes;return t==null||t.length===0},Km=e=>Mt(e.dom.attributes,(t,n)=>(t[n.name]=n.value,t),{}),zc=(e,t)=>{const n=Ft(e,t);return n===void 0||n===""?[]:n.split(" ")},cE=(e,t,n)=>{const o=zc(e,t).concat([n]);return ot(e,t,o.join(" ")),!0},uE=(e,t,n)=>{const s=se(zc(e,t),o=>o!==n);return s.length>0?ot(e,t,s.join(" ")):rt(e,t),!1},$r=e=>e.dom.classList!==void 0,Gm=e=>zc(e,"class"),Ym=(e,t)=>cE(e,"class",t),Xm=(e,t)=>uE(e,"class",t),dE=(e,t)=>Ee(Gm(e),t)?Xm(e,t):Ym(e,t),Ro=(e,t)=>{$r(e)?e.dom.classList.add(t):Ym(e,t)},Qm=e=>{($r(e)?e.dom.classList:Gm(e)).length===0&&rt(e,"class")},Zr=(e,t)=>{$r(e)?e.dom.classList.remove(t):Xm(e,t),Qm(e)},fE=(e,t)=>{const n=$r(e)?e.dom.classList.toggle(t):dE(e,t);return Qm(e),n},Vc=(e,t)=>$r(e)&&e.dom.classList.contains(t),mE=(e,t)=>{const s=(t||document).createElement("div");if(s.innerHTML=e,!s.hasChildNodes()||s.childNodes.length>1){const o="HTML does not have a single root node";throw console.error(o,e),new Error(o)}return Fr(s.childNodes[0])},hE=(e,t)=>{const s=(t||document).createElement(e);return Fr(s)},gE=(e,t)=>{const s=(t||document).createTextNode(e);return Fr(s)},Fr=e=>{if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},b={fromHtml:mE,fromTag:hE,fromText:gE,fromDom:Fr,fromPoint:(e,t,n)=>m.from(e.dom.elementFromPoint(t,n)).map(Fr)},Jm=(e,t)=>{const n=[],s=r=>(n.push(r),t(r));let o=t(e);do o=o.bind(s);while(o.isSome());return n},vn=(e,t)=>{const n=e.dom;if(n.nodeType!==Br)return!1;{const s=n;if(s.matches!==void 0)return s.matches(t);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(t);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(t);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")}},eh=e=>e.nodeType!==Br&&e.nodeType!==Vm&&e.nodeType!==Um||e.childElementCount===0,pE=(e,t)=>{const n=t===void 0?document:t.dom;return eh(n)?[]:ge(n.querySelectorAll(e),b.fromDom)},vE=(e,t)=>{const n=t===void 0?document:t.dom;return eh(n)?m.none():m.from(n.querySelector(e)).map(b.fromDom)},Ce=(e,t)=>e.dom===t.dom,bn=(e,t)=>{const n=e.dom,s=t.dom;return n===s?!1:n.contains(s)},th=e=>b.fromDom(e.dom.ownerDocument),hs=e=>aE(e)?e:th(e),bE=e=>b.fromDom(hs(e).dom.documentElement),zr=e=>b.fromDom(hs(e).dom.defaultView),On=e=>m.from(e.dom.parentNode).map(b.fromDom),Vr=e=>m.from(e.dom.parentElement).map(b.fromDom),nh=(e,t)=>{const n=we(t)?t:Pe;let s=e.dom;const o=[];for(;s.parentNode!==null&&s.parentNode!==void 0;){const r=s.parentNode,a=b.fromDom(r);if(o.push(a),n(a)===!0)break;s=r}return o},CE=e=>{const t=n=>se(n,s=>!Ce(e,s));return On(e).map(ut).map(t).getOr([])},gs=e=>m.from(e.dom.previousSibling).map(b.fromDom),Ur=e=>m.from(e.dom.nextSibling).map(b.fromDom),sh=e=>Nr(Jm(e,gs)),oh=e=>Jm(e,Ur),ut=e=>ge(e.dom.childNodes,b.fromDom),Po=(e,t)=>{const n=e.dom.childNodes;return m.from(n[t]).map(b.fromDom)},Uc=e=>Po(e,0),Wc=e=>Po(e,e.dom.childNodes.length-1),jc=e=>e.dom.childNodes.length,yE=e=>{const t=e.dom.head;if(t==null)throw new Error("Head is not available yet");return b.fromDom(t)},qc=e=>lE(e)&&$(e.dom.host),ps=e=>b.fromDom(e.dom.getRootNode()),Kc=e=>qc(e)?e:yE(hs(e)),EE=e=>qc(e)?e:b.fromDom(hs(e).dom.body),wE=e=>{const t=ps(e);return qc(t)?m.some(t):m.none()},SE=e=>b.fromDom(e.dom.host),rh=e=>{if($(e.target)){const t=b.fromDom(e.target);if(Zt(t)&&kE(t)&&e.composed&&e.composedPath){const n=e.composedPath();if(n)return _t(n)}}return m.from(e.target)},kE=e=>$(e.dom.shadowRoot),Mo=e=>{const t=At(e)?e.dom.parentNode:e.dom;if(t==null||t.ownerDocument===null)return!1;const n=t.ownerDocument;return wE(b.fromDom(t)).fold(()=>n.body.contains(t),vm(Mo,SE))};var ah=(e,t,n,s,o)=>e(n,s)?m.some(n):we(o)&&o(n)?m.none():t(n,s,o);const ts=(e,t,n)=>{let s=e.dom;const o=we(n)?n:Pe;for(;s.parentNode;){s=s.parentNode;const r=b.fromDom(s);if(t(r))return m.some(r);if(o(r))break}return m.none()},vs=(e,t,n)=>ah((o,r)=>r(o),ts,e,t,n),xE=(e,t)=>{const n=e.dom;return n.parentNode?_E(b.fromDom(n.parentNode),s=>!Ce(e,s)&&t(s)):m.none()},_E=(e,t)=>{const n=o=>t(b.fromDom(o));return Ke(e.dom.childNodes,n).map(b.fromDom)},Gc=(e,t)=>{const n=s=>{for(let o=0;o<s.childNodes.length;o++){const r=b.fromDom(s.childNodes[o]);if(t(r))return m.some(r);const a=n(s.childNodes[o]);if(a.isSome())return a}return m.none()};return n(e.dom)},Wr=(e,t,n)=>ts(e,s=>vn(s,t),n),yl=(e,t)=>vE(t,e),Do=(e,t,n)=>ah((o,r)=>vn(o,r),Wr,e,t,n),AE=e=>Do(e,"[contenteditable]"),bs=(e,t=!1)=>Mo(e)?e.dom.isContentEditable:AE(e).fold(j(t),n=>NE(n)==="true"),NE=e=>e.dom.contentEditable,El=(e,t)=>{e.dom.contentEditable=t?"true":"false"},jr=e=>e.style!==void 0&&we(e.style.getPropertyValue),lh=(e,t,n)=>{if(!J(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);jr(e)&&e.style.setProperty(t,n)},TE=(e,t)=>{jr(e)&&e.style.removeProperty(t)},ih=(e,t,n)=>{const s=e.dom;lh(s,t,n)},wl=(e,t)=>{const n=e.dom;xe(t,(s,o)=>{lh(n,o,s)})},Bn=(e,t)=>{const n=e.dom,o=window.getComputedStyle(n).getPropertyValue(t);return o===""&&!Mo(e)?ch(n,t):o},ch=(e,t)=>jr(e)?e.style.getPropertyValue(t):"",Sl=(e,t)=>{const n=e.dom,s=ch(n,t);return m.from(s).filter(o=>o.length>0)},Yc=e=>{const t={},n=e.dom;if(jr(n))for(let s=0;s<n.style.length;s++){const o=n.style.item(s);t[o]=n.style[o]}return t},uh=(e,t)=>{const n=e.dom;TE(n,t),No(es(e,"style").map(Ao),"")&&rt(e,"style")},RE=e=>e.dom.offsetWidth,Ot=(e,t)=>{On(e).each(s=>{s.dom.insertBefore(t.dom,e.dom)})},ns=(e,t)=>{Ur(e).fold(()=>{On(e).each(o=>{Ve(o,t)})},s=>{Ot(s,t)})},Xc=(e,t)=>{Uc(e).fold(()=>{Ve(e,t)},s=>{e.dom.insertBefore(t.dom,s.dom)})},Ve=(e,t)=>{e.dom.appendChild(t.dom)},dh=(e,t)=>{Ot(e,t),Ve(t,e)},PE=(e,t)=>{R(t,(n,s)=>{const o=s===0?e:t[s-1];ns(o,n)})},zs=(e,t)=>{R(t,n=>{Ve(e,n)})},Oo=e=>{e.dom.textContent="",R(ut(e),t=>{Ne(t)})},Ne=e=>{const t=e.dom;t.parentNode!==null&&t.parentNode.removeChild(t)},Cs=e=>{const t=ut(e);t.length>0&&PE(e,t),Ne(e)},ME=(e,t)=>{const s=(t||document).createElement("div");return s.innerHTML=e,ut(b.fromDom(s))},Qc=e=>ge(e,b.fromDom),fh=e=>e.dom.innerHTML,kl=(e,t)=>{const s=th(e).dom,o=b.fromDom(s.createDocumentFragment()),r=ME(t,s);zs(o,r),Oo(e),Ve(e,o)},DE=e=>{const t=b.fromTag("div"),n=b.fromDom(e.dom.cloneNode(!0));return Ve(t,n),fh(t)},OE=(e,t,n,s,o,r,a)=>({target:e,x:t,y:n,stop:s,prevent:o,kill:r,raw:a}),BE=e=>{const t=b.fromDom(rh(e).getOr(e.target)),n=()=>e.stopPropagation(),s=()=>e.preventDefault(),o=pn(s,n);return OE(t,e.clientX,e.clientY,n,s,o,e)},LE=(e,t)=>n=>{e(n)&&t(BE(n))},HE=(e,t,n,s,o)=>{const r=LE(n,s);return e.dom.addEventListener(t,r,o),{unbind:K($E,e,t,r,o)}},IE=(e,t,n,s)=>HE(e,t,n,s,!1),$E=(e,t,n,s)=>{e.dom.removeEventListener(t,n,s)},mh=(e,t)=>({left:e,top:t,translate:(s,o)=>mh(e+s,t+o)}),Bo=mh,ZE=e=>{const t=e.getBoundingClientRect();return Bo(t.left,t.top)},xl=(e,t)=>e!==void 0?e:t!==void 0?t:0,FE=e=>{const t=e.dom.ownerDocument,n=t.body,s=t.defaultView,o=t.documentElement;if(n===e.dom)return Bo(n.offsetLeft,n.offsetTop);const r=xl(s?.pageYOffset,o.scrollTop),a=xl(s?.pageXOffset,o.scrollLeft),l=xl(o.clientTop,n.clientTop),i=xl(o.clientLeft,n.clientLeft);return Jc(e).translate(a-i,r-l)},Jc=e=>{const t=e.dom,s=t.ownerDocument.body;return s===t?Bo(s.offsetLeft,s.offsetTop):Mo(e)?ZE(t):Bo(0,0)},eu=e=>{const t=e!==void 0?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,s=t.body.scrollTop||t.documentElement.scrollTop;return Bo(n,s)},hh=(e,t,n)=>{const o=(n!==void 0?n.dom:document).defaultView;o&&o.scrollTo(e,t)},gh=(e,t)=>{Pn().browser.isSafari()&&we(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)},zE=e=>{const t=e===void 0?window:e;return Pn().browser.isFirefox()?m.none():m.from(t.visualViewport)},ph=(e,t,n,s)=>({x:e,y:t,width:n,height:s,right:e+n,bottom:t+s}),vh=e=>{const t=e===void 0?window:e,n=t.document,s=eu(b.fromDom(n));return zE(t).fold(()=>{const o=t.document.documentElement,r=o.clientWidth,a=o.clientHeight;return ph(s.left,s.top,r,a)},o=>ph(Math.max(o.pageLeft,s.left),Math.max(o.pageTop,s.top),o.width,o.height))},VE=(e,t)=>se(ut(e),t),bh=(e,t)=>{let n=[];return R(ut(e),s=>{t(s)&&(n=n.concat([s])),n=n.concat(bh(s,t))}),n},dt=(e,t)=>pE(t,e),Ch=(e,t,n)=>ts(e,t,n).isSome(),UE=(e,t)=>xE(e,t).isSome(),tu=(e,t)=>Gc(e,t).isSome();class Je{constructor(t,n){this.node=t,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}current(){return this.node}next(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node}prev(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node}prev2(t){return this.node=this.findPreviousNode(this.node,t),this.node}findSibling(t,n,s,o){if(t){if(!o&&t[n])return t[n];if(t!==this.rootNode){let r=t[s];if(r)return r;for(let a=t.parentNode;a&&a!==this.rootNode;a=a.parentNode)if(r=a[s],r)return r}}}findPreviousNode(t,n){if(t){const s=t.previousSibling;if(this.rootNode&&s===this.rootNode)return;if(s){if(!n){for(let r=s.lastChild;r;r=r.lastChild)if(!r.lastChild)return r}return s}const o=t.parentNode;if(o&&o!==this.rootNode)return o}}}const qr="\uFEFF",Ye="\xA0",nu=e=>e===qr,WE=e=>e.replace(/\uFEFF/g,""),jE=/^[ \t\r\n]*$/,Lo=e=>jE.test(e),qE=e=>{for(const t of e)if(!nu(t))return!1;return!0},KE=e=>" \f	\v".indexOf(e)!==-1,yh=e=>e===`
`||e==="\r",GE=(e,t)=>t<e.length&&t>=0?yh(e[t]):!1,Eh=(e,t=4,n=!0,s=!0)=>{const o=E6(" ",t),r=e.replace(/\t/g,o);return Mt(r,(l,i)=>KE(i)||i===Ye?l.pcIsSpace||l.str===""&&n||l.str.length===r.length-1&&s||GE(r,l.str.length+1)?{pcIsSpace:!1,str:l.str+Ye}:{pcIsSpace:!0,str:l.str+" "}:{pcIsSpace:yh(i),str:l.str+i},{pcIsSpace:!1,str:""}).str},Vs=e=>t=>!!t&&t.nodeType===e,_l=e=>!!e&&!Object.getPrototypeOf(e),q=Vs(1),Ln=e=>q(e)&&Lr(b.fromDom(e)),YE=e=>q(e)&&e.namespaceURI==="http://www.w3.org/2000/svg",Kr=e=>{const t=e.toLowerCase();return n=>$(n)&&n.nodeName.toLowerCase()===t},Cn=e=>{const t=e.map(n=>n.toLowerCase());return n=>{if(n&&n.nodeName){const s=n.nodeName.toLowerCase();return Ee(t,s)}return!1}},Al=(e,t)=>{const n=t.toLowerCase().split(" ");return s=>{if(q(s)){const o=s.ownerDocument.defaultView;if(o)for(let r=0;r<n.length;r++){const a=o.getComputedStyle(s,null);if((a?a.getPropertyValue(e):null)===n[r])return!0}}return!1}},XE=e=>t=>q(t)&&t.hasAttribute(e),Us=e=>q(e)&&e.hasAttribute("data-mce-bogus"),QE=e=>q(e)&&e.getAttribute("data-mce-bogus")==="all",Hn=e=>q(e)&&e.tagName==="TABLE",wh=e=>t=>!!(Ln(t)&&(t.contentEditable===e||t.getAttribute("data-mce-contenteditable")===e)),su=Cn(["textarea","input"]),O=Vs(3),JE=Vs(4),e8=Vs(7),ys=Vs(8),Gr=Vs(9),ou=Vs(11),De=Kr("br"),Sh=Kr("img"),ln=wh("true"),_e=wh("false"),ru=e=>Ln(e)&&e.isContentEditable&&$(e.parentElement)&&!e.parentElement.isContentEditable,Nl=Cn(["td","th"]),t8=Cn(["td","th","caption"]),In=Cn(["video","audio","object","embed"]),n8=Kr("li"),au=Kr("details"),s8=Kr("summary"),kh={skipBogus:!0,includeZwsp:!1,checkRootAsContent:!1},o8=(e,t,n)=>{const s=b.fromDom(t),o=b.fromDom(e),r=n.getWhitespaceElements();return Ch(o,l=>oe(r,pe(l)),K(Ce,s))},r8=e=>q(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id")),a8=(e,t)=>q(e)&&oe(t.getNonEmptyElements(),e.nodeName),l8=XE("data-mce-bookmark"),i8=e=>Vr(b.fromDom(e)).exists(t=>!bs(t)),c8=(e,t,n)=>Lo(e.data)&&!o8(e,t,n),u8=(e,t,n,s)=>O(e)&&!c8(e,t,n)&&(!s.includeZwsp||!qE(e.data)),lu=(e,t,n,s)=>we(s.isContent)&&s.isContent(t)||a8(t,e)||l8(t)||r8(t)||u8(t,n,e,s)||_e(t)||ln(t)&&i8(t),ss=(e,t,n)=>{const s={...kh,...n};if(s.checkRootAsContent&&lu(e,t,t,s))return!1;let o=t.firstChild,r=0;if(!o)return!0;const a=new Je(o,t);do{if(s.skipBogus&&q(o)){const l=o.getAttribute("data-mce-bogus");if(l){o=a.next(l==="all");continue}}if(ys(o)){o=a.next(!0);continue}if(De(o)){r++,o=a.next();continue}if(lu(e,o,t,s))return!1;o=a.next()}while(o);return r<=1},ft=(e,t,n)=>ss(e,t.dom,{checkRootAsContent:!0,...n}),xh=(e,t,n)=>lu(e,t,t,{includeZwsp:kh.includeZwsp,...n}),et=e=>{let t=e;return{get:()=>t,set:o=>{t=o}}},d8=e=>{const t=et(m.none()),n=()=>t.get().each(e);return{clear:()=>{n(),t.set(m.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:l=>{n(),t.set(m.some(l))}}},f8=e=>{const t=et(m.none()),n=()=>t.get().each(l=>clearInterval(l));return{clear:()=>{n(),t.set(m.none())},isSet:()=>t.get().isSome(),get:()=>t.get(),set:l=>{n(),t.set(m.some(setInterval(l,e)))}}},os=()=>{const e=d8(ie);return{...e,on:n=>e.get().each(n)}},_h=e=>{const t=e.toLowerCase();return t==="svg"?"svg":t==="math"?"math":"html"},Ws=e=>_h(e)!=="html",iu=e=>Ws(e.nodeName),Ah=e=>_h(e.nodeName),m8=["svg","math"],h8=()=>{const e=os(),t=()=>e.get().map(Ah).getOr("html");return{track:o=>(iu(o)?e.set(o):e.get().exists(r=>!r.contains(o))&&e.clear(),t()),current:t,reset:()=>{e.clear()}}},Tl="data-mce-block",g8=e=>se(Dt(e),t=>!/[A-Z]/.test(t)),cu=e=>ge(g8(e),t=>{const n=CSS.escape(t);return`${n}:`+ge(m8,s=>`not(${s} ${n})`).join(":")}).join(","),Nh=(e,t)=>$(t.querySelector(e))?(t.setAttribute(Tl,"true"),t.getAttribute("data-mce-selected")==="inline-boundary"&&t.removeAttribute("data-mce-selected"),!0):(t.removeAttribute(Tl),!1),Th=(e,t)=>{const n=cu(e.getTransparentElements()),s=cu(e.getBlockElements());return se(t.querySelectorAll(n),o=>Nh(s,o))},Rh=(e,t,n)=>{var s;const o=n?"lastChild":"firstChild";for(let r=t[o];r;r=r[o])if(ss(e,r,{checkRootAsContent:!0})){(s=r.parentNode)===null||s===void 0||s.removeChild(r);return}},p8=(e,t,n)=>{const s=document.createRange(),o=t.parentNode;if(o){s.setStartBefore(t),s.setEndBefore(n);const r=s.extractContents();Rh(e,r,!0),s.setStartAfter(n),s.setEndAfter(t);const a=s.extractContents();Rh(e,a,!1),ss(e,r,{checkRootAsContent:!0})||o.insertBefore(r,t),ss(e,n,{checkRootAsContent:!0})||o.insertBefore(n,t),ss(e,a,{checkRootAsContent:!0})||o.insertBefore(a,t),o.removeChild(t)}},v8=(e,t,n)=>{const s=e.getBlockElements(),o=b.fromDom(t),r=l=>pe(l)in s,a=l=>Ce(l,o);R(Qc(n),l=>{ts(l,r,a).each(i=>{const c=VE(l,u=>r(u)&&!e.isValidChild(pe(i),pe(u)));if(c.length>0){const u=Vr(i);R(c,d=>{ts(d,r,a).each(f=>{p8(e,f.dom,d.dom)})}),u.each(d=>Th(e,d.dom))}})})},b8=(e,t,n)=>{R([...n,...js(e,t)?[t]:[]],s=>R(dt(b.fromDom(s),s.nodeName.toLowerCase()),o=>{E8(e,o.dom)&&Cs(o)}))},uu=(e,t)=>{const n=Th(e,t);v8(e,t,n),b8(e,t,n)},C8=(e,t)=>{if(mu(e,t)){const n=cu(e.getBlockElements());Nh(n,t)}},y8=(e,t,n)=>{const s=r=>Ce(r,b.fromDom(t)),o=nh(b.fromDom(n),s);Tr(o,o.length-2).filter(Zt).fold(()=>uu(e,t),r=>uu(e,r.dom))},du=e=>e.hasAttribute(Tl),fu=(e,t)=>oe(e.getTransparentElements(),t),mu=(e,t)=>q(t)&&fu(e,t.nodeName),js=(e,t)=>mu(e,t)&&du(t),E8=(e,t)=>mu(e,t)&&!du(t),hu=(e,t)=>t.type===1&&fu(e,t.name)&&J(t.attr(Tl)),w8=Pn().browser,Ph=e=>Ke(e,Zt),S8=e=>w8.isFirefox()&&pe(e)==="table"?Ph(ut(e)).filter(t=>pe(t)==="caption").bind(t=>Ph(oh(t)).map(n=>{const s=n.dom.offsetTop,o=t.dom.offsetTop,r=t.dom.offsetHeight;return s<=o?-r:0})).getOr(0):0,Mh=(e,t)=>e.children&&Ee(e.children,t),k8=(e,t,n)=>{let s=0,o=0;const r=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&Bn(b.fromDom(e),"position")==="static"){const l=t.getBoundingClientRect();return s=l.left+(r.documentElement.scrollLeft||e.scrollLeft)-r.documentElement.clientLeft,o=l.top+(r.documentElement.scrollTop||e.scrollTop)-r.documentElement.clientTop,{x:s,y:o}}let a=t;for(;a&&a!==n&&a.nodeType&&!Mh(a,n);){const l=a;s+=l.offsetLeft||0,o+=l.offsetTop||0,a=l.offsetParent}for(a=t.parentNode;a&&a!==n&&a.nodeType&&!Mh(a,n);)s-=a.scrollLeft||0,o-=a.scrollTop||0,a=a.parentNode;o+=S8(b.fromDom(t))}return{x:s,y:o}},Dh=(e,t={})=>{let n=0;const s={},o=b.fromDom(e),r=hs(o),a=C=>{t.referrerPolicy=C},l=C=>{t.contentCssCors=C},i=C=>{Ve(Kc(o),C)},c=C=>{const y=Kc(o);yl(y,"#"+C).each(Ne)},u=C=>Ae(s,C).getOrThunk(()=>({id:"mce-u"+n++,passed:[],failed:[],count:0})),d=C=>new Promise((y,E)=>{let S;const T=L._addCacheSuffix(C),D=u(T);s[T]=D,D.count++;const V=(F,G)=>{R(F,xr),D.status=G,D.passed=[],D.failed=[],S&&(S.onload=null,S.onerror=null,S=null)},N=()=>V(D.passed,2),_=()=>V(D.failed,3);if(y&&D.passed.push(y),E&&D.failed.push(E),D.status===1)return;if(D.status===2){N();return}if(D.status===3){_();return}D.status=1;const P=b.fromTag("link",r.dom);Jn(P,{rel:"stylesheet",type:"text/css",id:D.id}),t.contentCssCors&&ot(P,"crossOrigin","anonymous"),t.referrerPolicy&&ot(P,"referrerpolicy",t.referrerPolicy),S=P.dom,S.onload=N,S.onerror=_,i(P),ot(P,"href",T)}),f=(C,y)=>{const E=u(C);s[C]=E,E.count++;const S=b.fromTag("style",r.dom);Jn(S,{rel:"stylesheet",type:"text/css",id:E.id,"data-mce-key":C}),S.dom.innerHTML=y,i(S)},h=C=>Promise.allSettled(ge(C,E=>d(E).then(j(E)))).then(E=>{const S=ko(E,T=>T.status==="fulfilled");return S.fail.length>0?Promise.reject(ge(S.fail,T=>T.reason)):ge(S.pass,T=>T.value)}),p=C=>{const y=L._addCacheSuffix(C);Ae(s,y).each(E=>{--E.count===0&&(delete s[y],c(E.id))})};return{load:d,loadRawCss:f,loadAll:h,unload:p,unloadRawCss:C=>{Ae(s,C).each(y=>{--y.count===0&&(delete s[C],c(y.id))})},unloadAll:C=>{R(C,y=>{p(y)})},_setReferrerPolicy:a,_setContentCssCors:l}},Oh=(()=>{const e=new WeakMap;return{forElement:(n,s)=>{const r=ps(n).dom;return m.from(e.get(r)).getOrThunk(()=>{const a=Dh(r,s);return e.set(r,a),a})}}})(),x8=e=>e.nodeName.toLowerCase()==="span",Bh=(e,t)=>$(e)&&(xh(t,e)||t.isInline(e.nodeName.toLowerCase())),_8=(e,t,n)=>{const s=new Je(e,t).prev(!1),o=new Je(e,t).next(!1),r=st(s)||Bh(s,n),a=st(o)||Bh(o,n);return r&&a},Lh=e=>x8(e)&&e.getAttribute("data-mce-type")==="bookmark",A8=(e,t,n)=>O(e)&&e.data.length>0&&_8(e,t,n),N8=e=>q(e)?e.childNodes.length>0:!1,T8=e=>ou(e)||Gr(e),gu=(e,t,n,s)=>{var o;const r=s||t;if(q(t)&&Lh(t))return t;const a=t.childNodes;for(let l=a.length-1;l>=0;l--)gu(e,a[l],n,r);if(q(t)){const l=t.childNodes;l.length===1&&Lh(l[0])&&((o=t.parentNode)===null||o===void 0||o.insertBefore(l[0],t))}return!T8(t)&&!xh(n,t)&&!N8(t)&&!A8(t,r,n)&&e.remove(t),t},R8=L.makeMap,Rl=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Pl=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,P8=/[<>&\"\']/g,M8=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,D8={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"},qs={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},O8={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},B8=e=>{const t=b.fromTag("div").dom;return t.innerHTML=e,t.textContent||t.innerText||e},Hh=(e,t)=>{const n={};if(e){const s=e.split(",");t=t||10;for(let o=0;o<s.length;o+=2){const r=String.fromCharCode(parseInt(s[o],t));if(!qs[r]){const a="&"+s[o+1]+";";n[r]=a,n[a]=r}}return n}else return},pu=Hh("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Ih=(e,t)=>e.replace(t?Rl:Pl,n=>qs[n]||n),L8=e=>(""+e).replace(P8,t=>qs[t]||t),$h=(e,t)=>e.replace(t?Rl:Pl,n=>n.length>1?"&#"+((n.charCodeAt(0)-55296)*1024+(n.charCodeAt(1)-56320)+65536)+";":qs[n]||"&#"+n.charCodeAt(0)+";"),vu=(e,t,n)=>{const s=n||pu;return e.replace(t?Rl:Pl,o=>qs[o]||s[o]||o)},Ks={encodeRaw:Ih,encodeAllRaw:L8,encodeNumeric:$h,encodeNamed:vu,getEncodeFunc:(e,t)=>{const n=Hh(t)||pu,s=(a,l)=>a.replace(l?Rl:Pl,i=>qs[i]!==void 0?qs[i]:n[i]!==void 0?n[i]:i.length>1?"&#"+((i.charCodeAt(0)-55296)*1024+(i.charCodeAt(1)-56320)+65536)+";":"&#"+i.charCodeAt(0)+";"),o=(a,l)=>vu(a,l,n),r=R8(e.replace(/\+/g,","));return r.named&&r.numeric?s:r.named?t?o:vu:r.numeric?$h:Ih},decode:e=>e.replace(M8,(t,n)=>n?(n.charAt(0).toLowerCase()==="x"?n=parseInt(n.substr(1),16):n=parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(n&1023))):D8[n]||String.fromCharCode(n)):O8[t]||pu[t]||B8(t))},lt=(e,t)=>(e=L.trim(e),e?e.split(t||" "):[]),Zh=e=>new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$"),H8=e=>nt(e)&&e.source&&Object.prototype.toString.call(e)==="[object RegExp]",I8=e=>{const t=n=>Me(n)?ge(n,t):H8(n)?new RegExp(n.source,n.flags):nt(n)?Rr(n,t):n;return t(e)},$8=e=>{const t=/^(~)?(.+)$/;return qt(lt(e,","),n=>{const s=t.exec(n);if(s){const r=s[1]==="~"?"span":"div",a=s[2];return[{cloneName:r,name:a}]}else return[]})},Fh=e=>Object.freeze(["id","accesskey","class","dir","lang","style","tabindex","title","role",...e!=="html4"?["contenteditable","contextmenu","draggable","dropzone","hidden","spellcheck","translate","itemprop","itemscope","itemtype"]:[],...e!=="html5-strict"?["xml:lang"]:[]]),zh=e=>{let t,n;t="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",n="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(t+=" article aside details dialog figure main header footer hgroup section nav "+"a ins del canvas map",n+=" audio canvas command data datalist mark meter output picture progress time wbr video ruby bdi keygen svg"),e!=="html5-strict"&&(n=[n,"acronym applet basefont big font strike tt"].join(" "),t=[t,"center dir isindex noframes"].join(" "));const s=[t,n].join(" ");return{blockContent:t,phrasingContent:n,flowContent:s}},bu=e=>{const{blockContent:t,phrasingContent:n,flowContent:s}=zh(e),o=r=>Object.freeze(r.split(" "));return Object.freeze({blockContent:o(t),phrasingContent:o(n),flowContent:o(s)})},Z8={html4:Tn(()=>bu("html4")),html5:Tn(()=>bu("html5")),"html5-strict":Tn(()=>bu("html5-strict"))},Vh=(e,t)=>{const{blockContent:n,phrasingContent:s,flowContent:o}=Z8[e]();return t==="blocks"?m.some(n):t==="phrasing"?m.some(s):t==="flow"?m.some(o):m.none()},F8=e=>{const t=Fh(e),{phrasingContent:n,flowContent:s}=zh(e),o={},r=(i,c,u)=>{o[i]={attributes:Mc(c,j({})),attributesOrder:c,children:Mc(u,j({}))}},a=(i,c="",u="")=>{const d=lt(u),f=lt(i);let h=f.length;const p=[...t,...lt(c)];for(;h--;)r(f[h],p.slice(),d)},l=(i,c)=>{const u=lt(i),d=lt(c);let f=u.length;for(;f--;){const h=o[u[f]];for(let p=0,g=d.length;p<g;p++)h.attributes[d[p]]={},h.attributesOrder.push(d[p])}};return e!=="html5-strict"&&(R(lt("acronym applet basefont big font strike tt"),u=>{a(u,"",n)}),R(lt("center dir isindex noframes"),u=>{a(u,"",s)})),a("html","manifest","head body"),a("head","","base command link meta noscript script style title"),a("title hr noscript br"),a("base","href target"),a("link","href rel media hreflang type sizes hreflang"),a("meta","name http-equiv content charset"),a("style","media type scoped"),a("script","src async defer type charset"),a("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",s),a("dd div","",s),a("address dt caption","",e==="html4"?n:s),a("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",n),a("blockquote","cite",s),a("ol","reversed start type","li"),a("ul","","li"),a("li","value",s),a("dl","","dt dd"),a("a","href target rel media hreflang type",e==="html4"?n:s),a("q","cite",n),a("ins del","cite datetime",s),a("img","src sizes srcset alt usemap ismap width height"),a("iframe","src name width height",s),a("embed","src type width height"),a("object","data type typemustmatch name usemap form width height",[s,"param"].join(" ")),a("param","name value"),a("map","name",[s,"area"].join(" ")),a("area","alt coords shape href target rel media hreflang type"),a("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),a("colgroup","span","col"),a("col","span"),a("tbody thead tfoot","","tr"),a("tr","","td th"),a("td","colspan rowspan headers",s),a("th","colspan rowspan headers scope abbr",s),a("form","accept-charset action autocomplete enctype method name novalidate target",s),a("fieldset","disabled form name",[s,"legend"].join(" ")),a("label","form for",n),a("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),a("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?s:n),a("select","disabled form multiple name required size","option optgroup"),a("optgroup","disabled label","option"),a("option","disabled label selected value"),a("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),a("menu","type label",[s,"li"].join(" ")),a("noscript","",s),e!=="html4"&&(a("wbr"),a("ruby","",[n,"rt rp"].join(" ")),a("figcaption","",s),a("mark rt rp bdi","",n),a("summary","",[n,"h1 h2 h3 h4 h5 h6"].join(" ")),a("canvas","width height",s),a("data","value",n),a("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[s,"track source"].join(" ")),a("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[s,"track source"].join(" ")),a("picture","","img source"),a("source","src srcset type media sizes"),a("track","kind src srclang label default"),a("datalist","",[n,"option"].join(" ")),a("article section nav aside main header footer","",s),a("hgroup","","h1 h2 h3 h4 h5 h6"),a("figure","",[s,"figcaption"].join(" ")),a("time","datetime",n),a("dialog","open",s),a("command","type label icon disabled checked radiogroup command"),a("output","for form name",n),a("progress","value max",n),a("meter","value min max low high optimum",n),a("details","open",[s,"summary"].join(" ")),a("keygen","autofocus challenge disabled form keytype name"),r("svg","id tabindex lang xml:space class style x y width height viewBox preserveAspectRatio zoomAndPan transform".split(" "),[])),e!=="html5-strict"&&(l("script","language xml:space"),l("style","xml:space"),l("object","declare classid code codebase codetype archive standby align border hspace vspace"),l("embed","align name hspace vspace"),l("param","valuetype type"),l("a","charset name rev shape coords"),l("br","clear"),l("applet","codebase archive code object alt name width height align hspace vspace"),l("img","name longdesc align border hspace vspace"),l("iframe","longdesc frameborder marginwidth marginheight scrolling align"),l("font basefont","size color face"),l("input","usemap align"),l("select"),l("textarea"),l("h1 h2 h3 h4 h5 h6 div p legend caption","align"),l("ul","type compact"),l("li","type"),l("ol dl menu dir","compact"),l("pre","width xml:space"),l("hr","align noshade size width"),l("isindex","prompt"),l("table","summary width frame rules cellspacing cellpadding align bgcolor"),l("col","width align char charoff valign"),l("colgroup","width align char charoff valign"),l("thead","align char charoff valign"),l("tr","align char charoff valign bgcolor"),l("th","axis align char charoff valign nowrap bgcolor width height"),l("form","accept"),l("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),l("tfoot","align char charoff valign"),l("tbody","align char charoff valign"),l("area","nohref"),l("body","background bgcolor text link vlink alink")),e!=="html4"&&(l("input button select textarea","autofocus"),l("input textarea","placeholder"),l("a","download"),l("link script img","crossorigin"),l("img","loading"),l("iframe","sandbox seamless allow allowfullscreen loading referrerpolicy")),e!=="html4"&&R([o.video,o.audio],i=>{delete i.children.audio,delete i.children.video}),R(lt("a form meter progress dfn"),i=>{o[i]&&delete o[i].children[i]}),delete o.caption.children.table,delete o.script,o},z8=e=>e==="-"?"remove":"add",Cu=e=>{const t=/^(@?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)$/;return m.from(t.exec(e)).map(n=>({preset:n[1]==="@",name:n[2]}))},V8=e=>{const t=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;return qt(lt(e,","),n=>{const s=t.exec(n);if(s){const o=s[1],r=o?z8(o):"replace",a=s[2],l=qt(lt(s[3],"|"),i=>Cu(i).toArray());return[{operation:r,name:a,validChildren:l}]}else return[]})},U8=(e,t)=>{const n=/^([!\-])?(\w+[\\:]:\w+|[^=~<]+)?(?:([=~<])(.*))?$/,s=/[*?+]/,{attributes:o,attributesOrder:r}=t;return R(lt(e,"|"),a=>{const l=n.exec(a);if(l){const i={},c=l[1],u=l[2].replace(/[\\:]:/g,":"),d=l[3],f=l[4];if(c==="!"&&(t.attributesRequired=t.attributesRequired||[],t.attributesRequired.push(u),i.required=!0),c==="-"){delete o[u],r.splice(L.inArray(r,u),1);return}if(d&&(d==="="?(t.attributesDefault=t.attributesDefault||[],t.attributesDefault.push({name:u,value:f}),i.defaultValue=f):d==="~"?(t.attributesForced=t.attributesForced||[],t.attributesForced.push({name:u,value:f}),i.forcedValue=f):d==="<"&&(i.validValues=L.makeMap(f,"?"))),s.test(u)){const h=i;t.attributePatterns=t.attributePatterns||[],h.pattern=Zh(u),t.attributePatterns.push(h)}else o[u]||r.push(u),o[u]=i}})},W8=(e,t)=>{xe(e.attributes,(n,s)=>{t.attributes[s]=n}),t.attributesOrder.push(...e.attributesOrder)},j8=(e,t)=>{const n=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/;return qt(lt(t,","),s=>{const o=n.exec(s);if(o){const r=o[1],a=o[2],l=o[3],i=o[4],c=o[5],u={attributes:{},attributesOrder:[]};if(e.each(d=>W8(d,u)),r==="#"?u.paddEmpty=!0:r==="-"&&(u.removeEmpty=!0),i==="!"&&(u.removeEmptyAttrs=!0),c&&U8(c,u),l&&(u.outputName=a),a==="@")if(e.isNone())e=m.some(u);else return[];return[l?{name:a,element:u,aliasName:l}:{name:a,element:u}]}else return[]})},Ml={},Yr=L.makeMap,yn=L.each,Uh=L.extend,Wh=L.explode,jh=(e,t={})=>{const n=Yr(e," ",Yr(e.toUpperCase()," "));return Uh(n,t)},qh=e=>jh("td th li dt dd figcaption caption details summary",e.getTextBlockElements()),yu=(e,t)=>{if(e){const n={};return J(e)&&(e={"*":e}),yn(e,(s,o)=>{n[o]=n[o.toUpperCase()]=t==="map"?Yr(s,/[, ]/):Wh(s,/[, ]/)}),n}else return},Es=(e={})=>{var t;const n={},s={};let o=[];const r={},a={},l=(Q,de,Oe)=>{const Ze=e[Q];if(Ze)return Yr(Ze,/[, ]/,Yr(Ze.toUpperCase(),/[, ]/));{let qe=Ml[Q];return qe||(qe=jh(de,Oe),Ml[Q]=qe),qe}},i=(t=e.schema)!==null&&t!==void 0?t:"html5",c=F8(i);e.verify_html===!1&&(e.valid_elements="*[*]");const u=yu(e.valid_styles),d=yu(e.invalid_styles,"map"),f=yu(e.valid_classes,"map"),h=l("whitespace_elements","pre script noscript style textarea video audio iframe object code"),p=l("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),g=l("void_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),v=l("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls allowfullscreen"),C="td th iframe video audio object script code",y=l("non_empty_elements",C+" pre svg textarea summary",g),E=l("move_caret_before_on_enter_elements",C+" table",g),S="h1 h2 h3 h4 h5 h6",T=l("text_block_elements",S+" p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),D=l("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary html body multicol listing",T),V=l("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp"),N=l("transparent_elements","a ins del canvas map"),_=l("wrap_block_elements","pre "+S);yn("script noscript iframe noframes noembed title style textarea xmp plaintext".split(" "),Q=>{a[Q]=new RegExp("</"+Q+"[^>]*>","gi")});const P=Q=>{const de=m.from(n["@"]),Oe=/[*?+]/;R(j8(de,Q??""),({name:Ze,element:qe,aliasName:Ie})=>{if(Ie&&(n[Ie]=qe),Oe.test(Ze)){const Te=qe;Te.pattern=Zh(Ze),o.push(Te)}else n[Ze]=qe})},F=Q=>{o=[],R(Dt(n),de=>{delete n[de]}),P(Q)},G=(Q,de)=>{var Oe,Ze;delete Ml.text_block_elements,delete Ml.block_elements;const qe=de.extends?!gt(de.extends):!1,Ie=de.extends;if(s[Q]=Ie?s[Ie]:{},r[Q]=Ie??Q,y[Q.toUpperCase()]={},y[Q]={},qe||(D[Q.toUpperCase()]={},D[Q]={}),Ie&&!n[Q]&&n[Ie]){const Te=I8(n[Ie]);delete Te.removeEmptyAttrs,delete Te.removeEmpty,n[Q]=Te}else n[Q]={attributesOrder:[],attributes:{}};if(Me(de.attributes)){const Te=kt=>{Re.attributesOrder.push(kt),Re.attributes[kt]={}},Re=(Oe=n[Q])!==null&&Oe!==void 0?Oe:{};delete Re.attributesDefault,delete Re.attributesForced,delete Re.attributePatterns,delete Re.attributesRequired,Re.attributesOrder=[],Re.attributes={},R(de.attributes,kt=>{const mn=Fh(i);Cu(kt).each(({preset:Gn,name:_n})=>{Gn?_n==="global"&&R(mn,Te):Te(_n)})}),n[Q]=Re}if(Nn(de.padEmpty)){const Te=(Ze=n[Q])!==null&&Ze!==void 0?Ze:{};Te.paddEmpty=de.padEmpty,n[Q]=Te}if(Me(de.children)){const Te={},Re=mn=>{Te[mn]={}},kt=mn=>{Vh(i,mn).each(Gn=>{R(Gn,Re)})};R(de.children,mn=>{Cu(mn).each(({preset:Gn,name:_n})=>{Gn?kt(_n):Re(_n)})}),s[Q]=Te}Ie&&xe(s,(Te,Re)=>{Te[Ie]&&(s[Re]=Te=Uh({},s[Re]),Te[Q]=Te[Ie])})},re=Q=>{R($8(Q??""),({name:de,cloneName:Oe})=>{G(de,{extends:Oe})})},le=Q=>{nt(Q)?xe(Q,(de,Oe)=>G(Oe,de)):J(Q)&&re(Q)},he=Q=>{R(V8(Q??""),({operation:de,name:Oe,validChildren:Ze})=>{const qe=de==="replace"?{"#comment":{}}:s[Oe],Ie=Re=>{de==="remove"?delete qe[Re]:qe[Re]={}},Te=Re=>{Vh(i,Re).each(kt=>{R(kt,Ie)})};R(Ze,({preset:Re,name:kt})=>{Re?Te(kt):Ie(kt)}),s[Oe]=qe})},be=Q=>{const de=n[Q];if(de)return de;let Oe=o.length;for(;Oe--;){const Ze=o[Oe];if(Ze.pattern.test(Q))return Ze}},He=()=>{e.valid_elements?(F(e.valid_elements),yn(c,(Q,de)=>{s[de]=Q.children})):(yn(c,(Q,de)=>{n[de]={attributes:Q.attributes,attributesOrder:Q.attributesOrder},s[de]=Q.children}),yn(lt("strong/b em/i"),Q=>{const de=lt(Q,"/");n[de[1]].outputName=de[0]}),yn(V,(Q,de)=>{n[de]&&(e.padd_empty_block_inline_children&&(n[de].paddInEmptyBlock=!0),n[de].removeEmpty=!0)}),yn(lt("ol ul blockquote a table tbody"),Q=>{n[Q]&&(n[Q].removeEmpty=!0)}),yn(lt("p h1 h2 h3 h4 h5 h6 th td pre div address caption li summary"),Q=>{n[Q]&&(n[Q].paddEmpty=!0)}),yn(lt("span"),Q=>{n[Q].removeEmptyAttrs=!0})),delete n.svg,le(e.custom_elements),he(e.valid_children),P(e.extended_valid_elements),he("+ol[ul|ol],+ul[ul|ol]"),yn({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(Q,de)=>{n[de]&&(n[de].parentsRequired=lt(Q))}),e.invalid_elements&&yn(Wh(e.invalid_elements),Q=>{n[Q]&&delete n[Q]}),be("span")||P("span[!data-mce-type|*]")},We=j(u),je=j(d),I=j(f),Y=j(v),me=j(D),z=j(T),M=j(V),Z=j(Object.seal(g)),te=j(p),ye=j(y),ce=j(E),tt=j(h),on=j(N),Kn=j(_),wt=j(Object.seal(a)),fn=(Q,de)=>{const Oe=s[Q.toLowerCase()];return!!(Oe&&Oe[de.toLowerCase()])},Wt=(Q,de)=>{const Oe=be(Q);if(Oe)if(de){if(Oe.attributes[de])return!0;const Ze=Oe.attributePatterns;if(Ze){let qe=Ze.length;for(;qe--;)if(Ze[qe].pattern.test(de))return!0}}else return!0;return!1},gt=Q=>oe(me(),Q),St=Q=>!Ge(Q,"#")&&Wt(Q)&&!gt(Q),rn=Q=>oe(Kn(),Q)||St(Q),Bs=j(r);return He(),{type:i,children:s,elements:n,getValidStyles:We,getValidClasses:I,getBlockElements:me,getInvalidStyles:je,getVoidElements:Z,getTextBlockElements:z,getTextInlineElements:M,getBoolAttrs:Y,getElementRule:be,getSelfClosingElements:te,getNonEmptyElements:ye,getMoveCaretBeforeOnEnterElements:ce,getWhitespaceElements:tt,getTransparentElements:on,getSpecialElements:wt,isValidChild:fn,isValid:Wt,isBlock:gt,isInline:St,isWrapper:rn,getCustomElements:Bs,addValidElements:P,setValidElements:F,addCustomElements:le,addValidChildren:he}},q8=e=>({value:K8(e)}),K8=e=>Mm(e,"#").toUpperCase(),Eu=e=>{const t=e.toString(16);return(t.length===1?"0"+t:t).toUpperCase()},G8=e=>{const t=Eu(e.red)+Eu(e.green)+Eu(e.blue);return q8(t)},Kh=/^\s*rgb\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*\)\s*$/i,Gh=/^\s*rgba\s*\(\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*(\d+)\s*[,\s]\s*((?:\d?\.\d+|\d+)%?)\s*\)\s*$/i,Y8=(e,t,n,s)=>({red:e,green:t,blue:n,alpha:s}),Yh=(e,t,n,s)=>{const o=parseInt(e,10),r=parseInt(t,10),a=parseInt(n,10),l=parseFloat(s);return Y8(o,r,a,l)},X8=e=>Kh.test(e)?"rgb":Gh.test(e)?"rgba":"other",Xh=e=>{const t=Kh.exec(e);if(t!==null)return m.some(Yh(t[1],t[2],t[3],"1"));const n=Gh.exec(e);return n!==null?m.some(Yh(n[1],n[2],n[3],n[4])):m.none()},Q8=e=>`rgba(${e.red},${e.green},${e.blue},${e.alpha})`,Xr=e=>Xh(e).map(G8).map(t=>"#"+t.value).getOr(e),wu=(e={},t)=>{const n=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,s=/\s*([^:]+):\s*([^;]+);?/g,o=/\s+$/,r={};let a,l;const i=qr;t&&(a=t.getValidStyles(),l=t.getInvalidStyles());const c=(`\\" \\' \\; \\: ; : `+i).split(" ");for(let d=0;d<c.length;d++)r[c[d]]=i+d,r[i+d]=c[d];const u={parse:d=>{const f={};let h=!1;const p=e.url_converter,g=e.url_converter_scope||u,v=(N,_,P)=>{const F=f[N+"-top"+_];if(!F)return;const G=f[N+"-right"+_];if(!G)return;const re=f[N+"-bottom"+_];if(!re)return;const le=f[N+"-left"+_];if(!le)return;const he=[F,G,re,le];let be=he.length-1;for(;be--&&he[be]===he[be+1];);be>-1&&P||(f[N+_]=be===-1?he[0]:he.join(" "),delete f[N+"-top"+_],delete f[N+"-right"+_],delete f[N+"-bottom"+_],delete f[N+"-left"+_])},C=N=>{const _=f[N];if(!_)return;const P=_.indexOf(",")>-1?[_]:_.split(" ");let F=P.length;for(;F--;)if(P[F]!==P[0])return!1;return f[N]=P[0],!0},y=(N,_,P,F)=>{C(_)&&C(P)&&C(F)&&(f[N]=f[_]+" "+f[P]+" "+f[F],delete f[_],delete f[P],delete f[F])},E=N=>(h=!0,r[N]),S=(N,_)=>(h&&(N=N.replace(/\uFEFF[0-9]/g,P=>r[P])),_||(N=N.replace(/\\([\'\";:])/g,"$1")),N),T=N=>String.fromCharCode(parseInt(N.slice(1),16)),D=N=>N.replace(/\\[0-9a-f]+/gi,T),V=(N,_,P,F,G,re)=>{if(G=G||re,G)return G=S(G),"'"+G.replace(/\'/g,"\\'")+"'";if(_=S(_||P||F||""),!e.allow_script_urls){const le=_.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(le)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(le))return""}return p&&(_=p.call(g,_,"style")),"url('"+_.replace(/\'/g,"\\'")+"')"};if(d){d=d.replace(/[\u0000-\u001F]/g,""),d=d.replace(/\\[\"\';:\uFEFF]/g,E).replace(/\"[^\"]+\"|\'[^\']+\'/g,_=>_.replace(/[;:]/g,E));let N;for(;N=s.exec(d);){s.lastIndex=N.index+N[0].length;let _=N[1].replace(o,"").toLowerCase(),P=N[2].replace(o,"");if(_&&P){if(_=D(_),P=D(P),_.indexOf(i)!==-1||_.indexOf('"')!==-1||!e.allow_script_urls&&(_==="behavior"||/expression\s*\(|\/\*|\*\//.test(P)))continue;_==="font-weight"&&P==="700"?P="bold":(_==="color"||_==="background-color")&&(P=P.toLowerCase()),X8(P)==="rgb"&&Xh(P).each(F=>{P=Xr(Q8(F)).toLowerCase()}),P=P.replace(n,V),f[_]=h?S(P,!0):P}}v("border","",!0),v("border","-width"),v("border","-color"),v("border","-style"),v("padding",""),v("margin",""),y("border","border-width","border-style","border-color"),f.border==="medium none"&&delete f.border,f["border-image"]==="none"&&delete f["border-image"]}return f},serialize:(d,f)=>{let h="";const p=(v,C)=>{const y=C[v];if(y)for(let E=0,S=y.length;E<S;E++){const T=y[E],D=d[T];D&&(h+=(h.length>0?" ":"")+T+": "+D+";")}},g=(v,C)=>{if(!l||!C)return!0;let y=l["*"];return y&&y[v]?!1:(y=l[C],!(y&&y[v]))};return f&&a?(p("*",a),p(f,a)):xe(d,(v,C)=>{v&&g(C,f)&&(h+=(h.length>0?" ":"")+C+": "+v+";")}),h}};return u},J8={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},ew=e=>e instanceof Event||we(e.initEvent),tw=e=>e.isDefaultPrevented===$e||e.isDefaultPrevented===Pe,nw=e=>ze(e.preventDefault)||ew(e),Qh=(e,t)=>{const n=t??{};for(const s in e)oe(J8,s)||(n[s]=e[s]);return $(e.composedPath)&&(n.composedPath=()=>e.composedPath()),$(e.getModifierState)&&(n.getModifierState=s=>e.getModifierState(s)),$(e.getTargetRanges)&&(n.getTargetRanges=()=>e.getTargetRanges()),n},Su=(e,t,n,s)=>{var o;const r=Qh(t,s);return r.type=e,ze(r.target)&&(r.target=(o=r.srcElement)!==null&&o!==void 0?o:n),nw(t)&&(r.preventDefault=()=>{r.defaultPrevented=!0,r.isDefaultPrevented=$e,we(t.preventDefault)&&t.preventDefault()},r.stopPropagation=()=>{r.cancelBubble=!0,r.isPropagationStopped=$e,we(t.stopPropagation)&&t.stopPropagation()},r.stopImmediatePropagation=()=>{r.isImmediatePropagationStopped=$e,r.stopPropagation()},tw(r)||(r.isDefaultPrevented=r.defaultPrevented===!0?$e:Pe,r.isPropagationStopped=r.cancelBubble===!0?$e:Pe,r.isImmediatePropagationStopped=Pe)),r},sw="mce-data-",ow=/^(?:mouse|contextmenu)|click/,ku=(e,t,n,s)=>{e.addEventListener(t,n,s||!1)},Dl=(e,t,n,s)=>{e.removeEventListener(t,n,s||!1)},rw=e=>$(e)&&ow.test(e.type),Qr=(e,t)=>{const n=Su(e.type,e,document,t);if(rw(e)&&st(e.pageX)&&!st(e.clientX)){const s=n.target.ownerDocument||document,o=s.documentElement,r=s.body,a=n;a.pageX=e.clientX+(o&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),a.pageY=e.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)}return n},aw=(e,t,n)=>{const s=e.document,o={type:"ready"};if(n.domLoaded){t(o);return}const r=()=>s.readyState==="complete"||s.readyState==="interactive"&&s.body,a=()=>{Dl(e,"DOMContentLoaded",a),Dl(e,"load",a),n.domLoaded||(n.domLoaded=!0,t(o)),e=null};r()?a():ku(e,"DOMContentLoaded",a),n.domLoaded||ku(e,"load",a)};class Gs{constructor(){this.domLoaded=!1,this.events={},this.count=1,this.expando=sw+(+new Date).toString(32),this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}bind(t,n,s,o){const r=this;let a;const l=window,i=f=>{r.executeHandlers(Qr(f||l.event),c)};if(!t||O(t)||ys(t))return s;let c;t[r.expando]?c=t[r.expando]:(c=r.count++,t[r.expando]=c,r.events[c]={}),o=o||t;const u=n.split(" ");let d=u.length;for(;d--;){let f=u[d],h=i,p=!1,g=!1;if(f==="DOMContentLoaded"&&(f="ready"),r.domLoaded&&f==="ready"&&t.readyState==="complete"){s.call(o,Qr({type:f}));continue}!r.hasFocusIn&&(f==="focusin"||f==="focusout")&&(p=!0,g=f==="focusin"?"focus":"blur",h=v=>{const C=Qr(v||l.event);C.type=C.type==="focus"?"focusin":"focusout",r.executeHandlers(C,c)}),a=r.events[c][f],a?f==="ready"&&r.domLoaded?s(Qr({type:f})):a.push({func:s,scope:o}):(r.events[c][f]=a=[{func:s,scope:o}],a.fakeName=g,a.capture=p,a.nativeHandler=h,f==="ready"?aw(t,h,r):ku(t,g||f,h,p))}return t=a=null,s}unbind(t,n,s){if(!t||O(t)||ys(t))return this;const o=t[this.expando];if(o){let r=this.events[o];if(n){const a=n.split(" ");let l=a.length;for(;l--;){const i=a[l],c=r[i];if(c){if(s){let u=c.length;for(;u--;)if(c[u].func===s){const d=c.nativeHandler,f=c.fakeName,h=c.capture,p=c.slice(0,u).concat(c.slice(u+1));p.nativeHandler=d,p.fakeName=f,p.capture=h,r[i]=p}}(!s||c.length===0)&&(delete r[i],Dl(t,c.fakeName||i,c.nativeHandler,c.capture))}}}else xe(r,(a,l)=>{Dl(t,a.fakeName||l,a.nativeHandler,a.capture)}),r={};for(const a in r)if(oe(r,a))return this;delete this.events[o];try{delete t[this.expando]}catch{t[this.expando]=null}}return this}fire(t,n,s){return this.dispatch(t,n,s)}dispatch(t,n,s){if(!t||O(t)||ys(t))return this;const o=Qr({type:n,target:t},s);do{const r=t[this.expando];r&&this.executeHandlers(o,r),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!o.isPropagationStopped());return this}clean(t){if(!t||O(t)||ys(t))return this;if(t[this.expando]&&this.unbind(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName){this.unbind(t);const n=t.getElementsByTagName("*");let s=n.length;for(;s--;)t=n[s],t[this.expando]&&this.unbind(t)}return this}destroy(){this.events={}}cancel(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}executeHandlers(t,n){const s=this.events[n],o=s&&s[t.type];if(o)for(let r=0,a=o.length;r<a;r++){const l=o[r];if(l&&l.func.call(l.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}}}Gs.Event=new Gs;const xu=L.each,lw=L.grep,_u="data-mce-style",iw=L.makeMap("fill-opacity font-weight line-height opacity orphans widows z-index zoom"," "),Jr=(e,t,n)=>{ze(n)||n===""?rt(e,t):ot(e,t,n)},Jh=e=>e.replace(/[A-Z]/g,t=>"-"+t.toLowerCase()),Ho=(e,t)=>{let n=0;if(e)for(let s=e.nodeType,o=e.previousSibling;o;o=o.previousSibling){const r=o.nodeType;t&&O(o)&&(r===s||!o.data.length)||(n++,s=r)}return n},e0=(e,t)=>{const n=Ft(t,"style"),s=e.serialize(e.parse(n),pe(t));Jr(t,_u,s)},cw=(e,t)=>an(e)?oe(iw,t)?e+"":e+"px":e,t0=(e,t,n)=>{const s=Jh(t);ze(n)||n===""?uh(e,s):ih(e,s,cw(n,s))},uw=(e,t,n)=>{const s=t.keep_values,o={set:(a,l,i)=>{const c=b.fromDom(a);we(t.url_converter)&&$(l)&&(l=t.url_converter.call(t.url_converter_scope||n(),String(l),i,a));const u="data-mce-"+i;Jr(c,u,l),Jr(c,i,l)},get:(a,l)=>{const i=b.fromDom(a);return Ft(i,"data-mce-"+l)||Ft(i,l)}},r={style:{set:(a,l)=>{const i=b.fromDom(a);s&&Jr(i,_u,l),rt(i,"style"),J(l)&&wl(i,e.parse(l))},get:a=>{const l=b.fromDom(a),i=Ft(l,_u)||Ft(l,"style");return e.serialize(e.parse(i),pe(l))}}};return s&&(r.href=r.src=o),r},ke=(e,t={})=>{const n={},s=window,o={};let r=0;const a=!0,l=!0,i=Oh.forElement(b.fromDom(e),{contentCssCors:t.contentCssCors,referrerPolicy:t.referrerPolicy}),c=[],u=t.schema?t.schema:Es({}),d=wu({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),f=t.ownEvents?new Gs:Gs.Event,h=u.getBlockElements(),p=w=>J(w)?oe(h,w):q(w)&&(oe(h,w.nodeName)||js(u,w)),g=w=>w&&e&&J(w)?e.getElementById(w):w,v=w=>{const k=g(w);return $(k)?b.fromDom(k):null},C=(w,k,H="")=>{let B;const ee=v(w);if($(ee)&&Zt(ee)){const fe=xc[k];fe&&fe.get?B=fe.get(ee.dom,k):B=Ft(ee,k)}return $(B)?B:H},y=w=>{const k=g(w);return ze(k)?[]:k.attributes},E=(w,k,H)=>{Y(w,B=>{if(q(B)){const ee=b.fromDom(B),fe=H===""?null:H,Be=Ft(ee,k),An=xc[k];An&&An.set?An.set(ee.dom,fe,k):Jr(ee,k,fe),Be!==fe&&t.onSetAttrib&&t.onSetAttrib({attrElm:ee.dom,attrName:k,attrValue:fe})}})},S=(w,k)=>w.cloneNode(k),T=()=>t.root_element||e.body,D=w=>{const k=vh(w);return{x:k.x,y:k.y,w:k.width,h:k.height}},V=(w,k)=>k8(e.body,g(w),k),N=(w,k,H)=>{Y(w,B=>{const ee=b.fromDom(B);t0(ee,k,H),t.update_styles&&e0(d,ee)})},_=(w,k)=>{Y(w,H=>{const B=b.fromDom(H);xe(k,(ee,fe)=>{t0(B,fe,ee)}),t.update_styles&&e0(d,B)})},P=(w,k,H)=>{const B=g(w);if(!(ze(B)||!Ln(B)&&!YE(B)))return H?Bn(b.fromDom(B),Jh(k)):(k=k.replace(/-(\D)/g,(ee,fe)=>fe.toUpperCase()),k==="float"&&(k="cssFloat"),B.style?B.style[k]:void 0)},F=w=>{const k=g(w);if(!k)return{w:0,h:0};let H=P(k,"width"),B=P(k,"height");return(!H||H.indexOf("px")===-1)&&(H="0"),(!B||B.indexOf("px")===-1)&&(B="0"),{w:parseInt(H,10)||k.offsetWidth||k.clientWidth,h:parseInt(B,10)||k.offsetHeight||k.clientHeight}},G=w=>{const k=g(w),H=V(k),B=F(k);return{x:H.x,y:H.y,w:B.w,h:B.h}},re=(w,k)=>{if(!w)return!1;const H=Me(w)?w:[w];return Le(H,B=>vn(b.fromDom(B),k))},le=(w,k,H,B)=>{const ee=[];let fe=g(w);B=B===void 0;const Be=H||(T().nodeName!=="BODY"?T().parentNode:null);if(J(k))if(k==="*")k=q;else{const An=k;k=gn=>re(gn,An)}for(;fe&&!(fe===Be||ze(fe.nodeType)||Gr(fe)||ou(fe));){if(!k||k(fe))if(B)ee.push(fe);else return[fe];fe=fe.parentNode}return B?ee:null},he=(w,k,H)=>{const B=le(w,k,H,!1);return B&&B.length>0?B[0]:null},be=(w,k,H)=>{let B=k;if(w){J(k)&&(B=ee=>re(ee,k));for(let ee=w[H];ee;ee=ee[H])if(we(B)&&B(ee))return ee}return null},He=(w,k)=>be(w,k,"nextSibling"),We=(w,k)=>be(w,k,"previousSibling"),je=w=>we(w.querySelectorAll),I=(w,k)=>{var H,B;const ee=(B=(H=g(k))!==null&&H!==void 0?H:t.root_element)!==null&&B!==void 0?B:e;return je(ee)?$t(ee.querySelectorAll(w)):[]},Y=function(w,k,H){const B=H??this;if(Me(w)){const ee=[];return xu(w,(fe,Be)=>{const An=g(fe);An&&ee.push(k.call(B,An,Be))}),ee}else{const ee=g(w);return ee?k.call(B,ee):!1}},me=(w,k)=>{Y(w,H=>{xe(k,(B,ee)=>{E(H,ee,B)})})},z=(w,k)=>{Y(w,H=>{const B=b.fromDom(H);kl(B,k)})},M=(w,k,H,B,ee)=>Y(w,fe=>{const Be=J(k)?e.createElement(k):k;return $(H)&&me(Be,H),B&&(!J(B)&&B.nodeType?Be.appendChild(B):J(B)&&z(Be,B)),ee?Be:fe.appendChild(Be)}),Z=(w,k,H)=>M(e.createElement(w),w,k,H,!0),te=Ks.decode,ye=Ks.encodeAllRaw,ce=(w,k,H="")=>{let B="<"+w;for(const ee in k)_o(k,ee)&&(B+=" "+ee+'="'+ye(k[ee])+'"');return Or(H)&&oe(u.getVoidElements(),w)?B+" />":B+">"+H+"</"+w+">"},tt=w=>{const k=e.createElement("div"),H=e.createDocumentFragment();H.appendChild(k),w&&(k.innerHTML=w);let B;for(;B=k.firstChild;)H.appendChild(B);return H.removeChild(k),H},on=(w,k)=>Y(w,H=>{const B=b.fromDom(H);return k&&R(ut(B),ee=>{At(ee)&&ee.dom.length===0?Ne(ee):Ot(B,ee)}),Ne(B),B.dom}),Kn=w=>Y(w,k=>{const H=k.attributes;for(let B=H.length-1;B>=0;B--)k.removeAttributeNode(H.item(B))}),wt=w=>d.parse(w),fn=(w,k)=>d.serialize(w,k),Wt=w=>{if(Hs!==ke.DOM&&e===document){if(n[w])return;n[w]=!0}let k=e.getElementById("mceDefaultStyles");if(!k){k=e.createElement("style"),k.id="mceDefaultStyles",k.type="text/css";const H=e.head;H.firstChild?H.insertBefore(k,H.firstChild):H.appendChild(k)}k.styleSheet?k.styleSheet.cssText+=w:k.appendChild(e.createTextNode(w))},gt=w=>{w||(w=""),R(w.split(","),k=>{o[k]=!0,i.load(k).catch(ie)})},St=(w,k,H)=>{Y(w,B=>{if(q(B)){const ee=b.fromDom(B),fe=k.split(" ");R(fe,Be=>{$(H)?(H?Ro:Zr)(ee,Be):fE(ee,Be)})}})},rn=(w,k)=>{St(w,k,!0)},Bs=(w,k)=>{St(w,k,!1)},Q=(w,k)=>{const H=v(w),B=k.split(" ");return $(H)&&Xn(B,ee=>Vc(H,ee))},de=w=>{Y(w,k=>uh(b.fromDom(k),"display"))},Oe=w=>{Y(w,k=>ih(b.fromDom(k),"display","none"))},Ze=w=>{const k=v(w);return $(k)&&No(Sl(k,"display"),"none")},qe=w=>(w||"mce_")+r++,Ie=w=>{const k=v(w);return $(k)?q(k.dom)?k.dom.outerHTML:DE(k):""},Te=(w,k)=>{Y(w,H=>{q(H)&&(H.outerHTML=k)})},Re=(w,k)=>{const H=g(k);return Y(w,B=>{const ee=H?.parentNode,fe=H?.nextSibling;return ee&&(fe?ee.insertBefore(B,fe):ee.appendChild(B)),B})},kt=(w,k,H)=>Y(k,B=>{var ee;const fe=Me(k)?w.cloneNode(!0):w;return H&&xu(lw(B.childNodes),Be=>{fe.appendChild(Be)}),(ee=B.parentNode)===null||ee===void 0||ee.replaceChild(fe,B),B}),mn=(w,k)=>{if(w.nodeName!==k.toUpperCase()){const H=Z(k);return xu(y(w),B=>{E(H,B.nodeName,C(w,B.nodeName))}),kt(H,w,!0),H}else return w},Gn=(w,k)=>{let H=w;for(;H;){let B=k;for(;B&&H!==B;)B=B.parentNode;if(H===B)break;H=H.parentNode}return!H&&w.ownerDocument?w.ownerDocument.documentElement:H},_n=(w,k,H)=>fl(k)?ss(u,w,{...H,isContent:ee=>{const fe=ee.nodeName.toLowerCase();return!!k[fe]}}):ss(u,w,H),Cr=()=>e.createRange(),yr=(w,k,H)=>{let B=Cr(),ee,fe;if(w&&k&&w.parentNode&&k.parentNode){const Be=w.parentNode;return B.setStart(Be,Ho(w)),B.setEnd(k.parentNode,Ho(k)),ee=B.extractContents(),B=Cr(),B.setStart(k.parentNode,Ho(k)+1),B.setEnd(Be,Ho(w)+1),fe=B.extractContents(),Be.insertBefore(gu(Hs,ee,u),w),H?Be.insertBefore(H,w):Be.insertBefore(k,w),Be.insertBefore(gu(Hs,fe,u),w),on(w),H||k}else return},So=(w,k,H,B)=>{if(Me(w)){let ee=w.length;const fe=[];for(;ee--;)fe[ee]=So(w[ee],k,H,B);return fe}else return t.collect&&(w===e||w===s)&&c.push([w,k,H,B]),f.bind(w,k,H,B||Hs)},hn=(w,k,H)=>{if(Me(w)){let B=w.length;const ee=[];for(;B--;)ee[B]=hn(w[B],k,H);return ee}else{if(c.length>0&&(w===e||w===s)){let B=c.length;for(;B--;){const[ee,fe,Be]=c[B];w===ee&&(!k||k===fe)&&(!H||H===Be)&&f.unbind(ee,fe,Be)}}return f.unbind(w,k,H)}},Ls=(w,k,H)=>f.dispatch(w,k,H),rl=(w,k,H)=>f.dispatch(w,k,H),Er=w=>{if(w&&Ln(w)){const k=w.getAttribute("data-mce-contenteditable");return k&&k!=="inherit"?k:w.contentEditable!=="inherit"?w.contentEditable:null}else return null},Hs={doc:e,settings:t,win:s,files:o,stdMode:a,boxModel:l,styleSheetLoader:i,boundEvents:c,styles:d,schema:u,events:f,isBlock:p,root:null,clone:S,getRoot:T,getViewPort:D,getRect:G,getSize:F,getParent:he,getParents:le,get:g,getNext:He,getPrev:We,select:I,is:re,add:M,create:Z,createHTML:ce,createFragment:tt,remove:on,setStyle:N,getStyle:P,setStyles:_,removeAllAttribs:Kn,setAttrib:E,setAttribs:me,getAttrib:C,getPos:V,parseStyle:wt,serializeStyle:fn,addStyle:Wt,loadCSS:gt,addClass:rn,removeClass:Bs,hasClass:Q,toggleClass:St,show:de,hide:Oe,isHidden:Ze,uniqueId:qe,setHTML:z,getOuterHTML:Ie,setOuterHTML:Te,decode:te,encode:ye,insertAfter:Re,replace:kt,rename:mn,findCommonAncestor:Gn,run:Y,getAttribs:y,isEmpty:_n,createRng:Cr,nodeIndex:Ho,split:yr,bind:So,unbind:hn,fire:rl,dispatch:Ls,getContentEditable:Er,getContentEditableParent:w=>{const k=T();let H=null;for(let B=w;B&&B!==k&&(H=Er(B),H===null);B=B.parentNode);return H},isEditable:w=>{if($(w)){const k=q(w)?w:w.parentElement;return $(k)&&Ln(k)&&bs(b.fromDom(k))}else return!1},destroy:()=>{if(c.length>0){let w=c.length;for(;w--;){const[k,H,B]=c[w];f.unbind(k,H,B)}}xe(o,(w,k)=>{i.unload(k),delete o[k]})},isChildOf:(w,k)=>w===k||k.contains(w),dumpRng:w=>"startContainer: "+w.startContainer.nodeName+", startOffset: "+w.startOffset+", endContainer: "+w.endContainer.nodeName+", endOffset: "+w.endOffset},xc=uw(d,t,j(Hs));return Hs};ke.DOM=ke(document),ke.nodeIndex=Ho;const dw=ke.DOM,fw=0,mw=1,Ol=2,n0=3;class rs{constructor(t={}){this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=!1,this.settings=t}_setReferrerPolicy(t){this.settings.referrerPolicy=t}loadScript(t){return new Promise((n,s)=>{const o=dw;let r;const a=()=>{o.remove(c),r&&(r.onerror=r.onload=r=null)},l=()=>{a(),n()},i=()=>{a(),s("Failed to load script: "+t)},c=o.uniqueId();r=document.createElement("script"),r.id=c,r.type="text/javascript",r.src=L._addCacheSuffix(t),this.settings.referrerPolicy&&o.setAttrib(r,"referrerpolicy",this.settings.referrerPolicy),r.onload=l,r.onerror=i,(document.getElementsByTagName("head")[0]||document.body).appendChild(r)})}isDone(t){return this.states[t]===Ol}markDone(t){this.states[t]=Ol}add(t){const n=this;return n.queue.push(t),n.states[t]===void 0&&(n.states[t]=fw),new Promise((o,r)=>{n.scriptLoadedCallbacks[t]||(n.scriptLoadedCallbacks[t]=[]),n.scriptLoadedCallbacks[t].push({resolve:o,reject:r})})}load(t){return this.add(t)}remove(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]}loadQueue(){const t=this.queue;return this.queue=[],this.loadScripts(t)}loadScripts(t){const n=this,s=(i,c)=>{Ae(n.scriptLoadedCallbacks,c).each(u=>{R(u,d=>d[i](c))}),delete n.scriptLoadedCallbacks[c]},o=i=>{const c=se(i,u=>u.status==="rejected");return c.length>0?Promise.reject(qt(c,({reason:u})=>Me(u)?u:[u])):Promise.resolve()},r=i=>Promise.allSettled(ge(i,c=>n.states[c]===Ol?(s("resolve",c),Promise.resolve()):n.states[c]===n0?(s("reject",c),Promise.reject(c)):(n.states[c]=mw,n.loadScript(c).then(()=>{n.states[c]=Ol,s("resolve",c);const u=n.queue;return u.length>0?(n.queue=[],r(u).then(o)):Promise.resolve()},()=>(n.states[c]=n0,s("reject",c),Promise.reject(c)))))),a=i=>(n.loading=!0,r(i).then(c=>{n.loading=!1;const u=n.queueLoadedCallbacks.shift();return m.from(u).each(xr),o(c)})),l=_m(t);return n.loading?new Promise((i,c)=>{n.queueLoadedCallbacks.push(()=>{a(l).then(i,c)})}):a(l)}}rs.ScriptLoader=new rs;const hw=(e,t)=>{const n=e.indexOf(t);return n!==-1&&e.indexOf(t,n+1)>n},gw=e=>nt(e)&&oe(e,"raw"),pw=e=>Me(e)&&e.length>1,ea={},Au=et("en"),s0=()=>Ae(ea,Au.get()),En={getData:()=>Rr(ea,e=>({...e})),setCode:e=>{e&&Au.set(e)},getCode:()=>Au.get(),add:(e,t)=>{let n=ea[e];n||(ea[e]=n={});const s=ge(Dt(t),o=>o.toLowerCase());xe(t,(o,r)=>{const a=r.toLowerCase();a!==r&&hw(s,a)?(oe(t,a)||(n[a]=o),n[r]=o):n[a]=o})},translate:e=>{const t=s0().getOr({}),n=a=>we(a)?Object.prototype.toString.call(a):s(a)?"":""+a,s=a=>a===""||a===null||a===void 0,o=a=>{const l=n(a);return oe(t,l)?n(t[l]):Ae(t,l.toLowerCase()).map(n).getOr(l)},r=a=>a.replace(/{context:\w+}$/,"");if(s(e))return"";if(gw(e))return n(e.raw);if(pw(e)){const a=e.slice(1),l=o(e[0]).replace(/\{([0-9]+)\}/g,(i,c)=>oe(a,c)?n(a[c]):i);return r(l)}return r(o(e))},isRtl:()=>s0().bind(e=>Ae(e,"_dir")).exists(e=>e==="rtl"),hasCode:e=>oe(ea,e)},Ct=()=>{const e=[],t={},n={},s=[],o=(g,v)=>{const C=se(s,y=>y.name===g&&y.state===v);R(C,y=>y.resolve())},r=g=>oe(t,g),a=g=>oe(n,g),l=g=>{if(n[g])return n[g].instance},i=(g,v)=>{const C=En.getCode(),y=","+(v||"")+",";!C||v&&y.indexOf(","+C+",")===-1||rs.ScriptLoader.add(t[g]+"/langs/"+C+".js")},c=(g,v)=>{Ct.languageLoad!==!1&&(r(g)?i(g,v):p(g,"loaded").then(()=>i(g,v)))},u=(g,v)=>(e.push(v),n[g]={instance:v},o(g,"added"),v),d=g=>{delete t[g],delete n[g]},f=(g,v)=>J(v)?J(g)?{prefix:"",resource:v,suffix:""}:{prefix:g.prefix,resource:v,suffix:g.suffix}:v,h=(g,v)=>{if(t[g])return Promise.resolve();let C=J(v)?v:v.prefix+v.resource+v.suffix;C.indexOf("/")!==0&&C.indexOf("://")===-1&&(C=Ct.baseURL+"/"+C),t[g]=C.substring(0,C.lastIndexOf("/"));const y=()=>(o(g,"loaded"),Promise.resolve());return n[g]?y():rs.ScriptLoader.add(C).then(y)},p=(g,v="added")=>v==="added"&&a(g)||v==="loaded"&&r(g)?Promise.resolve():new Promise(C=>{s.push({name:g,state:v,resolve:C})});return{items:e,urls:t,lookup:n,get:l,requireLangPack:c,add:u,remove:d,createUrl:f,load:h,waitFor:p}};Ct.languageLoad=!0,Ct.baseURL="",Ct.PluginManager=Ct(),Ct.ThemeManager=Ct(),Ct.ModelManager=Ct();const Bl=(e,t)=>{let n=null;return{cancel:()=>{vt(n)||(clearTimeout(n),n=null)},throttle:(...r)=>{vt(n)&&(n=setTimeout(()=>{n=null,e.apply(null,r)},t))}}},Nu=(e,t)=>{let n=null;const s=()=>{vt(n)||(clearTimeout(n),n=null)};return{cancel:s,throttle:(...r)=>{s(),n=setTimeout(()=>{n=null,e.apply(null,r)},t)}}},vw=(e,t,n)=>Wr(e,t,n).isSome(),ta=j("mce-annotation"),Ys=j("data-mce-annotation"),Io=j("data-mce-annotation-uid"),na=j("data-mce-annotation-active"),sa=j("data-mce-annotation-classes"),oa=j("data-mce-annotation-attrs"),o0=e=>t=>Ce(t,e),r0=(e,t)=>{const n=e.selection.getRng(),s=b.fromDom(n.startContainer),o=b.fromDom(e.getBody()),r=t.fold(()=>"."+ta(),i=>`[${Ys()}="${i}"]`),a=Po(s,n.startOffset).getOr(s);return Do(a,r,o0(o)).bind(i=>es(i,`${Io()}`).bind(c=>es(i,`${Ys()}`).map(u=>{const d=l0(e,c);return{uid:c,name:u,elements:d}})))},bw=e=>Zt(e)&&Vc(e,ta()),a0=(e,t)=>Ir(e,"data-mce-bogus")||vw(e,'[data-mce-bogus="all"]',o0(t)),l0=(e,t)=>{const n=b.fromDom(e.getBody()),s=dt(n,`[${Io()}="${t}"]`);return se(s,o=>!a0(o,n))},i0=(e,t)=>{const n=b.fromDom(e.getBody()),s=dt(n,`[${Ys()}="${t}"]`),o={};return R(s,r=>{if(!a0(r,n)){const a=Ft(r,Io()),l=Ae(o,a).getOr([]);o[a]=l.concat([r])}}),o},Cw=(e,t)=>{const n=et({}),s=()=>({listeners:[],previous:os()}),o=(d,f)=>{r(d,h=>(f(h),h))},r=(d,f)=>{const h=n.get(),p=Ae(h,d).getOrThunk(s),g=f(p);h[d]=g,n.set(h)},a=(d,f,h)=>{o(d,p=>{R(p.listeners,g=>g(!0,d,{uid:f,nodes:ge(h,v=>v.dom)}))})},l=d=>{o(d,f=>{R(f.listeners,h=>h(!1,d))})},i=(d,f)=>{R(l0(e,d),h=>{f?ot(h,na(),"true"):rt(h,na())})},c=Nu(()=>{const d=$s(t.getNames());R(d,f=>{r(f,h=>{const p=h.previous.get();return r0(e,m.some(f)).fold(()=>{p.each(g=>{l(f),h.previous.clear(),i(g,!1)})},({uid:g,name:v,elements:C})=>{No(p,g)||(p.each(y=>i(y,!1)),a(v,g,C),h.previous.set(g),i(g,!0))}),{previous:h.previous,listeners:h.listeners}})})},30);return e.on("remove",()=>{c.cancel()}),e.on("NodeChange",()=>{c.throttle()}),{addListener:(d,f)=>{r(d,h=>({previous:h.previous,listeners:h.listeners.concat([f])}))}}},yw=(e,t)=>{const n=Ys(),s=r=>m.from(r.attr(n)).bind(t.lookup),o=r=>{var a,l;r.attr(Io(),null),r.attr(Ys(),null),r.attr(na(),null);const i=m.from(r.attr(oa())).map(f=>f.split(",")).getOr([]),c=m.from(r.attr(sa())).map(f=>f.split(",")).getOr([]);R(i,f=>r.attr(f,null));const u=(l=(a=r.attr("class"))===null||a===void 0?void 0:a.split(" "))!==null&&l!==void 0?l:[],d=ml(u,[ta()].concat(c));r.attr("class",d.length>0?d.join(" "):null),r.attr(sa(),null),r.attr(oa(),null)};e.serializer.addTempAttr(na()),e.serializer.addAttributeFilter(n,r=>{for(const a of r)s(a).each(l=>{l.persistent===!1&&(a.name==="span"?a.unwrap():o(a))})})},Ew=()=>{const e={};return{register:(o,r)=>{e[o]={name:o,settings:r}},lookup:o=>Ae(e,o).map(r=>r.settings),getNames:()=>Dt(e)}},ww=(e,t,n)=>Math.min(Math.max(e,t),n),c0=()=>window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967295;let u0=0;const ra=e=>{const n=new Date().getTime(),s=Math.floor(c0()*1e9);return u0++,e+"_"+s+u0+String(n)},Sw=(e,t)=>{R(t,n=>{Ro(e,n)})},kw=(e,t)=>{R(t,n=>{Zr(e,n)})},d0=(e,t)=>b.fromDom(e.dom.cloneNode(t)),Xs=e=>d0(e,!1),f0=e=>d0(e,!0),xw=(e,t)=>{const n=b.fromTag(t),s=Km(e);return Jn(n,s),n},_w=(e,t)=>{const n=xw(e,t);ns(e,n);const s=ut(e);return zs(n,s),Ne(e),n},m0=(e,t,n=Pe)=>{const s=new Je(e,t),o=r=>{let a;do a=s[r]();while(a&&!O(a)&&!n(a));return m.from(a).filter(O)};return{current:()=>m.from(s.current()).filter(O),next:()=>o("next"),prev:()=>o("prev"),prev2:()=>o("prev2")}},Qs=(e,t)=>{const n=t||(a=>e.isBlock(a)||De(a)||_e(a)),s=(a,l,i,c)=>{if(O(a)){const u=c(a,l,a.data);if(u!==-1)return m.some({container:a,offset:u})}return i().bind(u=>s(u.container,u.offset,i,c))};return{backwards:(a,l,i,c)=>{const u=m0(a,c??e.getRoot(),n);return s(a,l,()=>u.prev().map(d=>({container:d,offset:d.length})),i).getOrNull()},forwards:(a,l,i,c)=>{const u=m0(a,c??e.getRoot(),n);return s(a,l,()=>u.next().map(d=>({container:d,offset:0})),i).getOrNull()}}},Tu=((e,t)=>{const n=r=>{if(!e(r))throw new Error("Can only get "+t+" value of a "+t+" node");return s(r).getOr("")},s=r=>e(r)?m.from(r.dom.nodeValue):m.none();return{get:n,getOption:s,set:(r,a)=>{if(!e(r))throw new Error("Can only set raw "+t+" value of a "+t+" node");r.dom.nodeValue=a}}})(At,"text"),aa=e=>Tu.get(e),Aw=e=>Tu.getOption(e),h0=(e,t)=>Tu.set(e,t),Nw=["td","th"],Tw=["thead","tbody","tfoot"],Rw=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Pw=["li","dd","dt"],Mw=["ul","ol","dl"],Dw=["pre","script","textarea","style"],$o=e=>{let t;return n=>(t=t||Mc(e,$e),oe(t,pe(n)))},Ow=e=>pe(e)==="table",Js=e=>Zt(e)&&pe(e)==="br",g0=$o(Rw),Ru=$o(Mw),Zo=$o(Pw),Bw=$o(Tw),la=$o(Nw),Ll=$o(Dw),Lw=e=>{const t=[];let n=e.dom;for(;n;)t.push(b.fromDom(n)),n=n.lastChild;return t},Hw=e=>{const t=dt(e,"br"),n=se(Lw(e).slice(-1),Js);t.length===n.length&&R(n,Ne)},Fo=()=>{const e=b.fromTag("br");return ot(e,"data-mce-bogus","1"),e},ws=e=>{Oo(e),Ve(e,Fo())},Iw=(e,t)=>{Wc(e).each(n=>{gs(n).each(s=>{t.isBlock(pe(e))&&Js(n)&&t.isBlock(pe(s))&&Ne(n)})})},Xe=qr,Hl=nu,zt=WE,$w=e=>e.insertContent(Xe,{preserve_zwsp:!0}),Zw=q,zo=O,Vo=e=>(zo(e)&&(e=e.parentNode),Zw(e)&&e.hasAttribute("data-mce-caret")),Ss=e=>zo(e)&&Hl(e.data),Kt=e=>Vo(e)||Ss(e),p0=e=>e.firstChild!==e.lastChild||!De(e.firstChild),Fw=(e,t)=>{var n;const o=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Xe),r=e.parentNode;if(t){const a=e.previousSibling;if(zo(a)){if(Kt(a))return a;if($l(a))return a.splitText(a.data.length-1)}r?.insertBefore(o,e)}else{const a=e.nextSibling;if(zo(a)){if(Kt(a))return a;if(Il(a))return a.splitText(1),a}e.nextSibling?r?.insertBefore(o,e.nextSibling):r?.appendChild(o)}return o},Pu=e=>{const t=e.container();return O(t)?t.data.charAt(e.offset())===Xe||e.isAtStart()&&Ss(t.previousSibling):!1},Mu=e=>{const t=e.container();return O(t)?t.data.charAt(e.offset()-1)===Xe||e.isAtEnd()&&Ss(t.nextSibling):!1},zw=(e,t,n)=>{var s;const r=((s=t.ownerDocument)!==null&&s!==void 0?s:document).createElement(e);r.setAttribute("data-mce-caret",n?"before":"after"),r.setAttribute("data-mce-bogus","all"),r.appendChild(Fo().dom);const a=t.parentNode;return n?a?.insertBefore(r,t):t.nextSibling?a?.insertBefore(r,t.nextSibling):a?.appendChild(r),r},Il=e=>zo(e)&&e.data[0]===Xe,$l=e=>zo(e)&&e.data[e.data.length-1]===Xe,Vw=e=>{var t;const n=e.getElementsByTagName("br"),s=n[n.length-1];Us(s)&&((t=s.parentNode)===null||t===void 0||t.removeChild(s))},Du=e=>e&&e.hasAttribute("data-mce-caret")?(Vw(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("data-mce-style"),e.removeAttribute("_moz_abspos"),e):null,v0=e=>Vo(e.startContainer),Uo=Math.round,eo=e=>e?{left:Uo(e.left),top:Uo(e.top),bottom:Uo(e.bottom),right:Uo(e.right),width:Uo(e.width),height:Uo(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0},b0=(e,t)=>(e=eo(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e),Uw=(e,t)=>e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right,C0=(e,t,n)=>e>=0&&e<=Math.min(t.height,n.height)/2,ia=(e,t)=>{const n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top?!0:e.top>t.bottom?!1:C0(t.top-e.bottom,e,t)},ca=(e,t)=>e.top>t.bottom?!0:e.bottom<t.top?!1:C0(t.bottom-e.top,e,t),Ww=(e,t,n)=>t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom,jw=e=>Mt(e,(t,n)=>t.fold(()=>m.some(n),s=>{const o=Math.min(n.left,s.left),r=Math.min(n.top,s.top),a=Math.max(n.right,s.right),l=Math.max(n.bottom,s.bottom);return m.some({top:r,right:a,bottom:l,left:o,width:a-o,height:l-r})}),m.none()),y0=(e,t,n)=>{const s=Math.max(Math.min(t,e.left+e.width),e.left),o=Math.max(Math.min(n,e.top+e.height),e.top);return Math.sqrt((t-s)*(t-s)+(n-o)*(n-o))},qw=(e,t)=>Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top)),Zl=e=>{const t=e.startContainer,n=e.startOffset;return t===e.endContainer&&t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},ks=(e,t)=>{if(q(e)&&e.hasChildNodes()){const n=e.childNodes,s=ww(t,0,n.length-1);return n[s]}else return e},Kw=(e,t)=>{if(!(t<0&&q(e)&&e.hasChildNodes()))return ks(e,t)},Gw=new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]"),E0=e=>J(e)&&e.charCodeAt(0)>=768&&Gw.test(e),Yw=(...e)=>t=>{for(let n=0;n<e.length;n++)if(e[n](t))return!0;return!1},Xw=(...e)=>t=>{for(let n=0;n<e.length;n++)if(!e[n](t))return!1;return!0},w0=ln,Qw=_e,Jw=De,e7=O,t7=Cn(["script","style","textarea"]),S0=Cn(["img","input","textarea","hr","iframe","video","audio","object","embed"]),n7=Cn(["table"]),s7=Kt,wn=e=>s7(e)?!1:e7(e)?!t7(e.parentNode):S0(e)||Jw(e)||n7(e)||Ou(e),o7=e=>q(e)&&e.getAttribute("unselectable")==="true",Ou=e=>!o7(e)&&Qw(e),r7=(e,t)=>{for(let n=e.parentNode;n&&n!==t;n=n.parentNode){if(Ou(n))return!1;if(w0(n))return!0}return!0},a7=e=>Ou(e)?!Mt($t(e.getElementsByTagName("*")),(t,n)=>t||w0(n),!1):!1,l7=e=>S0(e)||a7(e),k0=(e,t)=>wn(e)&&r7(e,t),x0=q,i7=wn,_0=Al("display","block table"),c7=Al("float","left right"),ua=Xw(x0,i7,kr(c7)),u7=kr(Al("white-space","pre pre-line pre-wrap")),da=O,Bu=De,A0=ke.nodeIndex,Fl=Kw,Lu=e=>e?e.createRange():ke.DOM.createRng(),Hu=e=>J(e)&&/[\r\n\t ]/.test(e),N0=e=>!!e.setStart&&!!e.setEnd,Iu=e=>{const t=e.startContainer,n=e.startOffset;if(Hu(e.toString())&&u7(t.parentNode)&&O(t)){const s=t.data;if(Hu(s[n-1])||Hu(s[n+1]))return!0}return!1},d7=e=>{const t=e.ownerDocument,n=Lu(t),s=t.createTextNode(Ye),o=e.parentNode;o.insertBefore(s,e),n.setStart(s,0),n.setEnd(s,1);const r=eo(n.getBoundingClientRect());return o.removeChild(s),r},f7=e=>{const t=e.startContainer,n=e.endContainer,s=e.startOffset,o=e.endOffset;if(t===n&&O(n)&&s===0&&o===1){const r=e.cloneRange();return r.setEndAfter(n),xs(r)}else return null},T0=e=>e.left===0&&e.right===0&&e.top===0&&e.bottom===0,xs=e=>{var t;let n;const s=e.getClientRects();return s.length>0?n=eo(s[0]):n=eo(e.getBoundingClientRect()),!N0(e)&&Bu(e)&&T0(n)?d7(e):T0(n)&&N0(e)&&(t=f7(e))!==null&&t!==void 0?t:n},to=(e,t)=>{const n=b0(e,t);return n.width=1,n.right=n.left+1,n},m7=e=>{const t=[],n=a=>{a.height!==0&&(t.length>0&&Uw(a,t[t.length-1])||t.push(a))},s=(a,l)=>{const i=Lu(a.ownerDocument);if(l<a.data.length){if(E0(a.data[l]))return;if(E0(a.data[l-1])&&(i.setStart(a,l),i.setEnd(a,l+1),!Iu(i))){n(to(xs(i),!1));return}}l>0&&(i.setStart(a,l-1),i.setEnd(a,l),Iu(i)||n(to(xs(i),!1))),l<a.data.length&&(i.setStart(a,l),i.setEnd(a,l+1),Iu(i)||n(to(xs(i),!0)))},o=e.container(),r=e.offset();if(da(o))return s(o,r),t;if(x0(o))if(e.isAtEnd()){const a=Fl(o,r);da(a)&&s(a,a.data.length),ua(a)&&!Bu(a)&&n(to(xs(a),!1))}else{const a=Fl(o,r);if(da(a)&&s(a,0),ua(a)&&e.isAtEnd())return n(to(xs(a),!1)),t;const l=Fl(e.container(),e.offset()-1);ua(l)&&!Bu(l)&&(_0(l)||_0(a)||!ua(a))&&n(to(xs(l),!1)),ua(a)&&n(to(xs(a),!0))}return t},A=(e,t,n)=>{const s=()=>(da(e),t===0),o=()=>da(e)?t>=e.data.length:t>=e.childNodes.length,r=()=>{const u=Lu(e.ownerDocument);return u.setStart(e,t),u.setEnd(e,t),u},a=()=>(n||(n=m7(A(e,t))),n),l=()=>a().length>0,i=u=>u&&e===u.container()&&t===u.offset(),c=u=>Fl(e,u?t-1:t);return{container:j(e),offset:j(t),toRange:r,getClientRects:a,isVisible:l,isAtStart:s,isAtEnd:o,isEqual:i,getNode:c}};A.fromRangeStart=e=>A(e.startContainer,e.startOffset),A.fromRangeEnd=e=>A(e.endContainer,e.endOffset),A.after=e=>A(e.parentNode,A0(e)+1),A.before=e=>A(e.parentNode,A0(e)),A.isAbove=(e,t)=>ct(_t(t.getClientRects()),ms(e.getClientRects()),ia).getOr(!1),A.isBelow=(e,t)=>ct(ms(t.getClientRects()),_t(e.getClientRects()),ca).getOr(!1),A.isAtStart=e=>e?e.isAtStart():!1,A.isAtEnd=e=>e?e.isAtEnd():!1,A.isTextPosition=e=>e?O(e.container()):!1,A.isElementPosition=e=>!A.isTextPosition(e);const zl=(e,t)=>{O(t)&&t.data.length===0&&e.remove(t)},h7=(e,t,n)=>{t.insertNode(n),zl(e,n.previousSibling),zl(e,n.nextSibling)},g7=(e,t,n)=>{const s=m.from(n.firstChild),o=m.from(n.lastChild);t.insertNode(n),s.each(r=>zl(e,r.previousSibling)),o.each(r=>zl(e,r.nextSibling))},$u=(e,t,n)=>{ou(n)?g7(e,t,n):h7(e,t,n)},Sn=O,R0=Us,P0=ke.nodeIndex,M0=e=>{const t=e.parentNode;return R0(t)?M0(t):t},Zu=e=>e?pl(e.childNodes,(t,n)=>(R0(n)&&n.nodeName!=="BR"?t=t.concat(Zu(n)):t.push(n),t),[]):[],p7=(e,t)=>{let n=e;for(;(n=n.previousSibling)&&Sn(n);)t+=n.data.length;return t},D0=e=>t=>e===t,v7=e=>{let t,n;t=Zu(M0(e)),n=Nm(t,D0(e),e),t=t.slice(0,n+1);const s=pl(t,(o,r,a)=>(Sn(r)&&Sn(t[a-1])&&o++,o),0);return t=Mr(t,Cn([e.nodeName])),n=Nm(t,D0(e),e),n-s},O0=e=>(Sn(e)?"text()":e.nodeName.toLowerCase())+"["+v7(e)+"]",b7=(e,t,n)=>{const s=[];for(let o=t.parentNode;o&&o!==e;o=o.parentNode)s.push(o);return s},B0=(e,t)=>{let n=[],s=t.container(),o=t.offset(),r;if(Sn(s))r=p7(s,o);else{const l=s.childNodes;o>=l.length?(r="after",o=l.length-1):r="before",s=l[o]}n.push(O0(s));let a=b7(e,s);return a=Mr(a,kr(Us)),n=n.concat(Lc(a,l=>O0(l))),n.reverse().join("/")+","+r},C7=(e,t,n)=>{let s=Zu(e);return s=Mr(s,(o,r)=>!Sn(o)||!Sn(s[r-1])),s=Mr(s,Cn([t])),s[n]},y7=(e,t)=>{let n=e,s=0;for(;Sn(n);){const o=n.data.length;if(t>=s&&t<=s+o){e=n,t=t-s;break}if(!Sn(n.nextSibling)){e=n,t=o;break}s+=o,n=n.nextSibling}return Sn(e)&&t>e.data.length&&(t=e.data.length),A(e,t)},L0=(e,t)=>{if(!t)return null;const n=t.split(","),s=n[0].split("/"),o=n.length>1?n[1]:"before",r=pl(s,(a,l)=>{const i=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(l);return i?(i[1]==="text()"&&(i[1]="#text"),C7(a,i[1],parseInt(i[2],10))):null},e);if(!r)return null;if(!Sn(r)&&r.parentNode){let a;return o==="after"?a=P0(r)+1:a=P0(r),A(r.parentNode,a)}return y7(r,parseInt(o,10))},Vl=_e,E7=(e,t,n)=>{let s=e(t.data.slice(0,n)).length;for(let o=t.previousSibling;o&&O(o);o=o.previousSibling)s+=e(o.data).length;return s},H0=(e,t,n,s,o)=>{const r=o?s.startContainer:s.endContainer;let a=o?s.startOffset:s.endOffset;const l=[],i=e.getRoot();if(O(r))l.push(n?E7(t,r,a):a);else{let c=0;const u=r.childNodes;a>=u.length&&u.length&&(c=1,a=Math.max(0,u.length-1)),l.push(e.nodeIndex(u[a],n)+c)}for(let c=r;c&&c!==i;c=c.parentNode)l.push(e.nodeIndex(c,n));return l},w7=(e,t,n,s)=>{const o=t.dom,r=H0(o,e,n,s,!0),a=t.isForward(),l=v0(s)?{isFakeCaret:!0}:{};if(t.isCollapsed())return{start:r,forward:a,...l};{const i=H0(o,e,n,s,!1);return{start:r,end:i,forward:a,...l}}},Fu=(e,t,n)=>{let s=0;return L.each(e.select(t),o=>{if(o.getAttribute("data-mce-bogus")!=="all"){if(o===n)return!1;s++;return}}),s},I0=(e,t)=>{let n=t?e.startContainer:e.endContainer,s=t?e.startOffset:e.endOffset;if(q(n)&&n.nodeName==="TR"){const o=n.childNodes;n=o[Math.min(t?s:s-1,o.length-1)],n&&(s=t?0:n.childNodes.length,t?e.setStart(n,s):e.setEnd(n,s))}},$0=e=>(I0(e,!0),I0(e,!1),e),Z0=(e,t)=>{if(q(e)&&(e=ks(e,t),Vl(e)))return e;if(Kt(e)){O(e)&&Vo(e)&&(e=e.parentNode);let n=e.previousSibling;if(Vl(n)||(n=e.nextSibling,Vl(n)))return n}},S7=e=>Z0(e.startContainer,e.startOffset)||Z0(e.endContainer,e.endOffset),F0=(e,t,n)=>{const s=n.getNode(),o=n.getRng();if(s.nodeName==="IMG"||Vl(s)){const a=s.nodeName;return{name:a,index:Fu(n.dom,a,s)}}const r=S7(o);if(r){const a=r.tagName;return{name:a,index:Fu(n.dom,a,r)}}return w7(e,n,t,o)},k7=e=>{const t=e.getRng();return{start:B0(e.dom.getRoot(),A.fromRangeStart(t)),end:B0(e.dom.getRoot(),A.fromRangeEnd(t)),forward:e.isForward()}},x7=e=>({rng:e.getRng(),forward:e.isForward()}),z0=(e,t,n)=>{const s={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",s,"&#xFEFF;"):e.create("span",s)},V0=(e,t)=>{const n=e.dom;let s=e.getRng();const o=n.uniqueId(),r=e.isCollapsed(),a=e.getNode(),l=a.nodeName,i=e.isForward();if(l==="IMG")return{name:l,index:Fu(n,l,a)};const c=$0(s.cloneRange());if(!r){c.collapse(!1);const d=z0(n,o+"_end",t);$u(n,c,d)}s=$0(s),s.collapse(!0);const u=z0(n,o+"_start",t);return $u(n,s,u),e.moveToBookmark({id:o,keep:!0,forward:i}),{id:o,forward:i}},_7=(e,t,n=!1)=>t===2?F0(zt,n,e):t===3?k7(e):t?x7(e):V0(e,!1),zu=K(F0,bt,!0),U0=e=>{const t=r=>r(e),n=j(e),s=()=>o,o={tag:!0,inner:e,fold:(r,a)=>a(e),isValue:$e,isError:Pe,map:r=>Nt.value(r(e)),mapError:s,bind:t,exists:t,forall:t,getOr:n,or:s,getOrThunk:n,orThunk:s,getOrDie:n,each:r=>{r(e)},toOptional:()=>m.some(e)};return o},W0=e=>{const t=()=>n,n={tag:!1,inner:e,fold:(s,o)=>s(e),isValue:Pe,isError:$e,map:t,mapError:s=>Nt.error(s(e)),bind:t,exists:Pe,forall:$e,getOr:bt,or:bt,getOrThunk:Rc,orThunk:Rc,getOrDie:Cm(String(e)),each:ie,toOptional:m.none};return n},Nt={value:U0,error:W0,fromOption:(e,t)=>e.fold(()=>W0(t),U0)},$n={generate:e=>{if(!Me(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");const t=[],n={};return R(e,(s,o)=>{const r=Dt(s);if(r.length!==1)throw new Error("one and only one name per case");const a=r[0],l=s[a];if(n[a]!==void 0)throw new Error("duplicate key detected:"+a);if(a==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Me(l))throw new Error("case arguments must be an array");t.push(a),n[a]=(...i)=>{const c=i.length;if(c!==l.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+l.length+" ("+l+"), got "+c);return{fold:(...d)=>{if(d.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+d.length);return d[o].apply(null,i)},match:d=>{const f=Dt(d);if(t.length!==f.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+`
Actual: `+f.join(","));if(!Xn(t,p=>Ee(f,p)))throw new Error("Not all branches were specified when using match. Specified: "+f.join(", ")+`
Required: `+t.join(", "));return d[a].apply(null,i)},log:d=>{console.log(d,{constructors:t,constructor:a,params:i})}}}}),n}};$n.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);const A7=e=>{const t=[],n=[];return R(e,s=>{s.fold(o=>{t.push(o)},o=>{n.push(o)})}),{errors:t,values:n}},N7=e=>e.type==="inline-command"||e.type==="inline-format",T7=e=>e.type==="block-command"||e.type==="block-format",R7=(e,t)=>(e.type==="block-command"||e.type==="block-format")&&e.trigger===t,P7=e=>{var t;const n=o=>Nt.error({message:o,pattern:e}),s=(o,r,a)=>{if(e.format!==void 0){let l;if(Me(e.format)){if(!Xn(e.format,J))return n(o+" pattern has non-string items in the `format` array");l=e.format}else if(J(e.format))l=[e.format];else return n(o+" pattern has non-string `format` parameter");return Nt.value(r(l))}else return e.cmd!==void 0?J(e.cmd)?Nt.value(a(e.cmd,e.value)):n(o+" pattern has non-string `cmd` parameter"):n(o+" pattern is missing both `format` and `cmd` parameters")};if(!nt(e))return n("Raw pattern is not an object");if(!J(e.start))return n("Raw pattern is missing `start` parameter");if(e.end!==void 0){if(!J(e.end))return n("Inline pattern has non-string `end` parameter");if(e.start.length===0&&e.end.length===0)return n("Inline pattern has empty `start` and `end` parameters");let o=e.start,r=e.end;return r.length===0&&(r=o,o=""),s("Inline",a=>({type:"inline-format",start:o,end:r,format:a}),(a,l)=>({type:"inline-command",start:o,end:r,cmd:a,value:l}))}else{if(e.replacement!==void 0)return J(e.replacement)?e.start.length===0?n("Replacement pattern has empty `start` parameter"):Nt.value({type:"inline-command",start:"",end:e.start,cmd:"mceInsertContent",value:e.replacement}):n("Replacement pattern has non-string `replacement` parameter");{const o=(t=e.trigger)!==null&&t!==void 0?t:"space";return e.start.length===0?n("Block pattern has empty `start` parameter"):s("Block",r=>({type:"block-format",start:e.start,format:r[0],trigger:o}),(r,a)=>({type:"block-command",start:e.start,cmd:r,value:a,trigger:o}))}}},j0=e=>se(e,T7),q0=e=>se(e,N7),M7=(e,t)=>({inlinePatterns:q0(e),blockPatterns:j0(e),dynamicPatternsLookup:t}),Vu=(e,t)=>({...e,blockPatterns:se(e.blockPatterns,n=>R7(n,t))}),K0=e=>{const t=A7(ge(e,P7));return R(t.errors,n=>console.error(n.message,n.pattern)),t.values},D7=e=>t=>{const n=e(t);return K0(n)},O7=(e,t)=>e.dispatch("PreProcess",t),B7=(e,t)=>e.dispatch("PostProcess",t),L7=e=>{e.dispatch("remove")},H7=e=>{e.dispatch("detach")},I7=(e,t)=>{e.dispatch("SwitchMode",{mode:t})},$7=(e,t,n,s,o)=>{e.dispatch("ObjectResizeStart",{target:t,width:n,height:s,origin:o})},Z7=(e,t,n,s,o)=>{e.dispatch("ObjectResized",{target:t,width:n,height:s,origin:o})},F7=e=>{e.dispatch("PreInit")},z7=e=>{e.dispatch("PostRender")},V7=e=>{e.dispatch("Init")},U7=(e,t)=>{e.dispatch("PlaceholderToggle",{state:t})},G0=(e,t,n)=>{e.dispatch(t,n)},Y0=(e,t,n,s)=>{e.dispatch("FormatApply",{format:t,node:n,vars:s})},X0=(e,t,n,s)=>{e.dispatch("FormatRemove",{format:t,node:n,vars:s})},W7=(e,t)=>e.dispatch("BeforeSetContent",t),Q0=(e,t)=>e.dispatch("SetContent",t),j7=(e,t)=>e.dispatch("BeforeGetContent",t),J0=(e,t)=>e.dispatch("GetContent",t),q7=(e,t)=>{e.dispatch("AutocompleterStart",t)},K7=(e,t)=>{e.dispatch("AutocompleterUpdate",t)},Uu=(e,t)=>{e.dispatch("AutocompleterUpdateActiveRange",t)},G7=e=>{e.dispatch("AutocompleterEnd")},Y7=(e,t,n)=>e.dispatch("PastePreProcess",{content:t,internal:n}),X7=(e,t,n)=>e.dispatch("PastePostProcess",{node:t,internal:n}),eg=(e,t)=>e.dispatch("PastePlainTextToggle",{state:t}),Q7=(e,t)=>e.dispatch("EditableRootStateChange",{state:t}),J7=(e,t)=>e.dispatch("DisabledStateChange",{state:t}),Wu=Pn().deviceType,eS=Wu.isTouch(),tS=ke.DOM,nS=e=>{const t=e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(",");return Mt(t,(n,s)=>{const o=s.split("="),r=o[0],a=o.length>1?o[1]:r;return n[Ao(r)]=Ao(a),n},{})},tg=e=>dl(e,RegExp),U=e=>t=>t.options.get(e),Ul=e=>J(e)||nt(e),ng=(e,t="")=>n=>{const s=J(n);if(s)if(n.indexOf("=")!==-1){const o=nS(n);return{value:Ae(o,e.id).getOr(t),valid:s}}else return{value:n,valid:s};else return{valid:!1,message:"Must be a string."}},sS=e=>{const t=e.options.register;t("id",{processor:"string",default:e.id}),t("selector",{processor:"string"}),t("target",{processor:"object"}),t("suffix",{processor:"string"}),t("cache_suffix",{processor:"string"}),t("base_url",{processor:"string"}),t("referrer_policy",{processor:"string",default:""}),t("language_load",{processor:"boolean",default:!0}),t("inline",{processor:"boolean",default:!1}),t("iframe_attrs",{processor:"object",default:{}}),t("doctype",{processor:"string",default:"<!DOCTYPE html>"}),t("document_base_url",{processor:"string",default:e.documentBaseUrl}),t("body_id",{processor:ng(e,"tinymce"),default:"tinymce"}),t("body_class",{processor:ng(e),default:""}),t("content_security_policy",{processor:"string",default:""}),t("br_in_pre",{processor:"boolean",default:!0}),t("forced_root_block",{processor:n=>{const s=J(n)&&Rn(n);return s?{value:n,valid:s}:{valid:!1,message:"Must be a non-empty string."}},default:"p"}),t("forced_root_block_attrs",{processor:"object",default:{}}),t("newline_behavior",{processor:n=>{const s=Ee(["block","linebreak","invert","default"],n);return s?{value:n,valid:s}:{valid:!1,message:"Must be one of: block, linebreak, invert or default."}},default:"default"}),t("br_newline_selector",{processor:"string",default:".mce-toc h2,figcaption,caption"}),t("no_newline_selector",{processor:"string",default:""}),t("keep_styles",{processor:"boolean",default:!0}),t("end_container_on_empty_block",{processor:n=>Nn(n)?{valid:!0,value:n}:J(n)?{valid:!0,value:n}:{valid:!1,message:"Must be boolean or a string"},default:"blockquote"}),t("font_size_style_values",{processor:"string",default:"xx-small,x-small,small,medium,large,x-large,xx-large"}),t("font_size_legacy_values",{processor:"string",default:"xx-small,small,medium,large,x-large,xx-large,300%"}),t("font_size_classes",{processor:"string",default:""}),t("automatic_uploads",{processor:"boolean",default:!0}),t("images_reuse_filename",{processor:"boolean",default:!1}),t("images_replace_blob_uris",{processor:"boolean",default:!0}),t("icons",{processor:"string",default:""}),t("icons_url",{processor:"string",default:""}),t("images_upload_url",{processor:"string",default:""}),t("images_upload_base_path",{processor:"string",default:""}),t("images_upload_credentials",{processor:"boolean",default:!1}),t("images_upload_handler",{processor:"function"}),t("language",{processor:"string",default:"en"}),t("language_url",{processor:"string",default:""}),t("entity_encoding",{processor:"string",default:"named"}),t("indent",{processor:"boolean",default:!0}),t("indent_before",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_after",{processor:"string",default:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,details,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist"}),t("indent_use_margin",{processor:"boolean",default:!1}),t("indentation",{processor:"string",default:"40px"}),t("content_css",{processor:n=>{const s=n===!1||J(n)||Is(n,J);return s?J(n)?{value:ge(n.split(","),Ao),valid:s}:Me(n)?{value:n,valid:s}:n===!1?{value:[],valid:s}:{value:n,valid:s}:{valid:!1,message:"Must be false, a string or an array of strings."}},default:Ku(e)?[]:["default"]}),t("content_style",{processor:"string"}),t("content_css_cors",{processor:"boolean",default:!1}),t("font_css",{processor:n=>{const s=J(n)||Is(n,J);return s?{value:Me(n)?n:ge(n.split(","),Ao),valid:s}:{valid:!1,message:"Must be a string or an array of strings."}},default:[]}),t("extended_mathml_attributes",{processor:"string[]"}),t("extended_mathml_elements",{processor:"string[]"}),t("inline_boundaries",{processor:"boolean",default:!0}),t("inline_boundaries_selector",{processor:"string",default:"a[href],code,span.mce-annotation"}),t("object_resizing",{processor:n=>{const s=Nn(n)||J(n);return s?n===!1||Wu.isiPhone()||Wu.isiPad()?{value:"",valid:s}:{value:n===!0?"table,img,figure.image,div,video,iframe":n,valid:s}:{valid:!1,message:"Must be boolean or a string"}},default:!eS}),t("resize_img_proportional",{processor:"boolean",default:!0}),t("event_root",{processor:"string"}),t("service_message",{processor:"string"}),t("onboarding",{processor:"boolean",default:!0}),t("tiny_cloud_entry_url",{processor:"string"}),t("theme",{processor:n=>n===!1||J(n)||we(n),default:"silver"}),t("theme_url",{processor:"string"}),t("formats",{processor:"object"}),t("format_empty_lines",{processor:"boolean",default:!1}),t("format_noneditable_selector",{processor:"string",default:""}),t("preview_styles",{processor:n=>{const s=n===!1||J(n);return s?{value:n===!1?"":n,valid:s}:{valid:!1,message:"Must be false or a string"}},default:"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"}),t("custom_ui_selector",{processor:"string",default:""}),t("hidden_input",{processor:"boolean",default:!0}),t("submit_patch",{processor:"boolean",default:!0}),t("encoding",{processor:"string"}),t("add_form_submit_trigger",{processor:"boolean",default:!0}),t("add_unload_trigger",{processor:"boolean",default:!0}),t("custom_undo_redo_levels",{processor:"number",default:0}),t("disable_nodechange",{processor:"boolean",default:!1}),t("disabled",{processor:n=>Nn(n)?(e.initialized&&ql(e)!==n&&Promise.resolve().then(()=>{J7(e,n)}),{valid:!0,value:n}):{valid:!1,message:"The value must be a boolean."},default:!1}),t("readonly",{processor:"boolean",default:!1}),t("editable_root",{processor:"boolean",default:!0}),t("plugins",{processor:"string[]",default:[]}),t("external_plugins",{processor:"object"}),t("forced_plugins",{processor:"string[]"}),t("model",{processor:"string",default:e.hasPlugin("rtc")?"plugin":"dom"}),t("model_url",{processor:"string"}),t("block_unsupported_drop",{processor:"boolean",default:!0}),t("visual",{processor:"boolean",default:!0}),t("visual_table_class",{processor:"string",default:"mce-item-table"}),t("visual_anchor_class",{processor:"string",default:"mce-item-anchor"}),t("iframe_aria_text",{processor:"string",default:"Rich Text Area".concat(e.hasPlugin("help")?". Press ALT-0 for help.":"")}),t("setup",{processor:"function"}),t("init_instance_callback",{processor:"function"}),t("url_converter",{processor:"function",default:e.convertURL}),t("url_converter_scope",{processor:"object",default:e}),t("urlconverter_callback",{processor:"function"}),t("allow_conditional_comments",{processor:"boolean",default:!1}),t("allow_html_data_urls",{processor:"boolean",default:!1}),t("allow_svg_data_urls",{processor:"boolean"}),t("allow_html_in_named_anchor",{processor:"boolean",default:!1}),t("allow_script_urls",{processor:"boolean",default:!1}),t("allow_unsafe_link_target",{processor:"boolean",default:!1}),t("allow_mathml_annotation_encodings",{processor:n=>{const s=Is(n,J);return s?{value:n,valid:s}:{valid:!1,message:"Must be an array of strings."}},default:[]}),t("convert_fonts_to_spans",{processor:"boolean",default:!0,deprecated:!0}),t("fix_list_elements",{processor:"boolean",default:!1}),t("preserve_cdata",{processor:"boolean",default:!1}),t("remove_trailing_brs",{processor:"boolean",default:!0}),t("pad_empty_with_br",{processor:"boolean",default:!1}),t("inline_styles",{processor:"boolean",default:!0,deprecated:!0}),t("element_format",{processor:"string",default:"html"}),t("entities",{processor:"string"}),t("schema",{processor:"string",default:"html5"}),t("convert_urls",{processor:"boolean",default:!0}),t("relative_urls",{processor:"boolean",default:!0}),t("remove_script_host",{processor:"boolean",default:!0}),t("custom_elements",{processor:Ul}),t("extended_valid_elements",{processor:"string"}),t("invalid_elements",{processor:"string"}),t("invalid_styles",{processor:Ul}),t("valid_children",{processor:"string"}),t("valid_classes",{processor:Ul}),t("valid_elements",{processor:"string"}),t("valid_styles",{processor:Ul}),t("verify_html",{processor:"boolean",default:!0}),t("auto_focus",{processor:n=>J(n)||n===!0}),t("browser_spellcheck",{processor:"boolean",default:!1}),t("protect",{processor:"array"}),t("images_file_types",{processor:"string",default:"jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp"}),t("deprecation_warnings",{processor:"boolean",default:!0}),t("a11y_advanced_options",{processor:"boolean",default:!1}),t("api_key",{processor:"string"}),t("license_key",{processor:"string"}),t("paste_block_drop",{processor:"boolean",default:!1}),t("paste_data_images",{processor:"boolean",default:!0}),t("paste_preprocess",{processor:"function"}),t("paste_postprocess",{processor:"function"}),t("paste_webkit_styles",{processor:"string",default:"none"}),t("paste_remove_styles_if_webkit",{processor:"boolean",default:!0}),t("paste_merge_formats",{processor:"boolean",default:!0}),t("smart_paste",{processor:"boolean",default:!0}),t("paste_as_text",{processor:"boolean",default:!1}),t("paste_tab_spaces",{processor:"number",default:4}),t("text_patterns",{processor:n=>Is(n,nt)||n===!1?{value:K0(n===!1?[]:n),valid:!0}:{valid:!1,message:"Must be an array of objects or false."},default:[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1",trigger:"space"},{start:"##",format:"h2",trigger:"space"},{start:"###",format:"h3",trigger:"space"},{start:"####",format:"h4",trigger:"space"},{start:"#####",format:"h5",trigger:"space"},{start:"######",format:"h6",trigger:"space"},{start:"1.",cmd:"InsertOrderedList",trigger:"space"},{start:"*",cmd:"InsertUnorderedList",trigger:"space"},{start:"-",cmd:"InsertUnorderedList",trigger:"space"},{start:">",cmd:"mceBlockQuote",trigger:"space"},{start:"---",cmd:"InsertHorizontalRule",trigger:"space"}]}),t("text_patterns_lookup",{processor:n=>we(n)?{value:D7(n),valid:!0}:{valid:!1,message:"Must be a single function"},default:n=>[]}),t("noneditable_class",{processor:"string",default:"mceNonEditable"}),t("editable_class",{processor:"string",default:"mceEditable"}),t("noneditable_regexp",{processor:n=>Is(n,tg)?{value:n,valid:!0}:tg(n)?{value:[n],valid:!0}:{valid:!1,message:"Must be a RegExp or an array of RegExp."},default:[]}),t("table_tab_navigation",{processor:"boolean",default:!0}),t("highlight_on_focus",{processor:"boolean",default:!0}),t("xss_sanitization",{processor:"boolean",default:!0}),t("details_initial_state",{processor:n=>{const s=Ee(["inherited","collapsed","expanded"],n);return s?{value:n,valid:s}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("details_serialized_state",{processor:n=>{const s=Ee(["inherited","collapsed","expanded"],n);return s?{value:n,valid:s}:{valid:!1,message:"Must be one of: inherited, collapsed, or expanded."}},default:"inherited"}),t("init_content_sync",{processor:"boolean",default:!1}),t("newdocument_content",{processor:"string",default:""}),t("sandbox_iframes",{processor:"boolean",default:!0}),t("sandbox_iframes_exclusions",{processor:"string[]",default:["youtube.com","youtu.be","vimeo.com","player.vimeo.com","dailymotion.com","embed.music.apple.com","open.spotify.com","giphy.com","dai.ly","codepen.io"]}),t("convert_unsafe_embeds",{processor:"boolean",default:!0}),e.on("ScriptsLoaded",()=>{t("directionality",{processor:"string",default:En.isRtl()?"rtl":void 0}),t("placeholder",{processor:"string",default:tS.getAttrib(e.getElement(),"placeholder")})})},oS=U("iframe_attrs"),rS=U("doctype"),sg=U("document_base_url"),aS=U("body_id"),lS=U("body_class"),og=U("content_security_policy"),iS=U("br_in_pre"),mt=U("forced_root_block"),fa=U("forced_root_block_attrs"),cS=U("newline_behavior"),uS=U("br_newline_selector"),dS=U("no_newline_selector"),fS=U("keep_styles"),mS=U("end_container_on_empty_block"),rg=U("automatic_uploads"),ag=U("images_reuse_filename"),hS=U("images_replace_blob_uris"),lg=U("icons"),gS=U("icons_url"),pS=U("images_upload_url"),vS=U("images_upload_base_path"),bS=U("images_upload_credentials"),CS=U("images_upload_handler"),yS=U("content_css_cors"),ju=U("referrer_policy"),ig=U("language"),ES=U("language_url"),cg=U("indent_use_margin"),wS=U("indentation"),SS=U("content_css"),kS=U("content_style"),ug=U("font_css"),xS=U("directionality"),_S=U("inline_boundaries_selector"),dg=U("object_resizing"),AS=U("resize_img_proportional"),NS=U("placeholder"),fg=U("event_root"),TS=U("service_message"),Wo=U("theme"),RS=U("theme_url"),qu=U("model"),PS=U("model_url"),ma=U("inline_boundaries"),MS=U("formats"),DS=U("preview_styles"),OS=U("format_empty_lines"),BS=U("format_noneditable_selector"),LS=U("custom_ui_selector"),Ku=U("inline"),HS=U("hidden_input"),IS=U("submit_patch"),$S=U("add_form_submit_trigger"),ZS=U("add_unload_trigger"),FS=U("custom_undo_redo_levels"),zS=U("disable_nodechange"),mg=U("readonly"),VS=U("editable_root"),hg=U("content_css_cors"),Wl=U("plugins"),US=U("external_plugins"),WS=U("block_unsupported_drop"),jS=U("visual"),qS=U("visual_table_class"),gg=U("visual_anchor_class"),pg=U("iframe_aria_text"),KS=U("setup"),GS=U("init_instance_callback"),YS=U("urlconverter_callback"),XS=U("auto_focus"),QS=U("browser_spellcheck"),JS=U("protect"),ek=U("paste_block_drop"),jl=U("paste_data_images"),tk=U("paste_preprocess"),nk=U("paste_postprocess"),sk=U("newdocument_content"),ok=U("paste_webkit_styles"),rk=U("paste_remove_styles_if_webkit"),ak=U("paste_merge_formats"),lk=U("smart_paste"),ik=U("paste_as_text"),ck=U("paste_tab_spaces"),uk=U("allow_html_data_urls"),dk=U("text_patterns"),fk=U("text_patterns_lookup"),vg=U("noneditable_class"),mk=U("editable_class"),hk=U("noneditable_regexp"),gk=U("preserve_cdata"),pk=U("highlight_on_focus"),bg=U("xss_sanitization"),vk=U("init_content_sync"),bk=e=>e.options.isSet("text_patterns_lookup"),Ck=e=>L.explode(e.options.get("font_size_style_values")),yk=e=>L.explode(e.options.get("font_size_classes")),Ek=e=>e.options.get("encoding")==="xml",Cg=e=>L.explode(e.options.get("images_file_types")),wk=U("table_tab_navigation"),Sk=U("details_initial_state"),kk=U("details_serialized_state"),yg=U("sandbox_iframes"),Gu=e=>e.options.get("sandbox_iframes_exclusions"),xk=U("convert_unsafe_embeds"),_k=U("license_key"),Ak=U("api_key"),ql=U("disabled"),Nk=q,Eg=O,wg=e=>{const t=e.parentNode;t&&t.removeChild(e)},Sg=e=>{const t=zt(e);return{count:e.length-t.length,text:t}},kg=e=>{let t;for(;(t=e.data.lastIndexOf(Xe))!==-1;)e.deleteData(t,1)},xg=(e,t)=>(no(e),t),Tk=(e,t)=>{const n=Sg(e.data.substr(0,t.offset())),s=Sg(e.data.substr(t.offset()));return(n.text+s.text).length>0?(kg(e),A(e,t.offset()-n.count)):t},Rk=(e,t)=>{const n=t.container(),s=r6($t(n.childNodes),e).map(o=>o<t.offset()?A(n,t.offset()-1):t).getOr(t);return no(e),s},Pk=(e,t)=>Eg(e)&&t.container()===e?Tk(e,t):xg(e,t),Mk=(e,t)=>t.container()===e.parentNode?Rk(e,t):xg(e,t),Dk=(e,t)=>A.isTextPosition(t)?Pk(e,t):Mk(e,t),no=e=>{Nk(e)&&Kt(e)&&(p0(e)?e.removeAttribute("data-mce-caret"):wg(e)),Eg(e)&&(kg(e),e.data.length===0&&wg(e))},Ok=_e,Bk=In,Lk=Nl,Hk="*[contentEditable=false],video,audio,embed,object",_g=(e,t,n)=>{const s=b0(t.getBoundingClientRect(),n);let o,r;if(e.tagName==="BODY"){const l=e.ownerDocument.documentElement;o=e.scrollLeft||l.scrollLeft,r=e.scrollTop||l.scrollTop}else{const l=e.getBoundingClientRect();o=e.scrollLeft-l.left,r=e.scrollTop-l.top}s.left+=o,s.right+=o,s.top+=r,s.bottom+=r,s.width=1;let a=t.offsetWidth-t.clientWidth;return a>0&&(n&&(a*=-1),s.left+=a,s.right+=a),s},Ik=e=>{var t,n;const s=dt(b.fromDom(e),Hk);for(let o=0;o<s.length;o++){const r=s[o].dom;let a=r.previousSibling;if($l(a)){const l=a.data;l.length===1?(t=a.parentNode)===null||t===void 0||t.removeChild(a):a.deleteData(l.length-1,1)}a=r.nextSibling,Il(a)&&(a.data.length===1?(n=a.parentNode)===null||n===void 0||n.removeChild(a):a.deleteData(0,1))}},$k=(e,t,n,s)=>{const o=os();let r,a;const l=mt(e),i=e.dom,c=(g,v)=>{let C;if(u(),Lk(v))return null;if(n(v)){const y=zw(l,v,g),E=_g(t,v,g);i.setStyle(y,"top",E.top),i.setStyle(y,"caret-color","transparent"),a=y;const S=i.create("div",{class:"mce-visual-caret","data-mce-bogus":"all"});i.setStyles(S,{...E}),i.add(t,S),o.set({caret:S,element:v,before:g}),g&&i.addClass(S,"mce-visual-caret-before"),d(),C=v.ownerDocument.createRange(),C.setStart(y,0),C.setEnd(y,0)}else return a=Fw(v,g),C=v.ownerDocument.createRange(),ha(a.nextSibling)?(C.setStart(a,0),C.setEnd(a,0)):(C.setStart(a,1),C.setEnd(a,1)),C;return C},u=()=>{Ik(t),a&&(no(a),a=null),o.on(g=>{i.remove(g.caret),o.clear()}),r&&(clearInterval(r),r=void 0)},d=()=>{r=window.setInterval(()=>{o.on(g=>{s()?i.toggleClass(g.caret,"mce-visual-caret-hidden"):i.addClass(g.caret,"mce-visual-caret-hidden")})},500)};return{show:c,hide:u,getCss:()=>".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}",reposition:()=>{o.on(g=>{const v=_g(t,g.element,g.before);i.setStyles(g.caret,{...v})})},destroy:()=>clearInterval(r)}},Ag=()=>ve.browser.isFirefox(),ha=e=>Ok(e)||Bk(e),ga=e=>(ha(e)||Hn(e)&&Ag())&&Vr(b.fromDom(e)).exists(bs),Zk=ln,Yu=_e,Fk=In,Ng=Al("display","block table table-cell table-row table-caption list-item"),Tg=Kt,Rg=Vo,zk=q,Vk=O,Uk=wn,jo=e=>e===1,so=e=>e===-1,Kl=(e,t)=>{let n;for(;n=e(t);)if(!Rg(n))return n;return null},pa=(e,t,n,s,o)=>{const r=new Je(e,s),a=Yu(e)||Rg(e);let l;if(so(t)){if(a&&(l=Kl(r.prev.bind(r),!0),n(l)))return l;for(;l=Kl(r.prev.bind(r),o);)if(n(l))return l}if(jo(t)){if(a&&(l=Kl(r.next.bind(r),!0),n(l)))return l;for(;l=Kl(r.next.bind(r),o);)if(n(l))return l}return null},Wk=(e,t)=>{const n=o=>Zk(o.dom),s=o=>o.dom===t;return ts(b.fromDom(e),n,s).map(o=>o.dom).getOr(t)},_s=(e,t)=>{for(;e&&e!==t;){if(Ng(e))return e;e=e.parentNode}return null},Zn=(e,t,n)=>_s(e.container(),n)===_s(t.container(),n),Xu=(e,t)=>{if(!t)return m.none();const n=t.container(),s=t.offset();return zk(n)?m.from(n.childNodes[s+e]):m.none()},Pg=(e,t)=>{var n;const o=((n=t.ownerDocument)!==null&&n!==void 0?n:document).createRange();return e?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)),o},jk=(e,t,n)=>_s(t,e)===_s(n,e),Mg=(e,t,n)=>{const s=e?"previousSibling":"nextSibling";let o=n;for(;o&&o!==t;){let r=o[s];if(r&&Tg(r)&&(r=r[s]),Yu(r)||Fk(r)){if(jk(t,r,o))return r;break}if(Uk(r))break;o=o.parentNode}return null},va=K(Pg,!0),ba=K(Pg,!1),Qu=(e,t,n)=>{let s;const o=K(Mg,!0,t),r=K(Mg,!1,t),a=n.startContainer,l=n.startOffset;if(Vo(a)){const i=Vk(a)?a.parentNode:a,c=i.getAttribute("data-mce-caret");if(c==="before"&&(s=i.nextSibling,ga(s)))return va(s);if(c==="after"&&(s=i.previousSibling,ga(s)))return ba(s)}if(!n.collapsed)return n;if(O(a)){if(Tg(a)){if(e===1){if(s=r(a),s)return va(s);if(s=o(a),s)return ba(s)}if(e===-1){if(s=o(a),s)return ba(s);if(s=r(a),s)return va(s)}return n}if($l(a)&&l>=a.data.length-1)return e===1&&(s=r(a),s)?va(s):n;if(Il(a)&&l<=1)return e===-1&&(s=o(a),s)?ba(s):n;if(l===a.data.length)return s=r(a),s?va(s):n;if(l===0)return s=o(a),s?ba(s):n}return n},Dg=(e,t)=>Xu(e?0:-1,t).filter(Yu),Ca=(e,t,n)=>{const s=Qu(e,t,n);return e===-1?A.fromRangeStart(s):A.fromRangeEnd(s)},Gl=e=>m.from(e.getNode()).map(b.fromDom),qk=e=>m.from(e.getNode(!0)).map(b.fromDom),Ju=(e,t)=>{let n=t;for(;n=e(n);)if(n.isVisible())return n;return n},Yl=(e,t)=>{const n=Zn(e,t);return!n&&De(e.getNode())?!0:n},Kk=_e,Fn=O,Og=q,e1=De,qo=wn,Bg=l7,Xl=k0,Gk=(e,t)=>{const n=[];let s=e;for(;s&&s!==t;)n.push(s),s=s.parentNode;return n},Lg=(e,t)=>e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null,Hg=(e,t)=>{if(jo(e)){if(qo(t.previousSibling)&&!Fn(t.previousSibling))return A.before(t);if(Fn(t))return A(t,0)}if(so(e)){if(qo(t.nextSibling)&&!Fn(t.nextSibling))return A.after(t);if(Fn(t))return A(t,t.data.length)}return so(e)?e1(t)?A.before(t):A.after(t):A.before(t)},Yk=(e,t)=>{const n=t.nextSibling;return n&&qo(n)?Fn(n)?A(n,0):A.before(n):t1(1,A.after(t),e)},t1=(e,t,n)=>{let s,o,r,a;if(!Og(n)||!t)return null;if(t.isEqual(A.after(n))&&n.lastChild){if(a=A.after(n.lastChild),so(e)&&qo(n.lastChild)&&Og(n.lastChild))return e1(n.lastChild)?A.before(n.lastChild):a}else a=t;const l=a.container();let i=a.offset();if(Fn(l)){if(so(e)&&i>0)return A(l,--i);if(jo(e)&&i<l.length)return A(l,++i);s=l}else{if(so(e)&&i>0&&(o=Lg(l,i-1),qo(o)))return!Bg(o)&&(r=pa(o,e,Xl,o),r)?Fn(r)?A(r,r.data.length):A.after(r):Fn(o)?A(o,o.data.length):A.before(o);if(jo(e)&&i<l.childNodes.length&&(o=Lg(l,i),qo(o)))return e1(o)?Yk(n,o):!Bg(o)&&(r=pa(o,e,Xl,o),r)?Fn(r)?A(r,0):A.before(r):Fn(o)?A(o,0):A.after(o);s=o||a.getNode()}if(s&&(jo(e)&&a.isAtEnd()||so(e)&&a.isAtStart())&&(s=pa(s,e,$e,n,!0),Xl(s,n)))return Hg(e,s);o=s&&pa(s,e,Xl,n);const c=Zs(se(Gk(l,n),Kk));return c&&(!o||!c.contains(o))?(jo(e)?a=A.after(c):a=A.before(c),a):o?Hg(e,o):null},zn=e=>({next:t=>t1(1,t,e),prev:t=>t1(-1,t,e)}),Xk=(e,t,n)=>{const s=e?A.before(n):A.after(n);return Gt(e,t,s)},Qk=e=>De(e)?A.before(e):A.after(e),Ig=e=>A.isTextPosition(e)?e.offset()===0:wn(e.getNode()),$g=e=>{if(A.isTextPosition(e)){const t=e.container();return e.offset()===t.data.length}else return wn(e.getNode(!0))},Zg=(e,t)=>!A.isTextPosition(e)&&!A.isTextPosition(t)&&e.getNode()===t.getNode(!0),Jk=e=>!A.isTextPosition(e)&&De(e.getNode()),ex=(e,t,n)=>e?!Zg(t,n)&&!Jk(t)&&$g(t)&&Ig(n):!Zg(n,t)&&Ig(t)&&$g(n),Gt=(e,t,n)=>{const s=zn(t);return m.from(e?s.next(n):s.prev(n))},Ko=(e,t,n)=>Gt(e,t,n).bind(s=>Zn(n,s,t)&&ex(e,n,s)?Gt(e,t,s):m.some(s)),Fg=(e,t,n,s)=>Ko(e,t,n).bind(o=>s(o)?Fg(e,t,o,s):m.some(o)),Go=(e,t)=>{const n=e?t.firstChild:t.lastChild;return O(n)?m.some(A(n,e?0:n.data.length)):n?wn(n)?m.some(e?A.before(n):Qk(n)):Xk(e,t,n):m.none()},Tt=K(Gt,!0),Bt=K(Gt,!1),ht=K(Go,!0),cn=K(Go,!1),n1="_mce_caret",Yt=e=>q(e)&&e.id===n1,oo=(e,t)=>{let n=t;for(;n&&n!==e;){if(Yt(n))return n;n=n.parentNode}return null},tx=e=>J(e.start),nx=e=>oe(e,"rng"),sx=e=>oe(e,"id"),zg=e=>oe(e,"name"),Vg=e=>L.isArray(e.start),Ql=e=>!zg(e)&&Nn(e.forward)?e.forward:!0,Ug=(e,t)=>(q(t)&&e.isBlock(t)&&!t.innerHTML&&(t.innerHTML='<br data-mce-bogus="1" />'),t),ox=(e,t)=>{const n=m.from(L0(e.getRoot(),t.start)),s=m.from(L0(e.getRoot(),t.end));return ct(n,s,(o,r)=>{const a=e.createRng();return a.setStart(o.container(),o.offset()),a.setEnd(r.container(),r.offset()),{range:a,forward:Ql(t)}})},rx=(e,t)=>{var n;const o=((n=e.ownerDocument)!==null&&n!==void 0?n:document).createTextNode(Xe);e.appendChild(o),t.setStart(o,0),t.setEnd(o,0)},ax=e=>!e.hasChildNodes(),lx=(e,t)=>cn(e).fold(Pe,n=>(t.setStart(n.container(),n.offset()),t.setEnd(n.container(),n.offset()),!0)),Wg=(e,t,n)=>ax(t)&&oo(e,t)?(rx(t,n),!0):!1,jg=(e,t,n,s)=>{const o=n[t?"start":"end"],r=e.getRoot();if(o){let a=r,l=o[0];for(let i=o.length-1;a&&i>=1;i--){const c=a.childNodes;if(Wg(r,a,s))return!0;if(o[i]>c.length-1)return Wg(r,a,s)?!0:lx(a,s);a=c[o[i]]}O(a)&&(l=Math.min(o[0],a.data.length)),q(a)&&(l=Math.min(o[0],a.childNodes.length)),t?s.setStart(a,l):s.setEnd(a,l)}return!0},s1=e=>O(e)&&e.data.length>0,qg=(e,t,n)=>{const s=e.get(n.id+"_"+t),o=s?.parentNode,r=n.keep;if(s&&o){let a,l;if(t==="start"?r?s.hasChildNodes()?(a=s.firstChild,l=1):s1(s.nextSibling)?(a=s.nextSibling,l=0):s1(s.previousSibling)?(a=s.previousSibling,l=s.previousSibling.data.length):(a=o,l=e.nodeIndex(s)+1):(a=o,l=e.nodeIndex(s)):r?s.hasChildNodes()?(a=s.firstChild,l=1):s1(s.previousSibling)?(a=s.previousSibling,l=s.previousSibling.data.length):(a=o,l=e.nodeIndex(s)):(a=o,l=e.nodeIndex(s)),!r){const i=s.previousSibling,c=s.nextSibling;L.each(L.grep(s.childNodes),d=>{O(d)&&(d.data=d.data.replace(/\uFEFF/g,""))});let u;for(;u=e.get(n.id+"_"+t);)e.remove(u,!0);if(O(c)&&O(i)&&!ve.browser.isOpera()){const d=i.data.length;i.appendData(c.data),e.remove(c),a=i,l=d}}return m.some(A(a,l))}else return m.none()},ix=(e,t)=>{const n=e.createRng();return jg(e,!0,t,n)&&jg(e,!1,t,n)?m.some({range:n,forward:Ql(t)}):m.none()},cx=(e,t)=>{const n=qg(e,"start",t),s=qg(e,"end",t);return ct(n,s.or(n),(o,r)=>{const a=e.createRng();return a.setStart(Ug(e,o.container()),o.offset()),a.setEnd(Ug(e,r.container()),r.offset()),{range:a,forward:Ql(t)}})},ux=(e,t)=>m.from(e.select(t.name)[t.index]).map(n=>{const s=e.createRng();return s.selectNode(n),{range:s,forward:!0}}),dx=(e,t)=>{const n=e.dom;if(t){if(Vg(t))return ix(n,t);if(tx(t))return ox(n,t);if(sx(t))return cx(n,t);if(zg(t))return ux(n,t);if(nx(t))return m.some({range:t.rng,forward:Ql(t)})}return m.none()},fx=(e,t,n)=>_7(e,t,n),mx=(e,t)=>{dx(e,t).each(({range:n,forward:s})=>{e.setRng(n,s)})},Xt=e=>q(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark",Jl=(e=>t=>e===t)(Ye),ro=e=>e!==""&&` \f
\r	\v`.indexOf(e)!==-1,o1=e=>!ro(e)&&!Jl(e)&&!nu(e),r1=e=>{const t=[];if(e)for(let n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},hx=e=>qt(e,t=>{const n=Zl(t);return n?[b.fromDom(n)]:[]}),gx=e=>r1(e).length>1,px=e=>se(hx(e),la),vx=e=>dt(e,"td[data-mce-selected],th[data-mce-selected]"),Kg=(e,t)=>{const n=vx(t);return n.length>0?n:px(e)},Yo=e=>Kg(r1(e.selection.getSel()),b.fromDom(e.getBody())),ya=(e,t)=>Wr(e,"table",t),bx=e=>{const t=e.startContainer,n=e.startOffset;return O(t)?n===0?m.some(b.fromDom(t)):m.none():m.from(t.childNodes[n]).map(b.fromDom)},Cx=e=>{const t=e.endContainer,n=e.endOffset;return O(t)?n===t.data.length?m.some(b.fromDom(t)):m.none():m.from(t.childNodes[n-1]).map(b.fromDom)},Gg=e=>Uc(e).fold(j([e]),t=>[e].concat(Gg(t))),a1=e=>Wc(e).fold(j([e]),t=>pe(t)==="br"?gs(t).map(n=>[e].concat(a1(n))).getOr([]):[e].concat(a1(t))),l1=(e,t)=>ct(bx(t),Cx(t),(n,s)=>{const o=Ke(Gg(e),K(Ce,n)),r=Ke(a1(e),K(Ce,s));return o.isSome()&&r.isSome()}).getOr(!1),i1=(e,t,n,s)=>{const o=n,r=new Je(n,o),a=Pr(e.schema.getMoveCaretBeforeOnEnterElements(),(i,c)=>!Ee(["td","th","table"],c.toLowerCase()));let l=n;do{if(O(l)&&L.trim(l.data).length!==0){s?t.setStart(l,0):t.setEnd(l,l.data.length);return}if(a[l.nodeName]){s?t.setStartBefore(l):l.nodeName==="BR"?t.setEndBefore(l):t.setEndAfter(l);return}}while(l=s?r.next():r.prev());o.nodeName==="BODY"&&(s?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},ei=e=>{const t=e.selection.getSel();return $(t)&&t.rangeCount>0},c1=(e,t)=>{const n=Yo(e);n.length>0?R(n,s=>{const o=s.dom,r=e.dom.createRng();r.setStartBefore(o),r.setEndAfter(o),t(r,!0)}):t(e.selection.getRng(),!1)},Yg=(e,t,n)=>{const s=V0(e,t);n(s),e.moveToBookmark(s)},Ea=e=>an(e?.nodeType),u1=e=>q(e)&&!Xt(e)&&!Yt(e)&&!Us(e),yx=(e,t)=>{if(u1(t)&&!/^(TD|TH)$/.test(t.nodeName)){const n=e.getAttrib(t,"data-mce-selected"),s=parseInt(n,10);return!isNaN(s)&&s>0}else return!1},Xg=(e,t,n)=>{const{selection:s,dom:o}=e,r=s.getNode(),a=_e(r);Yg(s,!0,()=>{t()}),a&&_e(r)&&o.isChildOf(r,e.getBody())?e.selection.select(r):n(s.getStart())&&Ex(o,s)},Ex=(e,t)=>{var n,s;const o=t.getRng(),{startContainer:r,startOffset:a}=o,l=t.getNode();if(!yx(e,l)&&q(r)){const i=r.childNodes,c=e.getRoot();let u;if(a<i.length){const d=i[a];u=new Je(d,(n=e.getParent(d,e.isBlock))!==null&&n!==void 0?n:c)}else{const d=i[i.length-1];u=new Je(d,(s=e.getParent(d,e.isBlock))!==null&&s!==void 0?s:c),u.next(!0)}for(let d=u.current();d;d=u.next()){if(e.getContentEditable(d)==="false")return;if(O(d)&&!f1(d)){o.setStart(d,0),t.setRng(o);return}}}},Qg=(e,t,n)=>{if(e){const s=t?"nextSibling":"previousSibling";for(e=e[s];e;e=e[s])if(q(e)||!f1(e))return e}},d1=(e,t)=>!!e.getTextBlockElements()[t.nodeName.toLowerCase()]||js(e,t),Xo=(e,t,n)=>e.schema.isValidChild(t,n),f1=(e,t=!1)=>{if($(e)&&O(e)){const n=t?e.data.replace(/ /g,"\xA0"):e.data;return Lo(n)}else return!1},wx=e=>$(e)&&O(e)&&e.length===0,Sx=(e,t)=>{const n="[data-mce-cef-wrappable]",s=BS(e),o=Or(s)?n:`${n},${s}`;return vn(b.fromDom(t),o)},Jg=(e,t)=>{const n=e.dom;return u1(t)&&n.getContentEditable(t)==="false"&&Sx(e,t)&&n.select('[contenteditable="true"]',t).length===0},As=(e,t)=>we(e)?e(t):($(t)&&(e=e.replace(/%(\w+)/g,(n,s)=>t[s]||n)),e),m1=(e,t)=>(e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()),h1=(e,t)=>{if(ze(e))return null;{let n=String(e);return(t==="color"||t==="backgroundColor")&&(n=Xr(n)),t==="fontWeight"&&e===700&&(n="bold"),t==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),n}},ti=(e,t,n)=>{const s=e.getStyle(t,n);return h1(s,n)},ep=(e,t)=>{let n;return e.getParent(t,s=>q(s)?(n=e.getStyle(s,"text-decoration"),!!n&&n!=="none"):!1),n},ni=(e,t,n)=>e.getParents(t,n,e.getRoot()),g1=(e,t,n)=>{const s=e.formatter.get(t);return $(s)&&Le(s,n)},kx=(e,t)=>g1(e,t,s=>{const o=r=>we(r)||r.length>1&&r.charAt(0)==="%";return Le(["styles","attributes"],r=>Ae(s,r).exists(a=>{const l=Me(a)?a:Oc(a);return Le(l,o)}))}),xx=(e,t,n)=>{const s=["inline","block","selector","attributes","styles","classes"],o=r=>Pr(r,(a,l)=>Le(s,i=>i===l));return g1(e,t,r=>{const a=o(r);return g1(e,n,l=>{const i=o(l);return c6(a,i)})})},Vn=e=>_o(e,"block"),_x=e=>Vn(e)&&e.wrapper===!0,Ax=e=>Vn(e)&&e.wrapper!==!0,Qt=e=>_o(e,"selector"),Qe=e=>_o(e,"inline"),Nx=e=>Qt(e)&&Qe(e)&&No(Ae(e,"mixed"),!0),p1=e=>Qt(e)&&e.expand!==!1&&!Qe(e),Tx=e=>{const t=[];let n=e;for(;n;){if(O(n)&&n.data!==Xe||n.childNodes.length>1)return[];q(n)&&t.push(n),n=n.firstChild}return t},tp=e=>Tx(e).length>0,v1=e=>Yt(e.dom)&&tp(e.dom),Qo=Xt,np=ni,sp=f1,Rx=d1,Px=e=>De(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling,op=(e,t)=>{let n=t;for(;n;){if(q(n)&&e.getContentEditable(n))return e.getContentEditable(n)==="false"?n:t;n=n.parentNode}return t},rp=(e,t,n,s)=>{const o=t.data;if(e){for(let r=n;r>0;r--)if(s(o.charAt(r-1)))return r}else for(let r=n;r<o.length;r++)if(s(o.charAt(r)))return r;return-1},Mx=(e,t,n)=>rp(e,t,n,s=>Jl(s)||ro(s)),Dx=(e,t,n)=>rp(e,t,n,o1),ap=(e,t,n,s,o,r)=>{let a;const l=e.getParent(n,d=>ru(d)||e.isBlock(d)),i=$(l)?l:t,c=(d,f,h)=>{const p=Qs(e),g=o?p.backwards:p.forwards;return m.from(g(d,f,(v,C)=>Qo(v.parentNode)?-1:(a=v,h(o,v,C)),i))};return c(n,s,Mx).bind(d=>r?c(d.container,d.offset+(o?-1:0),Dx):m.some(d)).orThunk(()=>a?m.some({container:a,offset:o?0:a.length}):m.none())},lp=(e,t,n,s,o)=>{const r=s[o];O(s)&&Or(s.data)&&r&&(s=r);const a=np(e,s);for(let l=0;l<a.length;l++)for(let i=0;i<t.length;i++){const c=t[i];if(!($(c.collapsed)&&c.collapsed!==n.collapsed)&&Qt(c)&&e.is(a[l],c.selector))return a[l]}return s},ip=(e,t,n,s)=>{var o;let r=n;const a=e.getRoot(),l=t[0];if(Vn(l)&&(r=l.wrapper?null:e.getParent(n,l.block,a)),!r){const i=(o=e.getParent(n,"LI,TD,TH,SUMMARY"))!==null&&o!==void 0?o:a;r=e.getParent(O(n)?n.parentNode:n,c=>c!==a&&Rx(e.schema,c),i)}if(r&&Vn(l)&&l.wrapper&&(r=np(e,r,"ul,ol").reverse()[0]||r),!r)for(r=n;r&&r[s]&&!e.isBlock(r[s])&&(r=r[s],!m1(r,"br")););return r||n},cp=(e,t,n,s)=>{const o=n.parentNode;return $(n[s])?!1:o===t||ze(o)||e.isBlock(o)?!0:cp(e,t,o,s)},si=(e,t,n,s,o,r)=>{let a=n;const l=o?"previousSibling":"nextSibling",i=e.getRoot();if(O(n)&&!sp(n)&&(o?s>0:s<n.data.length))return n;for(;a;){if(ru(a))return n;if(!t[0].block_expand&&e.isBlock(a))return r?a:n;for(let c=a[l];c;c=c[l]){const u=O(c)&&!cp(e,i,c,l);if(!Qo(c)&&!Px(c)&&!sp(c,u))return a}if(a===i||a.parentNode===i){n=a;break}a=a.parentNode}return n},up=e=>Qo(e.parentNode)||Qo(e),ao=(e,t,n,s={})=>{const{includeTrailingSpace:o=!1,expandToBlock:r=!0}=s,a=e.getParent(t.commonAncestorContainer,h=>ru(h)),l=$(a)?a:e.getRoot();let{startContainer:i,startOffset:c,endContainer:u,endOffset:d}=t;const f=n[0];return q(i)&&i.hasChildNodes()&&(i=ks(i,c),O(i)&&(c=0)),q(u)&&u.hasChildNodes()&&(u=ks(u,t.collapsed?d:d-1),O(u)&&(d=u.data.length)),i=op(e,i),u=op(e,u),up(i)&&(i=Qo(i)?i:i.parentNode,t.collapsed?i=i.previousSibling||i:i=i.nextSibling||i,O(i)&&(c=t.collapsed?i.length:0)),up(u)&&(u=Qo(u)?u:u.parentNode,t.collapsed?u=u.nextSibling||u:u=u.previousSibling||u,O(u)&&(d=t.collapsed?0:u.length)),t.collapsed&&(ap(e,l,i,c,!0,o).each(({container:g,offset:v})=>{i=g,c=v}),ap(e,l,u,d,!1,o).each(({container:g,offset:v})=>{u=g,d=v})),(Qe(f)||f.block_expand)&&((!Qe(f)||!O(i)||c===0)&&(i=si(e,n,i,c,!0,r)),(!Qe(f)||!O(u)||d===u.data.length)&&(u=si(e,n,u,d,!1,r))),p1(f)&&(i=lp(e,n,t,i,"previousSibling"),u=lp(e,n,t,u,"nextSibling")),(Vn(f)||Qt(f))&&(i=ip(e,n,i,"previousSibling"),u=ip(e,n,u,"nextSibling"),Vn(f)&&(e.isBlock(i)||(i=si(e,n,i,c,!0,r),O(i)&&(c=0)),e.isBlock(u)||(u=si(e,n,u,d,!1,r),O(u)&&(d=u.data.length)))),q(i)&&i.parentNode&&(c=e.nodeIndex(i),i=i.parentNode),q(u)&&u.parentNode&&(d=e.nodeIndex(u)+1,u=u.parentNode),{startContainer:i,startOffset:c,endContainer:u,endOffset:d}},wa=(e,t,n)=>{var s;const o=t.startOffset,r=ks(t.startContainer,o),a=t.endOffset,l=ks(t.endContainer,a-1),i=v=>{const C=v[0];O(C)&&C===r&&o>=C.data.length&&v.splice(0,1);const y=v[v.length-1];return a===0&&v.length>0&&y===l&&O(y)&&v.splice(v.length-1,1),v},c=(v,C,y)=>{const E=[];for(;v&&v!==y;v=v[C])E.push(v);return E},u=(v,C)=>e.getParent(v,y=>y.parentNode===C,C),d=(v,C,y)=>{const E=y?"nextSibling":"previousSibling";for(let S=v,T=S.parentNode;S&&S!==C;S=T){T=S.parentNode;const D=c(S===v?S:S[E],E);D.length&&(y||D.reverse(),n(i(D)))}};if(r===l)return n(i([r]));const f=(s=e.findCommonAncestor(r,l))!==null&&s!==void 0?s:e.getRoot();if(e.isChildOf(r,l))return d(r,f,!0);if(e.isChildOf(l,r))return d(l,f);const h=u(r,f)||r,p=u(l,f)||l;d(r,h,!0);const g=c(h===r?h:h.nextSibling,"nextSibling",p===l?p.nextSibling:p);g.length&&n(i(g)),d(l,p)},Ox=['pre[class*=language-][contenteditable="false"]',"figure.image","div[data-ephox-embed-iri]","div.tiny-pageembed","div.mce-toc","div[data-mce-toc]","div.mce-footnotes"],Bx=e=>At(e)&&aa(e)===Xe,Lx=(e,t,n,s)=>Vr(t).fold(()=>"skipping",o=>s==="br"||Bx(t)?"valid":bw(t)?"existing":Yt(t.dom)?"caret":Le(Ox,r=>vn(t,r))?"valid-block":!Xo(e,n,s)||!Xo(e,pe(o),n)?"invalid-child":"valid"),Hx=(e,t)=>{const n=ao(e.dom,t,[{inline:"span"}]);t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},dp=(e,t,n,s,o,r)=>{const{uid:a=t,...l}=n;Ro(e,ta()),ot(e,`${Io()}`,a),ot(e,`${Ys()}`,s);const{attributes:i={},classes:c=[]}=o(a,l);if(Jn(e,i),Sw(e,c),r){c.length>0&&ot(e,`${sa()}`,c.join(","));const u=Dt(i);u.length>0&&ot(e,`${oa()}`,u.join(","))}},Ix=e=>{Zr(e,ta()),rt(e,`${Io()}`),rt(e,`${Ys()}`),rt(e,`${na()}`);const t=es(e,`${oa()}`).map(s=>s.split(",")).getOr([]),n=es(e,`${sa()}`).map(s=>s.split(",")).getOr([]);R(t,s=>rt(e,s)),kw(e,n),rt(e,`${sa()}`),rt(e,`${oa()}`)},fp=(e,t,n,s,o)=>{const r=b.fromTag("span",e);return dp(r,t,n,s,o,!1),r},$x=(e,t,n,s,o,r)=>{const a=[],l=fp(e.getDoc(),n,r,s,o),i=os(),c=()=>{i.clear()},u=()=>i.get().getOrThunk(()=>{const p=Xs(l);return a.push(p),i.set(p),p}),d=p=>{R(p,f)},f=p=>{switch(Lx(e,p,"span",pe(p))){case"invalid-child":{c();const v=ut(p);d(v),c();break}case"valid-block":{c(),dp(p,n,r,s,o,!0);break}case"valid":{const v=u();dh(p,v);break}}},h=p=>{const g=ge(p,b.fromDom);d(g)};return wa(e.dom,t,p=>{c(),h(p)}),a},Zx=(e,t,n,s)=>{e.undoManager.transact(()=>{const o=e.selection,r=o.getRng(),a=Yo(e).length>0,l=ra("mce-annotation");if(r.collapsed&&!a&&Hx(e,r),o.getRng().collapsed&&!a){const i=fp(e.getDoc(),l,s,t,n.decorate);kl(i,Ye),o.getRng().insertNode(i.dom),o.select(i.dom)}else Yg(o,!1,()=>{c1(e,i=>{$x(e,i,l,t,n.decorate,s)})})})},mp=e=>{const t=Ew();yw(e,t);const n=Cw(e,t),s=Hr("span"),o=r=>{R(r,a=>{s(a)?Cs(a):Ix(a)})};return{register:(r,a)=>{t.register(r,a)},annotate:(r,a)=>{t.lookup(r).each(l=>{Zx(e,r,l,a)})},annotationChanged:(r,a)=>{n.addListener(r,a)},remove:r=>{r0(e,m.some(r)).each(({elements:a})=>{const l=e.selection.getBookmark();o(a),e.selection.moveToBookmark(l)})},removeAll:r=>{const a=e.selection.getBookmark();xe(i0(e,r),(l,i)=>{o(l)}),e.selection.moveToBookmark(a)},getAll:r=>{const a=i0(e,r);return Rr(a,l=>ge(l,i=>i.dom))}}},Sa=e=>({getBookmark:K(fx,e),moveToBookmark:K(mx,e)});Sa.isBookmarkNode=Xt;const hp=(e,t,n)=>n.collapsed?!1:Le(n.getClientRects(),s=>Ww(s,e,t)),gp=()=>b.fromDom(document),pp=(e,t=!1)=>e.dom.focus({preventScroll:t}),vp=e=>{const t=ps(e).dom;return e.dom===t.activeElement},b1=(e=gp())=>m.from(e.dom.activeElement).map(b.fromDom),Fx=e=>b1(ps(e)).filter(t=>e.dom.contains(t.dom)),bp={create:(e,t,n,s)=>({start:e,soffset:t,finish:n,foffset:s})},C1=$n.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),zx=(e,t,n,s)=>e.fold(t,n,s),Vx=e=>e.fold(bt,bt,bt),Ux=C1.before,Wx=C1.on,jx=C1.after,as={before:Ux,on:Wx,after:jx,cata:zx,getStart:Vx},oi=$n.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),qx=e=>oi.exact(e.start,e.soffset,e.finish,e.foffset),Kx=e=>e.match({domRange:t=>b.fromDom(t.startContainer),relative:(t,n)=>as.getStart(t),exact:(t,n,s,o)=>t}),Gx=oi.domRange,Yx=oi.relative,Xx=oi.exact,Qx=e=>{const t=Kx(e);return zr(t)},Jx=bp.create,Jo={domRange:Gx,relative:Yx,exact:Xx,exactFromRange:qx,getWin:Qx,range:Jx},Cp=(e,t)=>{const n=At(t)?aa(t).length:ut(t).length+1;return e>n?n:e<0?0:e},e_=e=>Jo.range(e.start,Cp(e.soffset,e.start),e.finish,Cp(e.foffset,e.finish)),yp=(e,t)=>!_l(t.dom)&&(bn(e,t)||Ce(e,t)),Ep=e=>t=>yp(e,t.start)&&yp(e,t.finish),t_=e=>e.inline||ve.browser.isFirefox(),n_=e=>Jo.range(b.fromDom(e.startContainer),e.startOffset,b.fromDom(e.endContainer),e.endOffset),s_=e=>{const t=e.getSelection();return(!t||t.rangeCount===0?m.none():m.from(t.getRangeAt(0))).map(n_)},o_=e=>{const t=zr(e);return s_(t.dom).filter(Ep(e))},r_=(e,t)=>m.from(t).filter(Ep(e)).map(e_),a_=e=>{const t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),m.some(t)}catch{return m.none()}},ri=e=>{const t=t_(e)?o_(b.fromDom(e.getBody())):m.none();e.bookmark=t.isSome()?t:e.bookmark},y1=e=>(e.bookmark?e.bookmark:m.none()).bind(n=>r_(b.fromDom(e.getBody()),n)).bind(a_),l_=e=>{y1(e).each(t=>e.selection.setRng(t))},wp={isEditorUIElement:e=>{const t=e.className.toString();return t.indexOf("tox-")!==-1||t.indexOf("mce-")!==-1}},i_=(e,t)=>(an(t)||(t=0),window.setTimeout(e,t)),c_=(e,t)=>(an(t)||(t=0),window.setInterval(e,t)),Jt={setEditorTimeout:(e,t,n)=>i_(()=>{e.removed||t()},n),setEditorInterval:(e,t,n)=>{const s=c_(()=>{e.removed?window.clearInterval(s):t()},n);return s}},u_=e=>e.type==="nodechange"&&e.selectionChange,d_=(e,t)=>{const n=()=>{t.throttle()};ke.DOM.bind(document,"mouseup",n),e.on("remove",()=>{ke.DOM.unbind(document,"mouseup",n)})},f_=(e,t)=>{e.on("mouseup touchend",n=>{t.throttle()})},m_=(e,t)=>{f_(e,t),e.on("keyup NodeChange AfterSetSelectionRange",n=>{u_(n)||ri(e)})},h_=e=>{const t=Bl(()=>{ri(e)},0);e.on("init",()=>{e.inline&&d_(e,t),m_(e,t)}),e.on("remove",()=>{t.cancel()})};let er;const E1=ke.DOM,g_=e=>q(e)&&wp.isEditorUIElement(e),w1=e=>{const t=e.classList;return t!==void 0?t.contains("tox-edit-area")||t.contains("tox-edit-area__iframe")||t.contains("mce-content-body"):!1},ai=(e,t)=>{const n=LS(e);return E1.getParent(t,o=>g_(o)||(n?e.dom.is(o,n):!1))!==null},S1=e=>{try{const t=ps(b.fromDom(e.getElement()));return b1(t).fold(()=>document.body,n=>n.dom)}catch{return document.body}},p_=(e,t)=>{const n=t.editor;h_(n);const s=(o,r)=>{if(pk(o)&&o.inline!==!0){const a=b.fromDom(o.getContainer());r(a,"tox-edit-focus")}};n.on("focusin",()=>{const o=e.focusedEditor;w1(S1(n))&&s(n,Ro),o!==n&&(o&&o.dispatch("blur",{focusedEditor:n}),e.setActive(n),e.focusedEditor=n,n.dispatch("focus",{blurredEditor:o}),n.focus(!0))}),n.on("focusout",()=>{Jt.setEditorTimeout(n,()=>{const o=e.focusedEditor;(!w1(S1(n))||o!==n)&&s(n,Zr),!ai(n,S1(n))&&o===n&&(n.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})}),er||(er=o=>{const r=e.activeEditor;r&&rh(o).each(a=>{const l=a;l.ownerDocument===document&&l!==document.body&&!ai(r,l)&&e.focusedEditor===r&&(r.dispatch("blur",{focusedEditor:null}),e.focusedEditor=null)})},E1.bind(document,"focusin",er))},v_=(e,t)=>{e.focusedEditor===t.editor&&(e.focusedEditor=null),!e.activeEditor&&er&&(E1.unbind(document,"focusin",er),er=null)},b_=e=>{e.on("AddEditor",K(p_,e)),e.on("RemoveEditor",K(v_,e))},C_=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="true"),y_=(e,t)=>e.dom.getParent(t,n=>e.dom.getContentEditable(n)==="false")!==null,E_=e=>e.collapsed?m.from(ks(e.startContainer,e.startOffset)).map(b.fromDom):m.none(),w_=(e,t)=>E_(t).bind(n=>Bw(n)?m.some(n):bn(e,n)?m.none():m.some(e)),Sp=(e,t)=>{w_(b.fromDom(e.getBody()),t).bind(n=>ht(n.dom)).fold(()=>{e.selection.normalize()},n=>e.selection.setRng(n.toRange()))},li=e=>{if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},S_=e=>vp(e)||Fx(e).isSome(),k_=e=>$(e.iframeElement)&&vp(b.fromDom(e.iframeElement)),x_=e=>{const t=e.getBody();return t&&S_(b.fromDom(t))},__=e=>{const t=ps(b.fromDom(e.getElement()));return b1(t).filter(n=>!w1(n.dom)&&ai(e,n.dom)).isSome()},tr=e=>e.inline?x_(e):k_(e),k1=e=>tr(e)||__(e),A_=e=>{const t=e.selection,n=e.getBody();let s=t.getRng();e.quirks.refreshContentEditable();const o=a=>{y1(a).each(l=>{a.selection.setRng(l),s=l})};!tr(e)&&e.hasEditableRoot()&&o(e);const r=C_(e,t.getNode());if(r&&e.dom.isChildOf(r,n)){y_(e,r)||li(n),li(r),e.hasEditableRoot()||o(e),Sp(e,s),x1(e);return}e.inline||(ve.browser.isOpera()||li(n),e.getWin().focus()),(ve.browser.isFirefox()||e.inline)&&(li(n),Sp(e,s)),x1(e)},x1=e=>e.editorManager.setActive(e),N_=(e,t)=>{e.removed||(t?x1(e):A_(e))},W={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:e=>e.shiftKey||e.ctrlKey||e.altKey||W.metaKeyPressed(e),metaKeyPressed:e=>ve.os.isMacOS()||ve.os.isiOS()?e.metaKey:e.ctrlKey&&!e.altKey},lo="data-mce-selected",T_="table,img,figure.image,hr,video,span.mce-preview-object,details",kp=Math.abs,ii=Math.round,_1={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},R_=e=>e.type==="longpress"||e.type.indexOf("touch")===0,xp=(e,t)=>{const n=t.dom,s=t.getDoc(),o=document,r=t.getBody();let a,l,i,c,u,d,f,h,p,g,v,C,y,E,S;const T=M=>$(M)&&(Sh(M)||n.is(M,"figure.image")),D=M=>In(M)||n.hasClass(M,"mce-preview-object"),V=(M,Z)=>{if(R_(M)){const te=M.touches[0];return T(M.target)&&!hp(te.clientX,te.clientY,Z)}else return T(M.target)&&!hp(M.clientX,M.clientY,Z)},N=M=>{const Z=M.target;V(M,t.selection.getRng())&&!M.isDefaultPrevented()&&t.selection.select(Z)},_=M=>n.hasClass(M,"mce-preview-object")&&$(M.firstElementChild)?[M,M.firstElementChild]:n.is(M,"figure.image")?[M.querySelector("img")]:[M],P=M=>{const Z=dg(t);return!Z||t.mode.isReadOnly()||M.getAttribute("data-mce-resize")==="false"||M===t.getBody()?!1:n.hasClass(M,"mce-preview-object")&&$(M.firstElementChild)?vn(b.fromDom(M.firstElementChild),Z):vn(b.fromDom(M),Z)},F=(M,Z)=>{if(D(Z))return M.create("img",{src:ve.transparentSrc});if(Hn(Z)){const ye=Ge(c.name,"n")?_t:ms,ce=Z.cloneNode(!0);return ye(M.select("tr",ce)).each(tt=>{const on=M.select("td,th",tt);M.setStyle(tt,"height",null),R(on,Kn=>M.setStyle(Kn,"height",null))}),ce}else return Z.cloneNode(!0)},G=(M,Z,te)=>{if($(te)){const ye=_(M);R(ye,ce=>{ce.style[Z]||!t.schema.isValid(ce.nodeName.toLowerCase(),Z)?n.setStyle(ce,Z,te):n.setAttrib(ce,Z,""+te)})}},re=(M,Z,te)=>{G(M,"width",Z),G(M,"height",te)},le=M=>{let Z,te,ye,ce,tt;Z=M.screenX-d,te=M.screenY-f,C=Z*c[2]+h,y=te*c[3]+p,C=C<5?5:C,y=y<5?5:y,(T(a)||D(a))&&AS(t)!==!1?ye=!W.modifierPressed(M):ye=W.modifierPressed(M),ye&&(kp(Z)>kp(te)?(y=ii(C*g),C=ii(y/g)):(C=ii(y/g),y=ii(C*g))),re(l,C,y),ce=c.startPos.x+Z,tt=c.startPos.y+te,ce=ce>0?ce:0,tt=tt>0?tt:0,n.setStyles(i,{left:ce,top:tt,display:"block"}),i.innerHTML=C+" &times; "+y,Z=r.scrollWidth-E,te=r.scrollHeight-S,Z+te!==0&&n.setStyles(i,{left:ce-Z,top:tt-te}),v||($7(t,a,h,p,"corner-"+c.name),v=!0)},he=()=>{const M=v;v=!1,M&&(G(a,"width",C),G(a,"height",y)),n.unbind(s,"mousemove",le),n.unbind(s,"mouseup",he),o!==s&&(n.unbind(o,"mousemove",le),n.unbind(o,"mouseup",he)),n.remove(l),n.remove(i),n.remove(u),be(a),M&&(Z7(t,a,C,y,"corner-"+c.name),n.setAttrib(a,"style",n.getAttrib(a,"style"))),t.nodeChanged()},be=M=>{Y();const Z=n.getPos(M,r),te=Z.x,ye=Z.y,ce=M.getBoundingClientRect(),tt=ce.width||ce.right-ce.left,on=ce.height||ce.bottom-ce.top;a!==M&&(We(),a=M,C=y=0);const Kn=t.dispatch("ObjectSelected",{target:M});P(M)&&!Kn.isDefaultPrevented()?xe(_1,(wt,fn)=>{const Wt=St=>{const rn=_(a)[0];d=St.screenX,f=St.screenY,h=rn.clientWidth,p=rn.clientHeight,g=p/h,c=wt,c.name=fn,c.startPos={x:tt*wt[0]+te,y:on*wt[1]+ye},E=r.scrollWidth,S=r.scrollHeight,u=n.add(r,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),n.setStyles(u,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),l=F(n,a),n.addClass(l,"mce-clonedresizable"),n.setAttrib(l,"data-mce-bogus","all"),l.contentEditable="false",n.setStyles(l,{left:te,top:ye,margin:0}),re(l,tt,on),l.removeAttribute(lo),r.appendChild(l),n.bind(s,"mousemove",le),n.bind(s,"mouseup",he),o!==s&&(n.bind(o,"mousemove",le),n.bind(o,"mouseup",he)),i=n.add(r,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},h+" &times; "+p)};let gt=n.get("mceResizeHandle"+fn);gt&&n.remove(gt),gt=n.add(r,"div",{id:"mceResizeHandle"+fn,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+fn+"-resize; margin:0; padding:0"}),n.bind(gt,"mousedown",St=>{St.stopImmediatePropagation(),St.preventDefault(),Wt(St)}),wt.elm=gt,n.setStyles(gt,{left:tt*wt[0]+te-gt.offsetWidth/2,top:on*wt[1]+ye-gt.offsetHeight/2})}):We(!1)},He=Bl(be,0),We=(M=!0)=>{He.cancel(),Y(),a&&M&&a.removeAttribute(lo),xe(_1,(Z,te)=>{const ye=n.get("mceResizeHandle"+te);ye&&(n.unbind(ye),n.remove(ye))})},je=(M,Z)=>n.isChildOf(M,Z),I=M=>{if(v||t.removed||t.composing)return;const Z=M.type==="mousedown"?M.target:e.getNode(),te=Do(b.fromDom(Z),T_).map(ce=>ce.dom).filter(ce=>n.isEditable(ce.parentElement)||ce.nodeName==="IMG"&&n.isEditable(ce)).getOrUndefined(),ye=$(te)?n.getAttrib(te,lo,"1"):"1";if(R(n.select(`img[${lo}],hr[${lo}]`),ce=>{ce.removeAttribute(lo)}),$(te)&&je(te,r)&&k1(t)){me();const ce=e.getStart(!0);if(je(ce,te)&&je(e.getEnd(!0),te)){n.setAttrib(te,lo,ye),He.throttle(te);return}}We()},Y=()=>{xe(_1,M=>{M.elm&&(n.unbind(M.elm),delete M.elm)})},me=()=>{try{t.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};return t.on("init",()=>{me(),t.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",I),t.on("keyup compositionend",M=>{a&&a.nodeName==="TABLE"&&I(M)}),t.on("hide blur",We),t.on("contextmenu longpress",N,!0)}),t.on("remove",Y),{isResizable:P,showResizeRect:be,hideResizeRect:We,updateResizeRect:I,destroy:()=>{He.cancel(),a=l=u=null}}},P_=(e,t)=>{t.fold(n=>{e.setStartBefore(n.dom)},(n,s)=>{e.setStart(n.dom,s)},n=>{e.setStartAfter(n.dom)})},M_=(e,t)=>{t.fold(n=>{e.setEndBefore(n.dom)},(n,s)=>{e.setEnd(n.dom,s)},n=>{e.setEndAfter(n.dom)})},_p=(e,t,n)=>{const s=e.document.createRange();return P_(s,t),M_(s,n),s},A1=(e,t,n,s,o)=>{const r=e.document.createRange();return r.setStart(t.dom,n),r.setEnd(s.dom,o),r},ka=$n.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Ap=(e,t,n)=>t(b.fromDom(n.startContainer),n.startOffset,b.fromDom(n.endContainer),n.endOffset),D_=(e,t)=>t.match({domRange:n=>({ltr:j(n),rtl:m.none}),relative:(n,s)=>({ltr:Tn(()=>_p(e,n,s)),rtl:Tn(()=>m.some(_p(e,s,n)))}),exact:(n,s,o,r)=>({ltr:Tn(()=>A1(e,n,s,o,r)),rtl:Tn(()=>m.some(A1(e,o,r,n,s)))})}),O_=(e,t)=>{const n=t.ltr();return n.collapsed?t.rtl().filter(o=>o.collapsed===!1).map(o=>ka.rtl(b.fromDom(o.endContainer),o.endOffset,b.fromDom(o.startContainer),o.startOffset)).getOrThunk(()=>Ap(e,ka.ltr,n)):Ap(e,ka.ltr,n)},B_=(e,t)=>{const n=D_(e,t);return O_(e,n)};ka.ltr,ka.rtl;const L_=(e,t,n)=>{var s;return m.from((s=e.caretPositionFromPoint)===null||s===void 0?void 0:s.call(e,t,n)).bind(o=>{if(o.offsetNode===null)return m.none();const r=e.createRange();return r.setStart(o.offsetNode,o.offset),r.collapse(),m.some(r)})},H_=(e,t,n)=>{var s;return m.from((s=e.caretRangeFromPoint)===null||s===void 0?void 0:s.call(e,t,n))},I_=(e,t,n)=>e.caretPositionFromPoint?L_(e,t,n):e.caretRangeFromPoint?H_(e,t,n):m.none(),$_=(e,t,n)=>{const s=e.document;return I_(s,t,n).map(o=>bp.create(b.fromDom(o.startContainer),o.startOffset,b.fromDom(o.endContainer),o.endOffset))},ci=(e,t)=>{const n=pe(e);return n==="input"?as.after(e):Ee(["br","img"],n)?t===0?as.before(e):as.after(e):as.on(e,t)},Z_=(e,t)=>{const n=e.fold(as.before,ci,as.after),s=t.fold(as.before,ci,as.after);return Jo.relative(n,s)},Np=(e,t,n,s)=>{const o=ci(e,t),r=ci(n,s);return Jo.relative(o,r)},F_=e=>e.match({domRange:t=>{const n=b.fromDom(t.startContainer),s=b.fromDom(t.endContainer);return Np(n,t.startOffset,s,t.endOffset)},relative:Z_,exact:Np}),N1=(e,t)=>{const s=document.createDocumentFragment();return R(e,o=>{s.appendChild(o.dom)}),b.fromDom(s)},z_=e=>{const t=Jo.getWin(e).dom,n=(o,r,a,l)=>A1(t,o,r,a,l),s=F_(e);return B_(t,s).match({ltr:n,rtl:n})},V_=(e,t,n)=>$_(e,t,n),Tp=(e,t,n)=>{const s=zr(b.fromDom(n));return V_(s.dom,e,t).map(o=>{const r=n.createRange();return r.setStart(o.start.dom,o.soffset),r.setEnd(o.finish.dom,o.foffset),r}).getOrUndefined()},T1=(e,t)=>$(e)&&$(t)&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset,U_=(e,t,n)=>{let s=e;for(;s&&s!==t;){if(n(s))return s;s=s.parentNode}return null},Rp=(e,t,n)=>U_(e,t,n)!==null,W_=(e,t,n)=>Rp(e,t,s=>s.nodeName===n),j_=(e,t)=>Kt(e)&&!Rp(e,t,Yt),Pp=(e,t,n)=>{const s=t.parentNode;if(s){const o=new Je(t,e.getParent(s,e.isBlock)||e.getRoot());let r;for(;r=o[n?"prev":"next"]();)if(De(r))return!0}return!1},q_=(e,t)=>{var n;return((n=e.previousSibling)===null||n===void 0?void 0:n.nodeName)===t},K_=(e,t)=>{let n=t;for(;n&&n!==e;){if(_e(n))return!0;n=n.parentNode}return!1},R1=(e,t,n,s,o)=>{const r=e.getRoot(),a=e.schema.getNonEmptyElements(),l=o.parentNode;let i,c;if(!l)return m.none();const u=e.getParent(l,e.isBlock)||r;if(s&&De(o)&&t&&e.isEmpty(u))return m.some(A(l,e.nodeIndex(o)));const d=new Je(o,u);for(;c=d[s?"prev":"next"]();){if(e.getContentEditableParent(c)==="false"||j_(c,r))return m.none();if(O(c)&&c.data.length>0)return W_(c,r,"A")?m.none():m.some(A(c,s?c.data.length:0));if(e.isBlock(c)||a[c.nodeName.toLowerCase()])return m.none();i=c}return ys(i)?m.none():n&&i?m.some(A(i,0)):m.none()},Mp=(e,t,n,s)=>{const o=e.getRoot();let r,a=!1,l=n?s.startContainer:s.endContainer,i=n?s.startOffset:s.endOffset;const c=q(l)&&i===l.childNodes.length,u=e.schema.getNonEmptyElements();let d=n;if(Kt(l))return m.none();if(q(l)&&i>l.childNodes.length-1&&(d=!1),Gr(l)&&(l=o,i=0),l===o){if(d&&(r=l.childNodes[i>0?i-1:0],r&&(Kt(r)||u[r.nodeName]||Hn(r))))return m.none();if(l.hasChildNodes()){if(i=Math.min(!d&&i>0?i-1:i,l.childNodes.length-1),l=l.childNodes[i],i=O(l)&&c?l.data.length:0,!t&&l===o.lastChild&&Hn(l)||K_(o,l)||Kt(l)||au(l))return m.none();if(l.hasChildNodes()&&!Hn(l)){r=l;const f=new Je(l,o);do{if(_e(r)||Kt(r)){a=!1;break}if(O(r)&&r.data.length>0){i=d?0:r.data.length,l=r,a=!0;break}if(u[r.nodeName.toLowerCase()]&&!t8(r)){i=e.nodeIndex(r),l=r.parentNode,d||i++,a=!0;break}}while(r=d?f.next():f.prev())}}}return t&&(O(l)&&i===0&&R1(e,c,t,!0,l).each(f=>{l=f.container(),i=f.offset(),a=!0}),q(l)&&(r=l.childNodes[i],r||(r=l.childNodes[i-1]),r&&De(r)&&!q_(r,"A")&&!Pp(e,r,!1)&&!Pp(e,r,!0)&&R1(e,c,t,!0,r).each(f=>{l=f.container(),i=f.offset(),a=!0}))),d&&!t&&O(l)&&i===l.data.length&&R1(e,c,t,!1,l).each(f=>{l=f.container(),i=f.offset(),a=!0}),a&&l?m.some(A(l,i)):m.none()},ui=(e,t)=>{const n=t.collapsed,s=t.cloneRange(),o=A.fromRangeStart(t);return Mp(e,n,!0,s).each(r=>{(!n||!A.isAbove(o,r))&&s.setStart(r.container(),r.offset())}),n||Mp(e,n,!1,s).each(r=>{s.setEnd(r.container(),r.offset())}),n&&s.collapse(!0),T1(t,s)?m.none():m.some(s)},di=(e,t)=>e.splitText(t),fi=e=>{let t=e.startContainer,n=e.startOffset,s=e.endContainer,o=e.endOffset;if(t===s&&O(t)){if(n>0&&n<t.data.length)if(s=di(t,n),t=s.previousSibling,o>n){o=o-n;const r=di(s,o).previousSibling;t=s=r,o=r.data.length,n=0}else o=0}else if(O(t)&&n>0&&n<t.data.length&&(t=di(t,n),n=0),O(s)&&o>0&&o<s.data.length){const r=di(s,o).previousSibling;s=r,o=r.data.length}return{startContainer:t,startOffset:n,endContainer:s,endOffset:o}},io=e=>({walk:(r,a)=>wa(e,r,a),split:fi,expand:(r,a={type:"word"})=>{if(a.type==="word"){const l=ao(e,r,[{inline:"span"}],{includeTrailingSpace:!1,expandToBlock:!1}),i=e.createRng();return i.setStart(l.startContainer,l.startOffset),i.setEnd(l.endContainer,l.endOffset),i}return r},normalize:r=>ui(e,r).fold(Pe,a=>(r.setStart(a.startContainer,a.startOffset),r.setEnd(a.endContainer,a.endOffset),!0))});io.compareRanges=T1,io.getCaretRangeFromPoint=Tp,io.getSelectedNode=Zl,io.getNode=ks;const G_=((e,t)=>{const n=(l,i)=>{if(!an(i)&&!i.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+i);const c=l.dom;jr(c)&&(c.style[e]=i+"px")},s=l=>{const i=t(l);if(i<=0||i===null){const c=Bn(l,e);return parseFloat(c)||0}return i},o=s,r=(l,i)=>Mt(i,(c,u)=>{const d=Bn(l,u),f=d===void 0?0:parseInt(d,10);return isNaN(f)?c:c+f},0);return{set:n,get:s,getOuter:o,aggregate:r,max:(l,i,c)=>{const u=r(l,c);return i>u?i-u:0}}})("height",e=>{const t=e.dom;return Mo(e)?t.getBoundingClientRect().height:t.offsetHeight}),Y_=e=>G_.get(e),Dp=(e,t)=>e.view(t).fold(j([]),s=>{const o=e.owner(s),r=Dp(e,o);return[s].concat(r)}),X_=(e,t)=>{const n=t.owner(e);return Dp(t,n)};var Q_=Object.freeze({__proto__:null,view:e=>{var t;return(e.dom===document?m.none():m.from((t=e.dom.defaultView)===null||t===void 0?void 0:t.frameElement)).map(b.fromDom)},owner:e=>hs(e)});const J_=e=>{const t=gp(),n=eu(t),s=X_(e,Q_),o=Jc(e),r=_r(s,(a,l)=>{const i=Jc(l);return{left:a.left+i.left,top:a.top+i.top}},{left:0,top:0});return Bo(r.left+o.left+n.left,r.top+o.top+n.top)},P1=e=>pe(e)==="textarea",eA=(e,t)=>e.dispatch("ScrollIntoView",t).isDefaultPrevented(),tA=(e,t)=>{e.dispatch("AfterScrollIntoView",t)},nA=(e,t)=>{const n=ut(e);if(n.length===0||P1(e))return{element:e,offset:t};if(t<n.length&&!P1(n[t]))return{element:n[t],offset:0};{const s=n[n.length-1];return P1(s)?{element:e,offset:t}:pe(s)==="img"?{element:s,offset:1}:At(s)?{element:s,offset:aa(s).length}:{element:s,offset:ut(s).length}}},Op=(e,t)=>{const n=FE(e),s=Y_(e);return{element:e,bottom:n.top+s,height:s,pos:n,cleanup:t}},sA=(e,t)=>{const n=nA(e,t),s=b.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Xe+"</span>");return Ot(n.element,s),Op(s,()=>Ne(s))},oA=e=>Op(b.fromDom(e),ie),Bp=(e,t,n,s)=>{aA(e,(o,r)=>rA(e,t,n,s),n)},Lp=(e,t,n,s,o)=>{const r={elm:s.element.dom,alignToTop:o};if(eA(e,r))return;const a=eu(t).top;n(e,t,a,s,o),tA(e,r)},rA=(e,t,n,s)=>{const o=b.fromDom(e.getBody()),r=b.fromDom(e.getDoc());RE(o);const a=sA(b.fromDom(n.startContainer),n.startOffset);Lp(e,r,t,a,s),a.cleanup()},Hp=(e,t,n,s)=>{const o=b.fromDom(e.getDoc());Lp(e,o,n,oA(t),s)},aA=(e,t,n)=>{const s=n.startContainer,o=n.startOffset,r=n.endContainer,a=n.endOffset;t(b.fromDom(s),b.fromDom(r));const l=e.dom.createRng();l.setStart(s,o),l.setEnd(r,a),e.selection.setRng(n)},M1=(e,t,n,s,o)=>{const r=t.pos,a=30;if(s)hh(r.left,Math.max(0,r.top-a),o);else{const l=r.top-n+t.height+a;hh(-e.getBody().getBoundingClientRect().left,l,o)}},Ip=(e,t,n,s,o,r)=>{const a=s+n,l=o.pos.top,i=o.bottom,c=i-l>=s;l<n?M1(e,o,s,r!==!1,t):l>a?M1(e,o,s,c?r!==!1:r===!0,t):i>a&&!c&&M1(e,o,s,r===!0,t)},$p=(e,t,n,s,o)=>{const r=zr(t).dom.innerHeight;Ip(e,t,n,r,s,o)},Zp=(e,t,n,s,o)=>{const r=zr(t).dom.innerHeight;Ip(e,t,n,r,s,o);const a=J_(s.element),l=vh(window);a.top<l.y?gh(s.element,o!==!1):a.top>l.bottom&&gh(s.element,o===!0)},lA=(e,t,n)=>Bp(e,$p,t,n),iA=(e,t,n)=>Hp(e,t,$p,n),cA=(e,t,n)=>Bp(e,Zp,t,n),uA=(e,t,n)=>Hp(e,t,Zp,n),dA=(e,t,n)=>{(e.inline?iA:uA)(e,t,n)},xa=(e,t,n)=>{(e.inline?lA:cA)(e,t,n)},Fp=(e,t)=>t.collapsed?e.isEditable(t.startContainer):e.isEditable(t.startContainer)&&e.isEditable(t.endContainer),zp=(e,t,n,s,o)=>{const r=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return m.from(r).map(b.fromDom).map(l=>!s||!t.collapsed?Po(l,o(l,a)).getOr(l):l).bind(l=>Zt(l)?m.some(l):On(l).filter(Zt)).map(l=>l.dom).getOr(e)},Vp=(e,t,n=!1)=>zp(e,t,!0,n,(s,o)=>Math.min(jc(s),o)),Up=(e,t,n=!1)=>zp(e,t,!1,n,(s,o)=>o>0?o-1:o),Wp=(e,t)=>{const n=e;for(;e&&O(e)&&e.length===0;)e=t?e.nextSibling:e.previousSibling;return e||n},fA=(e,t)=>{if(!t)return e;let n=t.startContainer,s=t.endContainer;const o=t.startOffset,r=t.endOffset;let a=t.commonAncestorContainer;t.collapsed||(n===s&&r-o<2&&n.hasChildNodes()&&(a=n.childNodes[o]),O(n)&&O(s)&&(n.length===o?n=Wp(n.nextSibling,!0):n=n.parentNode,r===0?s=Wp(s.previousSibling,!1):s=s.parentNode,n&&n===s&&(a=n)));const l=O(a)?a.parentNode:a;return Ln(l)?l:e},mA=(e,t,n,s)=>{const o=[],r=e.getRoot(),a=e.getParent(n||Vp(r,t,t.collapsed),e.isBlock),l=e.getParent(s||Up(r,t,t.collapsed),e.isBlock);if(a&&a!==r&&o.push(a),a&&l&&a!==l){let i;const c=new Je(a,r);for(;(i=c.next())&&i!==l;)e.isBlock(i)&&o.push(i)}return l&&a!==l&&l!==r&&o.push(l),o},hA=(e,t,n)=>m.from(t).bind(s=>m.from(s.parentNode).map(o=>{const r=e.nodeIndex(s),a=e.createRng();return a.setStart(o,r),a.setEnd(o,r+1),n&&(i1(e,a,s,!0),i1(e,a,s,!1)),a})),D1=(e,t)=>ge(t,n=>{const s=e.dispatch("GetSelectionRange",{range:n});return s.range!==n?s.range:n}),gA={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},mi=(e,t,n)=>{const s=n?"lastChild":"firstChild",o=n?"prev":"next";if(e[s])return e[s];if(e!==t){let r=e[o];if(r)return r;for(let a=e.parent;a&&a!==t;a=a.parent)if(r=a[o],r)return r}},pA=e=>{var t;const n=(t=e.value)!==null&&t!==void 0?t:"";if(!Lo(n))return!1;const s=e.parent;return!(s&&(s.name!=="span"||s.attr("style"))&&/^[ ]+$/.test(n))},jp=e=>{const t=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t};class yt{static create(t,n){const s=new yt(t,gA[t]||1);return n&&xe(n,(o,r)=>{s.attr(r,o)}),s}constructor(t,n){this.name=t,this.type=n,n===1&&(this.attributes=[],this.attributes.map={})}replace(t){const n=this;return t.parent&&t.remove(),n.insert(t,n),n.remove(),n}attr(t,n){const s=this;if(!J(t))return $(t)&&xe(t,(r,a)=>{s.attr(a,r)}),s;const o=s.attributes;if(o){if(n!==void 0){if(n===null){if(t in o.map){delete o.map[t];let r=o.length;for(;r--;)if(o[r].name===t)return o.splice(r,1),s}return s}if(t in o.map){let r=o.length;for(;r--;)if(o[r].name===t){o[r].value=n;break}}else o.push({name:t,value:n});return o.map[t]=n,s}return o.map[t]}}clone(){const t=this,n=new yt(t.name,t.type),s=t.attributes;if(s){const o=[];o.map={};for(let r=0,a=s.length;r<a;r++){const l=s[r];l.name!=="id"&&(o[o.length]={name:l.name,value:l.value},o.map[l.name]=l.value)}n.attributes=o}return n.value=t.value,n}wrap(t){const n=this;return n.parent&&(n.parent.insert(t,n),t.append(n)),n}unwrap(){const t=this;for(let n=t.firstChild;n;){const s=n.next;t.insert(n,t,!0),n=s}t.remove()}remove(){const t=this,n=t.parent,s=t.next,o=t.prev;return n&&(n.firstChild===t?(n.firstChild=s,s&&(s.prev=null)):o&&(o.next=s),n.lastChild===t?(n.lastChild=o,o&&(o.next=null)):s&&(s.prev=o),t.parent=t.next=t.prev=null),t}append(t){const n=this;t.parent&&t.remove();const s=n.lastChild;return s?(s.next=t,t.prev=s,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t}insert(t,n,s){t.parent&&t.remove();const o=n.parent||this;return s?(n===o.firstChild?o.firstChild=t:n.prev&&(n.prev.next=t),t.prev=n.prev,t.next=n,n.prev=t):(n===o.lastChild?o.lastChild=t:n.next&&(n.next.prev=t),t.next=n.next,t.prev=n,n.next=t),t.parent=o,t}getAll(t){const n=this,s=[];for(let o=n.firstChild;o;o=mi(o,n))o.name===t&&s.push(o);return s}children(){const t=this,n=[];for(let s=t.firstChild;s;s=s.next)n.push(s);return n}empty(){const t=this;if(t.firstChild){const n=[];for(let o=t.firstChild;o;o=mi(o,t))n.push(o);let s=n.length;for(;s--;){const o=n[s];o.parent=o.firstChild=o.lastChild=o.next=o.prev=null}}return t.firstChild=t.lastChild=null,t}isEmpty(t,n={},s){var o;const r=this;let a=r.firstChild;if(jp(r))return!1;if(a)do{if(a.type===1){if(a.attr("data-mce-bogus"))continue;if(t[a.name]||jp(a))return!1}if(a.type===8||a.type===3&&!pA(a)||a.type===3&&a.parent&&n[a.parent.name]&&Lo((o=a.value)!==null&&o!==void 0?o:"")||s&&s(a))return!1}while(a=mi(a,r));return!0}walk(t){return mi(this,null,t)}}const vA=L.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),qp=e=>J(e.nodeValue)&&e.nodeValue.includes(Xe),Kp=e=>`${e.length===0?"":`${ge(e,t=>`[${t}]`).join(",")},`}[data-mce-bogus="all"]`,bA=(e,t)=>t.querySelectorAll(Kp(e)),Gp=e=>document.createTreeWalker(e,NodeFilter.SHOW_COMMENT,t=>qp(t)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP),Yp=e=>document.createTreeWalker(e,NodeFilter.SHOW_TEXT,t=>{if(qp(t)){const n=t.parentNode;return n&&oe(vA,n.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP}),CA=e=>Gp(e).nextNode()!==null,yA=e=>Yp(e).nextNode()!==null,EA=(e,t)=>t.querySelector(Kp(e))!==null,wA=(e,t)=>{R(bA(e,t),n=>{const s=b.fromDom(n);Ft(s,"data-mce-bogus")==="all"?Ne(s):R(e,o=>{Ir(s,o)&&rt(s,o)})})},Xp=e=>{let t=e.nextNode();for(;t!==null;)t.nodeValue=null,t=e.nextNode()},SA=pn(Xp,Gp),kA=pn(Xp,Yp),Qp=(e,t)=>{const n=[{condition:K(EA,t),action:K(wA,t)},{condition:CA,action:SA},{condition:yA,action:kA}];let s=e,o=!1;return R(n,({condition:r,action:a})=>{r(s)&&(o||(s=e.cloneNode(!0),o=!0),a(s))}),s},Jp=e=>{const t=dt(e,"[data-mce-bogus]");R(t,n=>{Ft(n,"data-mce-bogus")==="all"?Ne(n):Js(n)?(Ot(n,b.fromText(qr)),Ne(n)):Cs(n)})},e2=e=>{const t=dt(e,"input");R(t,n=>{rt(n,"name")})},xA=(e,t)=>{const n=mt(e),s=new RegExp(`^(<${n}[^>]*>(&nbsp;|&#160;|\\s|\xA0|<br \\/>|)<\\/${n}>[\r
]*|<br \\/>[\r
]*)$`);return t.replace(s,"")},_A=(e,t)=>{const n=e.getDoc(),s=ps(b.fromDom(e.getBody())),o=b.fromTag("div",n);ot(o,"data-mce-bogus","all"),wl(o,{position:"fixed",left:"-9999999px",top:"0"}),kl(o,t.innerHTML),Jp(o),e2(o);const r=EE(s);Ve(r,o);const a=zt(o.dom.innerText);return Ne(o),a},AA=(e,t,n)=>{let s;return t.format==="raw"?s=L.trim(zt(Qp(n,e.serializer.getTempAttrs()).innerHTML)):t.format==="text"?s=_A(e,n):t.format==="tree"?s=e.serializer.serialize(n,t):s=xA(e,e.serializer.serialize(n,t)),t.format!=="text"&&!Ll(b.fromDom(n))&&J(s)?L.trim(s):s},NA=(e,t)=>m.from(e.getBody()).fold(j(t.format==="tree"?new yt("body",11):""),n=>AA(e,t,n)),t2=L.makeMap,n2=e=>{const t=[];e=e||{};const n=e.indent,s=t2(e.indent_before||""),o=t2(e.indent_after||""),r=Ks.getEncodeFunc(e.entity_encoding||"raw",e.entities),a=e.element_format!=="xhtml";return{start:(l,i,c)=>{if(n&&s[l]&&t.length>0){const u=t[t.length-1];u.length>0&&u!==`
`&&t.push(`
`)}if(t.push("<",l),i)for(let u=0,d=i.length;u<d;u++){const f=i[u];t.push(" ",f.name,'="',r(f.value,!0),'"')}if(!c||a?t[t.length]=">":t[t.length]=" />",c&&n&&o[l]&&t.length>0){const u=t[t.length-1];u.length>0&&u!==`
`&&t.push(`
`)}},end:l=>{let i;t.push("</",l,">"),n&&o[l]&&t.length>0&&(i=t[t.length-1],i.length>0&&i!==`
`&&t.push(`
`))},text:(l,i)=>{l.length>0&&(t[t.length]=i?l:r(l))},cdata:l=>{t.push("<![CDATA[",l,"]]>")},comment:l=>{t.push("<!--",l,"-->")},pi:(l,i)=>{i?t.push("<?",l," ",r(i),"?>"):t.push("<?",l,"?>"),n&&t.push(`
`)},doctype:l=>{t.push("<!DOCTYPE",l,">",n?`
`:"")},reset:()=>{t.length=0},getContent:()=>t.join("").replace(/\n$/,"")}},Ns=(e={},t=Es())=>{const n=n2(e);return e.validate="validate"in e?e.validate:!0,{serialize:o=>{const r=e.validate,a={3:i=>{var c;n.text((c=i.value)!==null&&c!==void 0?c:"",i.raw)},8:i=>{var c;n.comment((c=i.value)!==null&&c!==void 0?c:"")},7:i=>{n.pi(i.name,i.value)},10:i=>{var c;n.doctype((c=i.value)!==null&&c!==void 0?c:"")},4:i=>{var c;n.cdata((c=i.value)!==null&&c!==void 0?c:"")},11:i=>{let c=i;if(c=c.firstChild)do l(c);while(c=c.next)}};n.reset();const l=i=>{var c;const u=a[i.type];if(u)u(i);else{const d=i.name,f=d in t.getVoidElements();let h=i.attributes;if(r&&h&&h.length>1){const p=[];p.map={};const g=t.getElementRule(i.name);if(g){for(let v=0,C=g.attributesOrder.length;v<C;v++){const y=g.attributesOrder[v];if(y in h.map){const E=h.map[y];p.map[y]=E,p.push({name:y,value:E})}}for(let v=0,C=h.length;v<C;v++){const y=h[v].name;if(!(y in p.map)){const E=h.map[y];p.map[y]=E,p.push({name:y,value:E})}}h=p}}if(n.start(d,h,f),Ws(d))J(i.value)&&n.text(i.value,!0),n.end(d);else if(!f){let p=i.firstChild;if(p){(d==="pre"||d==="textarea")&&p.type===3&&((c=p.value)===null||c===void 0?void 0:c[0])===`
`&&n.text(`
`,!0);do l(p);while(p=p.next)}n.end(d)}}};return o.type===1&&!e.inner?l(o):o.type===3?a[3](o):a[11](o),n.getContent()}}},s2=new Set;R(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],t=>{s2.add(t)});const o2=new Set;R(["background-color"],t=>{o2.add(t)});const r2=["font","text-decoration","text-emphasis"],TA=(e,t)=>e.parseStyle(e.getAttrib(t,"style")),nr=(e,t)=>Dt(TA(e,t)),RA=e=>s2.has(e),PA=e=>o2.has(e),a2=(e,t)=>Le(nr(e,t),n=>RA(n)),MA=(e,t)=>a2(e,t)&&Le(nr(e,t),n=>PA(n)),DA=e=>se(e,t=>Le(r2,n=>Ge(t,n))),OA=(e,t,n)=>{const s=nr(e,t),o=nr(e,n),r=a=>{var l,i;const c=(l=e.getStyle(t,a))!==null&&l!==void 0?l:"",u=(i=e.getStyle(n,a))!==null&&i!==void 0?i:"";return Rn(c)&&Rn(u)&&c!==u};return Le(s,a=>{const l=i=>Le(i,c=>c===a);if(!l(o)&&l(r2)){const i=DA(o);return Le(i,r)}else return r(a)})},l2=(e,t,n)=>m.from(n.container()).filter(O).exists(s=>{const o=e?0:-1;return t(s.data.charAt(n.offset()+o))}),O1=K(l2,!0,ro),B1=K(l2,!1,ro),BA=e=>{const t=e.container();return O(t)&&(t.data.length===0||Hl(t.data)&&Sa.isBookmarkNode(t.parentNode))},Ts=(e,t)=>n=>Xu(e?0:-1,n).filter(t).isSome(),i2=e=>Sh(e)&&Bn(b.fromDom(e),"display")==="block",c2=e=>_e(e)&&!QE(e),LA=Ts(!0,i2),HA=Ts(!1,i2),_a=Ts(!0,In),Aa=Ts(!1,In),u2=Ts(!0,Hn),L1=Ts(!1,Hn),Rs=Ts(!0,c2),Ps=Ts(!1,c2),IA=e=>e.slice(0,-1),$A=(e,t,n)=>bn(t,e)?IA(nh(e,s=>n(s)||Ce(s,t))):[],d2=(e,t)=>$A(e,t,Pe),ls=(e,t)=>[e].concat(d2(e,t)),H1=(e,t,n)=>Fg(e,t,n,BA),ZA=e=>t=>e.isBlock(pe(t)),f2=(e,t,n)=>Ke(ls(b.fromDom(t.container()),e),ZA(n)),m2=(e,t,n,s)=>H1(e,t.dom,n).forall(o=>f2(t,n,s).fold(()=>!Zn(o,n,t.dom),r=>!Zn(o,n,t.dom)&&bn(r,b.fromDom(o.container())))),h2=(e,t,n,s)=>f2(t,n,s).fold(()=>H1(e,t.dom,n).forall(o=>!Zn(o,n,t.dom)),o=>H1(e,o.dom,n).isNone()),I1=K(h2,!1),g2=K(h2,!0),FA=K(m2,!1),zA=K(m2,!0),VA=e=>Gl(e).exists(Js),hi=(e,t,n,s)=>{const o=se(ls(b.fromDom(n.container()),t),a=>s.isBlock(pe(a))),r=_t(o).getOr(t);return Gt(e,r.dom,n).filter(VA)},$1=(e,t,n)=>Gl(t).exists(Js)||hi(!0,e,t,n).isSome(),gi=(e,t,n)=>qk(t).exists(Js)||hi(!1,e,t,n).isSome(),p2=K(hi,!1),UA=K(hi,!0),v2=e=>A.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd(),b2=(e,t,n)=>{const s=se(ls(b.fromDom(t.container()),e),o=>n.isBlock(pe(o)));return _t(s).getOr(e)},C2=(e,t,n)=>v2(t)?B1(t):B1(t)||Bt(b2(e,t,n).dom,t).exists(B1),y2=(e,t,n)=>v2(t)?O1(t):O1(t)||Tt(b2(e,t,n).dom,t).exists(O1),WA=e=>Ee(["pre","pre-wrap"],e),Z1=e=>Gl(e).bind(t=>vs(t,Zt)).exists(t=>WA(Bn(t,"white-space"))),jA=(e,t)=>Bt(e.dom,t).isNone(),qA=(e,t)=>Tt(e.dom,t).isNone(),KA=(e,t,n)=>jA(e,t)||qA(e,t)||I1(e,t,n)||g2(e,t,n)||gi(e,t,n)||$1(e,t,n),GA=e=>$(e)&&_e(e)&&Ng(e),E2=(e,t)=>n=>GA(new Je(n,e)[t]()),YA=(e,t)=>{const n=Tt(e.dom,t).getOr(t),s=E2(e.dom,"next");return t.isAtEnd()&&(s(t.container())||s(n.container()))},XA=(e,t)=>{const n=Bt(e.dom,t).getOr(t),s=E2(e.dom,"prev");return t.isAtStart()&&(s(t.container())||s(n.container()))},w2=(e,t,n)=>Z1(t)?!1:KA(e,t,n)||C2(e,t,n)||y2(e,t,n),Na=(e,t,n)=>Z1(t)?!1:I1(e,t,n)||FA(e,t,n)||gi(e,t,n)||C2(e,t,n)||XA(e,t),QA=e=>{const t=e.container(),n=e.offset();return O(t)&&n<t.data.length?A(t,n+1):e},Ta=(e,t,n)=>Z1(t)?!1:g2(e,t,n)||zA(e,t,n)||$1(e,t,n)||y2(e,t,n)||YA(e,t),F1=(e,t,n)=>Na(e,t,n)||Ta(e,QA(t),n),S2=(e,t)=>Jl(e.charAt(t)),k2=(e,t)=>ro(e.charAt(t)),JA=e=>{const t=e.container();return O(t)&&it(t.data,Ye)},eN=e=>{const t=e.split("");return ge(t,(n,s)=>Jl(n)&&s>0&&s<t.length-1&&o1(t[s-1])&&o1(t[s+1])?" ":n).join("")},x2=(e,t,n,s)=>{const o=t.data,r=A(t,0);return!n&&S2(o,0)&&!F1(e,r,s)?(t.data=" "+o.slice(1),!0):n&&k2(o,0)&&Na(e,r,s)?(t.data=Ye+o.slice(1),!0):!1},tN=e=>{const t=e.data,n=eN(t);return n!==t?(e.data=n,!0):!1},_2=(e,t,n,s)=>{const o=t.data,r=A(t,o.length-1);return!n&&S2(o,o.length-1)&&!F1(e,r,s)?(t.data=o.slice(0,-1)+" ",!0):n&&k2(o,o.length-1)&&Ta(e,r,s)?(t.data=o.slice(0,-1)+Ye,!0):!1},nN=(e,t,n)=>{const s=t.container();if(!O(s))return m.none();if(JA(t)){const o=x2(e,s,!1,n)||tN(s)||_2(e,s,!1,n);return To(o,t)}else if(F1(e,t,n)){const o=x2(e,s,!0,n)||_2(e,s,!0,n);return To(o,t)}else return m.none()},sN=e=>{const t=b.fromDom(e.getBody());e.selection.isCollapsed()&&nN(t,A.fromRangeStart(e.selection.getRng()),e.schema).each(n=>{e.selection.setRng(n.toRange())})},A2=(e,t,n,s)=>{if(n===0)return;const o=b.fromDom(e),r=ts(o,c=>s.isBlock(pe(c))).getOr(o),a=e.data.slice(t,t+n),l=t+n>=e.data.length&&Ta(r,A(e,e.data.length),s),i=t===0&&Na(r,A(e,0),s);e.replaceData(t,n,Eh(a,4,i,l))},pi=(e,t,n)=>{const s=e.data.slice(t),o=s.length-y6(s).length;A2(e,t,o,n)},z1=(e,t,n)=>{const s=e.data.slice(0,t),o=s.length-Dm(s).length;A2(e,t-o,o,n)},V1=(e,t,n,s,o=!0)=>{const r=Dm(e.data).length,a=o?e:t,l=o?t:e;return o?a.appendData(l.data):a.insertData(0,l.data),Ne(b.fromDom(l)),s&&pi(a,r,n),a},oN=(e,t)=>{const n=e.container(),s=e.offset();return!A.isTextPosition(e)&&n===t.parentNode&&s>A.before(t).offset()},rN=(e,t)=>oN(t,e)?A(t.container(),t.offset()-1):t,aN=e=>O(e)?A(e,0):A.before(e),lN=e=>O(e)?A(e,e.data.length):A.after(e),N2=e=>wn(e.previousSibling)?m.some(lN(e.previousSibling)):e.previousSibling?cn(e.previousSibling):m.none(),T2=e=>wn(e.nextSibling)?m.some(aN(e.nextSibling)):e.nextSibling?ht(e.nextSibling):m.none(),iN=(e,t)=>m.from(t.previousSibling?t.previousSibling:t.parentNode).bind(n=>Bt(e,A.before(n))).orThunk(()=>Tt(e,A.after(t))),cN=(e,t)=>Tt(e,A.after(t)).orThunk(()=>Bt(e,A.before(t))),uN=(e,t)=>N2(t).orThunk(()=>T2(t)).orThunk(()=>iN(e,t)),dN=(e,t)=>T2(t).orThunk(()=>N2(t)).orThunk(()=>cN(e,t)),fN=(e,t,n)=>e?dN(t,n):uN(t,n),mN=(e,t,n)=>fN(e,t,n).map(K(rN,n)),R2=(e,t,n)=>{n.fold(()=>{e.focus()},s=>{e.selection.setRng(s.toRange(),t)})},hN=e=>t=>t.dom===e,gN=(e,t)=>t&&oe(e.schema.getBlockElements(),pe(t)),pN=(e,t,n)=>{if(ft(e,t)){const s=b.fromHtml('<br data-mce-bogus="1">');return n?R(ut(t),o=>{v1(o)||Ne(o)}):Oo(t),Ve(t,s),m.some(A.before(s.dom))}else return m.none()},vN=(e,t,n,s)=>{const o=gs(e).filter(At),r=Ur(e).filter(At);return Ne(e),X6(o,r,t,(a,l,i)=>{const c=a.dom,u=l.dom,d=c.data.length;return V1(c,u,n,s),i.container()===u?A(c,d):i}).orThunk(()=>(s&&(o.each(a=>z1(a.dom,a.dom.length,n)),r.each(a=>pi(a.dom,0,n))),t))},bN=(e,t)=>oe(e.schema.getTextInlineElements(),pe(t)),co=(e,t,n,s=!0,o=!1)=>{const r=mN(t,e.getBody(),n.dom),a=ts(n,K(gN,e),hN(e.getBody())),l=vN(n,r,e.schema,bN(e,n));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):a.bind(i=>pN(e.schema,i,o)).fold(()=>{s&&R2(e,t,l)},i=>{s&&R2(e,t,m.some(i))})},CN=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,yN=e=>CN.test(e),uo=(e,t)=>vn(b.fromDom(t),_S(e))&&!js(e.schema,t)&&e.dom.isEditable(t),P2=e=>{var t;return ke.DOM.getStyle(e,"direction",!0)==="rtl"||yN((t=e.textContent)!==null&&t!==void 0?t:"")},EN=(e,t,n)=>se(ke.DOM.getParents(n.container(),"*",t),e),Ms=(e,t,n)=>{const s=EN(e,t,n);return m.from(s[s.length-1])},wN=(e,t,n)=>{const s=_s(t,e),o=_s(n,e);return $(s)&&s===o},SN=e=>Pu(e)||Mu(e),en=(e,t)=>{const n=t.container(),s=t.offset();return e?Ss(n)?O(n.nextSibling)?A(n.nextSibling,0):A.after(n):Pu(t)?A(n,s+1):t:Ss(n)?O(n.previousSibling)?A(n.previousSibling,n.previousSibling.data.length):A.before(n):Mu(t)?A(n,s-1):t},M2=K(en,!0),D2=K(en,!1),O2=(e,t)=>{const n=s=>s.stopImmediatePropagation();e.on("beforeinput input",n,!0),e.getDoc().execCommand(t),e.off("beforeinput input",n)},kN=e=>{e.execCommand("delete")},vi=e=>O2(e,"Delete"),B2=e=>O2(e,"ForwardDelete"),xN=e=>t=>No(On(t),e,Ce),_N=e=>g0(e)||Zo(e),bi=(e,t)=>bn(e,t)?vs(t,_N,xN(e)):m.none(),U1=(e,t=!0)=>{e.dom.isEmpty(e.getBody())&&e.setContent("",{no_selection:!t})},L2=(e,t,n)=>ct(ht(n),cn(n),(s,o)=>{const r=en(!0,s),a=en(!1,o),l=en(!1,t);return e?Tt(n,l).exists(i=>i.isEqual(a)&&t.isEqual(r)):Bt(n,l).exists(i=>i.isEqual(r)&&t.isEqual(a))}).getOr(!0),H2=e=>(rE(e)?gs(e):Wc(e)).bind(H2).orThunk(()=>m.some(e)),I2=(e,t,n,s=!0)=>{var o;t.deleteContents();const r=H2(n).getOr(n),a=b.fromDom((o=e.dom.getParent(r.dom,e.dom.isBlock))!==null&&o!==void 0?o:n.dom);if(a.dom===e.getBody()?U1(e,s):ft(e.schema,a,{checkRootAsContent:!1})&&(ws(a),s&&e.selection.setCursorLocation(a.dom,0)),!Ce(n,a)){const l=No(On(a),n)?[]:CE(a);R(l.concat(ut(n)),i=>{!Ce(i,a)&&!bn(i,a)&&ft(e.schema,i)&&Ne(i)})}},AN=e=>t=>Ce(e,t),W1=e=>dt(e,"td,th"),$2=(e,t)=>ya(b.fromDom(e),t),NN=e=>ct(e.startTable,e.endTable,(t,n)=>{const s=tu(t,r=>Ce(r,n)),o=tu(n,r=>Ce(r,t));return!s&&!o?e:{...e,startTable:s?m.none():e.startTable,endTable:o?m.none():e.endTable,isSameTable:!1,isMultiTable:!1}}).getOr(e),TN=e=>NN(e),RN=(e,t)=>{const n=$2(e.startContainer,t),s=$2(e.endContainer,t),o=n.isSome(),r=s.isSome(),a=ct(n,s,Ce).getOr(!1);return TN({startTable:n,endTable:s,isStartInTable:o,isEndInTable:r,isSameTable:a,isMultiTable:!a&&o&&r})},j1=(e,t)=>({start:e,end:t}),PN=(e,t,n)=>({rng:e,table:t,cells:n}),Ra=$n.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Ci=(e,t)=>Do(b.fromDom(e),"td,th",t),Z2=e=>!Ce(e.start,e.end),F2=(e,t)=>ya(e.start,t).bind(n=>ya(e.end,t).bind(s=>To(Ce(n,s),n))),MN=(e,t)=>!Z2(e)&&F2(e,t).exists(n=>{const s=n.dom.rows;return s.length===1&&s[0].cells.length===1}),DN=(e,t)=>{const n=Ci(e.startContainer,t),s=Ci(e.endContainer,t);return ct(n,s,j1)},ON=e=>t=>ya(t,e).bind(n=>ms(W1(n)).map(s=>j1(t,s))),BN=e=>t=>ya(t,e).bind(n=>_t(W1(n)).map(s=>j1(s,t))),q1=e=>t=>F2(t,e).map(n=>PN(t,n,W1(n))),z2=(e,t,n,s)=>{if(n.collapsed||!e.forall(Z2))return m.none();if(t.isSameTable){const o=e.bind(q1(s));return m.some({start:o,end:o})}else{const o=Ci(n.startContainer,s),r=Ci(n.endContainer,s),a=o.bind(ON(s)).bind(q1(s)),l=r.bind(BN(s)).bind(q1(s));return m.some({start:a,end:l})}},V2=(e,t)=>Ar(e,n=>Ce(n,t)),K1=e=>ct(V2(e.cells,e.rng.start),V2(e.cells,e.rng.end),(t,n)=>e.cells.slice(t,n+1)),LN=(e,t,n)=>e.exists(s=>MN(s,n)&&l1(s.start,t)),U2=(e,t)=>{const{startTable:n,endTable:s}=t,o=e.cloneRange();return n.each(r=>o.setStartAfter(r.dom)),s.each(r=>o.setEndBefore(r.dom)),o},HN=(e,t,n,s)=>z2(e,t,n,s).bind(({start:o,end:r})=>o.or(r)).bind(o=>{const{isSameTable:r}=t,a=K1(o).getOr([]);if(r&&o.cells.length===a.length)return m.some(Ra.fullTable(o.table));if(a.length>0){if(r)return m.some(Ra.partialTable(a,m.none()));{const l=U2(n,t);return m.some(Ra.partialTable(a,m.some({...t,rng:l})))}}else return m.none()}),IN=(e,t,n,s)=>z2(e,t,n,s).bind(({start:o,end:r})=>{const a=o.bind(K1).getOr([]),l=r.bind(K1).getOr([]);if(a.length>0&&l.length>0){const i=U2(n,t);return m.some(Ra.multiTable(a,l,i))}else return m.none()}),$N=(e,t)=>{const n=AN(e),s=DN(t,n),o=RN(t,n);return LN(s,t,n)?s.map(r=>Ra.singleCellTable(t,r.start)):o.isMultiTable?IN(s,o,t,n):HN(s,o,t,n)},W2=e=>R(e,t=>{rt(t,"contenteditable"),ws(t)}),ZN=(e,t)=>m.from(e.dom.getParent(t,e.dom.isBlock)).map(b.fromDom),FN=(e,t,n)=>{n.each(s=>{t?Ne(s):(ws(s),e.selection.setCursorLocation(s.dom,0))})},G1=(e,t,n,s)=>{const o=n.cloneRange();s?(o.setStart(n.startContainer,n.startOffset),o.setEndAfter(t.dom.lastChild)):(o.setStartBefore(t.dom.firstChild),o.setEnd(n.endContainer,n.endOffset)),Y1(e,o,t,!1).each(r=>r())},j2=e=>{const t=Yo(e),n=b.fromDom(e.selection.getNode());Nl(n.dom)&&ft(e.schema,n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),t.length>1&&Le(t,s=>Ce(s,n))&&ot(n,"data-mce-selected","1")},q2=(e,t,n)=>m.some(()=>{const s=e.selection.getRng(),o=n.bind(({rng:r,isStartInTable:a})=>{const l=ZN(e,a?r.endContainer:r.startContainer);r.deleteContents(),FN(e,a,l.filter(K(ft,e.schema)));const i=a?t[0]:t[t.length-1];return G1(e,i,s,a),ft(e.schema,i)?m.none():m.some(a?t.slice(1):t.slice(0,-1))}).getOr(t);W2(o),j2(e)}),zN=(e,t,n,s)=>m.some(()=>{const o=e.selection.getRng(),r=t[0],a=n[n.length-1];G1(e,r,o,!0),G1(e,a,o,!1);const l=ft(e.schema,r)?t:t.slice(1),i=ft(e.schema,a)?n:n.slice(0,-1);W2(l.concat(i)),s.deleteContents(),j2(e)}),Y1=(e,t,n,s=!0)=>m.some(()=>{I2(e,t,n,s)}),VN=(e,t)=>m.some(()=>co(e,!1,t)),UN=(e,t,n)=>$N(t,n).bind(s=>s.fold(K(Y1,e),K(VN,e),K(q2,e),K(zN,e))),WN=(e,t)=>yi(e,t),jN=(e,t,n,s)=>X1(t,s).fold(()=>UN(e,t,n),o=>WN(e,o)),qN=(e,t,n)=>{const s=b.fromDom(e.getBody()),o=e.selection.getRng();return n.length!==0?q2(e,n,m.none()):jN(e,s,o,t)},K2=(e,t)=>Ke(ls(t,e),la),X1=(e,t)=>Ke(ls(t,e),Hr("caption")),KN=(e,t,n,s,o)=>Ko(n,e.getBody(),o).bind(r=>K2(t,b.fromDom(r.getNode())).bind(a=>Ce(a,s)?m.none():m.some(ie))),yi=(e,t)=>m.some(()=>{ws(t),e.selection.setCursorLocation(t.dom,0)}),GN=(e,t,n,s)=>ht(e.dom).bind(o=>cn(e.dom).map(r=>t?n.isEqual(o)&&s.isEqual(r):n.isEqual(r)&&s.isEqual(o))).getOr(!0),YN=(e,t)=>yi(e,t),XN=(e,t,n)=>X1(e,b.fromDom(n.getNode())).fold(()=>m.some(ie),s=>To(!Ce(s,t),ie)),QN=(e,t,n,s,o)=>Ko(n,e.getBody(),o).fold(()=>m.some(ie),r=>GN(s,n,o,r)?YN(e,s):XN(t,s,r)),JN=(e,t,n,s)=>{const o=A.fromRangeStart(e.selection.getRng());return K2(n,s).bind(r=>ft(e.schema,r,{checkRootAsContent:!1})?yi(e,r):KN(e,n,t,r,o))},eT=(e,t,n,s)=>{const o=A.fromRangeStart(e.selection.getRng());return ft(e.schema,s)?yi(e,s):QN(e,n,t,s,o)},G2=(e,t)=>e?u2(t):L1(t),tT=(e,t)=>{const n=A.fromRangeStart(e.selection.getRng());return G2(t,n)||Gt(t,e.getBody(),n).exists(s=>G2(t,s))},nT=(e,t,n)=>{const s=b.fromDom(e.getBody());return X1(s,n).fold(()=>JN(e,t,s,n).orThunk(()=>To(tT(e,t),ie)),o=>eT(e,t,s,o))},Q1=(e,t)=>{const n=b.fromDom(e.selection.getStart(!0)),s=Yo(e);return e.selection.isCollapsed()&&s.length===0?nT(e,t,n):qN(e,n,s)},fo=(e,t)=>{let n=t;for(;n&&n!==e;){if(ln(n)||_e(n))return n;n=n.parentNode}return null},sT=["data-ephox-","data-mce-","data-alloy-","data-snooker-","_"],oT=L.each,J1=e=>{const t=e.dom,n=new Set(e.serializer.getTempAttrs()),s=(r,a)=>{if(r.nodeName!==a.nodeName||r.nodeType!==a.nodeType)return!1;const l=c=>{const u={};return oT(t.getAttribs(c),d=>{const f=d.nodeName.toLowerCase();f!=="style"&&!o(f)&&(u[f]=t.getAttrib(c,f))}),u},i=(c,u)=>{for(const d in c)if(oe(c,d)){const f=u[d];if(st(f)||c[d]!==f)return!1;delete u[d]}for(const d in u)if(oe(u,d))return!1;return!0};return q(r)&&q(a)&&(!i(l(r),l(a))||!i(t.parseStyle(t.getAttrib(r,"style")),t.parseStyle(t.getAttrib(a,"style"))))?!1:!Xt(r)&&!Xt(a)},o=r=>Le(sT,a=>Ge(r,a))||n.has(r);return{compare:s,isAttributeInternal:o}},Y2=e=>["h1","h2","h3","h4","h5","h6"].includes(e.name),rT=e=>e.name==="summary",aT=(e,t)=>{let n=e;for(;n=n.walk();)t(n)},X2=(e,t,n,s)=>{const o=n.name;for(let r=0,a=e.length;r<a;r++){const l=e[r];if(l.name===o){const i=s.nodes[o];i?i.nodes.push(n):s.nodes[o]={filter:l,nodes:[n]}}}if(n.attributes)for(let r=0,a=t.length;r<a;r++){const l=t[r],i=l.name;if(i in n.attributes.map){const c=s.attributes[i];c?c.nodes.push(n):s.attributes[i]={filter:l,nodes:[n]}}}},lT=(e,t,n)=>{const s={nodes:{},attributes:{}};return n.firstChild&&aT(n,o=>{X2(e,t,o,s)}),s},Q2=(e,t)=>{const n=(s,o)=>{xe(s,r=>{const a=$t(r.nodes);R(r.filter.callbacks,l=>{for(let i=a.length-1;i>=0;i--){const c=a[i];(!(o?c.attr(r.filter.name)!==void 0:c.name===r.filter.name)||ze(c.parent))&&a.splice(i,1)}a.length>0&&l(a,r.filter.name,t)})})};n(e.nodes,!1),n(e.attributes,!0)},J2=(e,t,n,s={})=>{const o=lT(e,t,n);Q2(o,s)},ed=(e,t,n,s)=>{if((e.pad_empty_with_br||t.insert)&&n(s)){const r=new yt("br",1);t.insert&&r.attr("data-mce-bogus","1"),s.empty().append(r)}else s.empty().append(new yt("#text",3)).value=Ye},iT=e=>{var t;return ev(e,"#text")&&((t=e?.firstChild)===null||t===void 0?void 0:t.value)===Ye},ev=(e,t)=>{const n=e?.firstChild;return $(n)&&n===e.lastChild&&n.name===t},cT=(e,t)=>{const n=e.getElementRule(t.name);return n?.paddEmpty===!0},Pa=(e,t,n,s)=>s.isEmpty(t,n,o=>cT(e,o)),uT=(e,t)=>$(e)&&(t(e)||e.name==="br"),dT=e=>{let t;for(let n=e;n;n=n.parent){const s=n.attr("contenteditable");if(s==="false")break;s==="true"&&(t=n)}return m.from(t)},td=(e,t,n=e.parent)=>{if(t.getSpecialElements()[e.name])e.empty().remove();else{const s=e.children();for(const o of s)n&&!t.isValidChild(n.name,o.name)&&td(o,t,n);e.unwrap()}},nd=(e,t,n,s=ie)=>{const o=t.getTextBlockElements(),r=t.getNonEmptyElements(),a=t.getWhitespaceElements(),l=L.makeMap("tr,td,th,tbody,thead,tfoot,table,summary"),i=new Set,c=u=>u!==n&&!l[u.name];for(let u=0;u<e.length;u++){const d=e[u];let f,h,p;if(!d.parent||i.has(d))continue;if(o[d.name]&&d.parent.name==="li"){let v=d.next;for(;v&&o[v.name];){v.name="li",i.add(v),d.parent.insert(v,d.parent);v=v.next}d.unwrap();continue}const g=[d];for(f=d.parent;f&&!t.isValidChild(f.name,d.name)&&c(f);f=f.parent)g.push(f);if(f&&g.length>1)if(sd(t,d,f))td(d,t);else{g.reverse(),h=g[0].clone(),s(h);let v=h;for(let C=0;C<g.length-1;C++){t.isValidChild(v.name,g[C].name)&&C>0?(p=g[C].clone(),s(p),v.append(p)):p=v;for(let y=g[C].firstChild;y&&y!==g[C+1];){const E=y.next;p.append(y),y=E}v=p}Pa(t,r,a,h)?f.insert(d,g[0],!0):(f.insert(h,g[0],!0),f.insert(d,h)),f=g[0],(Pa(t,r,a,f)||ev(f,"br"))&&f.empty().remove()}else if(d.parent){if(d.name==="li"){let v=d.prev;if(v&&(v.name==="ul"||v.name==="ol")){v.append(d);continue}if(v=d.next,v&&(v.name==="ul"||v.name==="ol")&&v.firstChild){v.insert(d,v.firstChild,!0);continue}const C=new yt("ul",1);s(C),d.wrap(C);continue}if(t.isValidChild(d.parent.name,"div")&&t.isValidChild("div",d.name)){const v=new yt("div",1);s(v),d.wrap(v)}else td(d,t)}}},fT=(e,t)=>{let n=e;for(;n;){if(n.name===t)return!0;n=n.parent}return!1},sd=(e,t,n=t.parent)=>n?e.children[t.name]&&!e.isValidChild(n.name,t.name)||t.name==="a"&&fT(n,"a")?!0:rT(n)&&Y2(t)?!(n?.firstChild===t&&n?.lastChild===t):!1:!1,mT=(e,t,n,s)=>{const o=document.createRange();return o.setStart(e,t),o.setEnd(n,s),o},hT=e=>{const t=A.fromRangeStart(e),n=A.fromRangeEnd(e),s=e.commonAncestorContainer;return Gt(!1,s,n).map(o=>!Zn(t,n,s)&&Zn(t,o,s)?mT(t.container(),t.offset(),o.container(),o.offset()):e).getOr(e)},od=e=>e.collapsed?e:hT(e),gT=e=>$(e.firstChild)&&e.firstChild===e.lastChild,pT=e=>e.name==="br"||e.value===Ye,vT=(e,t)=>e.getBlockElements()[t.name]&&gT(t)&&pT(t.firstChild),bT=(e,t)=>{const n=e.getNonEmptyElements();return $(t)&&(t.isEmpty(n)||vT(e,t))},CT=(e,t)=>{let n=t.firstChild,s=t.lastChild;return n&&n.name==="meta"&&(n=n.next),s&&s.attr("id")==="mce_marker"&&(s=s.prev),bT(e,s)&&(s=s?.prev),!n||n!==s?!1:n.name==="ul"||n.name==="ol"},yT=e=>{var t,n;const s=e.firstChild,o=e.lastChild;return s&&s.nodeName==="META"&&((t=s.parentNode)===null||t===void 0||t.removeChild(s)),o&&o.id==="mce_marker"&&((n=o.parentNode)===null||n===void 0||n.removeChild(o)),e},ET=(e,t,n)=>{const s=t.serialize(n),o=e.createFragment(s);return yT(o)},wT=e=>{var t;return se((t=e?.childNodes)!==null&&t!==void 0?t:[],n=>n.nodeName==="LI")},ST=e=>e.data===Ye||De(e),kT=e=>$(e?.firstChild)&&e.firstChild===e.lastChild&&ST(e.firstChild),xT=e=>!e.firstChild||kT(e),_T=e=>e.length>0&&xT(e[e.length-1])?e.slice(0,-1):e,rd=(e,t)=>{const n=e.getParent(t,e.isBlock);return n&&n.nodeName==="LI"?n:null},AT=(e,t)=>!!rd(e,t),NT=(e,t)=>{const n=t.cloneRange(),s=t.cloneRange();return n.setStartBefore(e),s.setEndAfter(e),[n.cloneContents(),s.cloneContents()]},TT=(e,t)=>{const n=A.before(e),o=zn(t).next(n);return o?o.toRange():null},tv=(e,t)=>{const n=A.after(e),o=zn(t).prev(n);return o?o.toRange():null},RT=(e,t,n,s)=>{const o=NT(e,s),r=e.parentNode;return r&&(r.insertBefore(o[0],e),L.each(t,a=>{r.insertBefore(a,e)}),r.insertBefore(o[1],e),r.removeChild(e)),tv(t[t.length-1],n)},PT=(e,t,n)=>{const s=e.parentNode;return s&&L.each(t,o=>{s.insertBefore(o,e)}),TT(e,n)},MT=(e,t,n,s)=>(s.insertAfter(t.reverse(),e),tv(t[0],n)),DT=(e,t,n,s)=>{const o=ET(t,e,s),r=rd(t,n.startContainer),a=_T(wT(o.firstChild)),l=1,i=2,c=t.getRoot(),u=d=>{const f=A.fromRangeStart(n),h=zn(t.getRoot()),p=d===l?h.prev(f):h.next(f),g=p?.getNode();return g?rd(t,g)!==r:!0};return r?u(l)?PT(r,a,c):u(i)?MT(r,a,c,t):RT(r,a,c,n):null},OT=["pre"],BT=(e,t,n,s)=>{var o;const r=t.firstChild,a=t.lastChild,l=a.attr("data-mce-type")==="bookmark"?a.prev:a,i=r===l,c=Ee(OT,r.name);if(i&&c){const u=r.attr("contenteditable")!=="false",d=((o=e.getParent(n,e.isBlock))===null||o===void 0?void 0:o.nodeName.toLowerCase())===r.name,f=m.from(fo(s,n)).forall(ln);return u&&d&&f}else return!1},ad=Nl,LT=(e,t,n)=>{if($(n)){const s=e.getParent(t.endContainer,ad);return n===s&&l1(b.fromDom(n),t)}else return!1},HT=(e,t)=>{if(e.isBlock(t)&&e.isEditable(t)){const n=t.childNodes;return n.length===1&&De(n[0])||n.length===0}else return!1},IT=(e,t,n)=>{var s;n.getAttribute("data-mce-bogus")==="all"?(s=n.parentNode)===null||s===void 0||s.insertBefore(e.dom.createFragment(t),n):HT(e.dom,n)?e.dom.setHTML(n,t):e.selection.setContent(t,{no_events:!0})},$T=(e,t,n)=>{m.from(e.getParent(t,"td,th")).map(b.fromDom).each(s=>Iw(s,n))},ZT=(e,t)=>{const n=e.schema.getTextInlineElements(),s=e.dom;if(t){const o=e.getBody(),r=J1(e),a="*[data-mce-fragment]",l=s.select(a);L.each(l,i=>{const c=f=>$(n[f.nodeName.toLowerCase()]),u=f=>f.childNodes.length===1;if((f=>!(a2(s,f)||MA(s,f)))(i)&&c(i)&&u(i)){const f=nr(s,i),h=(C,y)=>Xn(C,E=>Ee(y,E)),p=C=>u(i)&&s.is(C,a)&&c(C)&&(C.nodeName===i.nodeName&&h(f,nr(s,C))||p(C.children[0])),g=C=>$(C)&&C!==o&&(r.compare(i,C)||g(C.parentElement)),v=C=>$(C)&&C!==o&&s.is(C,a)&&(OA(s,i,C)||v(C.parentElement));(p(i.children[0])||g(i.parentElement)&&!v(i.parentElement))&&s.remove(i,!0)}})}},FT=e=>{let t=e;for(;t=t.walk();)t.type===1&&t.attr("data-mce-fragment","1")},zT=e=>{L.each(e.getElementsByTagName("*"),t=>{t.removeAttribute("data-mce-fragment")})},VT=e=>!!e.getAttribute("data-mce-fragment"),UT=(e,t)=>$(t)&&!e.schema.getVoidElements()[t.nodeName],WT=(e,t)=>{var n,s,o;let r;const a=e.dom,l=e.selection;if(!t)return;l.scrollIntoView(t);const i=fo(e.getBody(),t);if(i&&a.getContentEditable(i)==="false"){a.remove(t),l.select(i);return}let c=a.createRng();const u=t.previousSibling;if(O(u)){c.setStart(u,(s=(n=u.nodeValue)===null||n===void 0?void 0:n.length)!==null&&s!==void 0?s:0);const h=t.nextSibling;O(h)&&(u.appendData(h.data),(o=h.parentNode)===null||o===void 0||o.removeChild(h))}else c.setStartBefore(t),c.setEndBefore(t);const d=h=>{let p=A.fromRangeStart(h);return p=zn(e.getBody()).next(p),p?.toRange()},f=a.getParent(t,a.isBlock);if(a.remove(t),f&&a.isEmpty(f)){const h=ad(f);Oo(b.fromDom(f)),c.setStart(f,0),c.setEnd(f,0),!h&&!VT(f)&&(r=d(c))?(c=r,a.remove(f)):a.add(f,a.create("br",h?{}:{"data-mce-bogus":"1"}))}l.setRng(c)},jT=e=>{const t=e.dom,n=od(e.selection.getRng());e.selection.setRng(n);const s=t.getParent(n.startContainer,ad);LT(t,n,s)?Y1(e,n,b.fromDom(s)):n.startContainer===n.endContainer&&n.endOffset-n.startOffset===1&&O(n.startContainer.childNodes[n.startOffset])?n.deleteContents():e.getDoc().execCommand("Delete",!1)},qT=e=>{for(let t=e;t;t=t.walk())if(t.attr("id")==="mce_marker")return m.some(t);return m.none()},KT=(e,t,n)=>{var s;return Le(n.children(),Y2)&&((s=e.getParent(t,e.isBlock))===null||s===void 0?void 0:s.nodeName)==="SUMMARY"},GT=(e,t,n)=>{var s,o;const r=e.selection,a=e.dom,l=e.parser,i=n.merge,c=Ns({validate:!0},e.schema),u='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';n.preserve_zwsp||(t=zt(t)),t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,u);let d=r.getRng();const f=d.startContainer,h=e.getBody();f===h&&r.isCollapsed()&&a.isBlock(h.firstChild)&&UT(e,h.firstChild)&&a.isEmpty(h.firstChild)&&(d=a.createRng(),d.setStart(h.firstChild,0),d.setEnd(h.firstChild,0),r.setRng(d)),r.isCollapsed()||jT(e);const p=r.getNode(),g={context:p.nodeName.toLowerCase(),data:n.data,insert:!0},v=l.parse(t,g);if(n.paste===!0&&CT(e.schema,v)&&AT(a,p))return d=DT(c,a,r.getRng(),v),d&&r.setRng(d),t;n.paste===!0&&BT(a,v,p,e.getBody())&&((s=v.firstChild)===null||s===void 0||s.unwrap()),FT(v);let C=v.lastChild;if(C&&C.attr("id")==="mce_marker"){const y=C;for(C=C.prev;C&&C.name!=="table";C=C.walk(!0))if(C.type===3||!a.isBlock(C.name)){C.parent&&e.schema.isValidChild(C.parent.name,"span")&&C.parent.insert(y,C,C.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(p),!g.invalid&&!KT(a,p,v))t=c.serialize(v),IT(e,t,p);else{e.selection.setContent(u);let y=r.getNode(),E;const S=e.getBody();for(Gr(y)?y=E=S:E=y;E&&E!==S;)y=E,E=E.parentNode;t=y===S?S.innerHTML:a.getOuterHTML(y);const T=l.parse(t),D=qT(T),V=D.bind(dT).getOr(T);D.each(F=>F.replace(v));const N=v.children(),_=(o=v.parent)!==null&&o!==void 0?o:T;v.unwrap();const P=se(N,F=>sd(e.schema,F,_));nd(P,e.schema,V),J2(l.getNodeFilters(),l.getAttributeFilters(),T),t=c.serialize(T),y===S?a.setHTML(S,t):a.setOuterHTML(y,t)}return ZT(e,i),WT(e,a.get("mce_marker")),zT(e.getBody()),$T(a,r.getStart(),e.schema),y8(e.schema,e.getBody(),r.getStart()),t},Ei=e=>e instanceof yt,YT=e=>{tr(e)&&ht(e.getBody()).each(t=>{const n=t.getNode(),s=Hn(n)?ht(n).getOr(t):t;e.selection.setRng(s.toRange())})},ld=(e,t,n)=>{e.dom.setHTML(e.getBody(),t),n!==!0&&YT(e)},XT=(e,t,n,s)=>{if(n=zt(n),n.length===0||/^\s+$/.test(n)){const o='<br data-mce-bogus="1">';t.nodeName==="TABLE"?n="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+o+"</li>");const r=mt(e);return e.schema.isValidChild(t.nodeName.toLowerCase(),r.toLowerCase())?(n=o,n=e.dom.createHTML(r,fa(e),n)):n||(n=o),ld(e,n,s.no_selection),{content:n,html:n}}else{s.format!=="raw"&&(n=Ns({validate:!1},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0})));const o=Ll(b.fromDom(t))?n:L.trim(n);return ld(e,o,s.no_selection),{content:o,html:o}}},QT=(e,t,n,s)=>{J2(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);const o=Ns({validate:!1},e.schema).serialize(n),r=zt(Ll(b.fromDom(t))?o:L.trim(o));return ld(e,r,s.no_selection),{content:n,html:r}},JT=(e,t,n)=>m.from(e.getBody()).map(s=>Ei(t)?QT(e,s,t,n):XT(e,s,t,n)).getOr({content:t,html:Ei(n.content)?"":n.content}),nv=e=>we(e)?e:Pe,eR=(e,t,n)=>{let s=e.dom;const o=nv(n);for(;s.parentNode;){s=s.parentNode;const r=b.fromDom(s),a=t(r);if(a.isSome())return a;if(o(r))break}return m.none()},id=(e,t,n)=>{const s=t(e),o=nv(n);return s.orThunk(()=>o(e)?m.none():eR(e,t,o))},cd=m1,sv=(e,t,n)=>{const s=e.formatter.get(n);if(s)for(let o=0;o<s.length;o++){const r=s[o];if(Qt(r)&&r.inherit===!1&&e.dom.is(t,r.selector))return!0}return!1},ud=(e,t,n,s,o)=>{const r=e.dom.getRoot();if(t===r)return!1;const a=e.dom.getParent(t,l=>sv(e,l,n)?!0:l.parentNode===r||!!Un(e,l,n,s,!0));return!!Un(e,a,n,s,o)},wi=(e,t,n)=>Qe(n)&&cd(t,n.inline)||Vn(n)&&cd(t,n.block)?!0:Qt(n)?q(t)&&e.is(t,n.selector):!1,ov=(e,t,n,s,o,r)=>{const a=n[s],l=s==="attributes";if(we(n.onmatch))return n.onmatch(t,n,s);if(a){if(Am(a)){for(let i=0;i<a.length;i++)if(l?e.getAttrib(t,a[i]):ti(e,t,a[i]))return!0}else for(const i in a)if(oe(a,i)){const c=l?e.getAttrib(t,i):ti(e,t,i),u=As(a[i],r),d=ze(c)||Or(c);if(d&&ze(u))continue;if(o&&d&&!n.exact||(!o||n.exact)&&!cd(c,h1(u,i)))return!1}}return!0},Un=(e,t,n,s,o)=>{const r=e.formatter.get(n),a=e.dom;if(r&&q(t))for(let l=0;l<r.length;l++){const i=r[l];if(wi(e.dom,t,i)&&ov(a,t,i,"attributes",o,s)&&ov(a,t,i,"styles",o,s)){const c=i.classes;if(c){for(let u=0;u<c.length;u++)if(!e.dom.hasClass(t,As(c[u],s)))return}return i}}},dd=(e,t,n,s,o)=>{if(s)return ud(e,s,t,n,o);if(s=e.selection.getNode(),ud(e,s,t,n,o))return!0;const r=e.selection.getStart();return!!(r!==s&&ud(e,r,t,n,o))},tR=(e,t,n)=>{const s=[],o={},r=e.selection.getStart();return e.dom.getParent(r,a=>{for(let l=0;l<t.length;l++){const i=t[l];!o[i]&&Un(e,a,i,n)&&(o[i]=!0,s.push(i))}},e.dom.getRoot()),s},nR=(e,t)=>{const n=o=>Ce(o,b.fromDom(e.getBody())),s=(o,r)=>Un(e,o.dom,r)?m.some(r):m.none();return m.from(e.selection.getStart(!0)).bind(o=>id(b.fromDom(o),r=>xo(t,a=>s(r,a)),n)).getOrNull()},sR=(e,t)=>{const n=e.formatter.get(t),s=e.dom;if(n&&e.selection.isEditable()){const o=e.selection.getStart(),r=ni(s,o);for(let a=n.length-1;a>=0;a--){const l=n[a];if(!Qt(l))return!0;for(let i=r.length-1;i>=0;i--)if(s.is(r[i],l.selector))return!0}}return!1},oR=(e,t,n)=>Mt(n,(s,o)=>{const r=kx(e,o);return e.formatter.matchNode(t,o,{},r)?s.concat([o]):s},[]),Ma=Xe,rR=(e,t)=>e.importNode(t,!0),rv=e=>{if(e){const t=new Je(e,e);for(let n=t.current();n;n=t.next())if(O(n))return n}return null},fd=e=>{const t=b.fromTag("span");return Jn(t,{id:n1,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Ve(t,b.fromText(Ma)),t},aR=e=>{const t=rv(e);return t&&t.data.charAt(0)===Ma&&t.deleteData(0,1),t},md=(e,t,n)=>{const s=e.dom,o=e.selection;if(tp(t))co(e,!1,b.fromDom(t),n,!0);else{const r=o.getRng(),a=s.getParent(t,s.isBlock),l=r.startContainer,i=r.startOffset,c=r.endContainer,u=r.endOffset,d=aR(t);s.remove(t,!0),l===d&&i>0&&r.setStart(d,i-1),c===d&&u>0&&r.setEnd(d,u-1),a&&s.isEmpty(a)&&ws(b.fromDom(a)),o.setRng(r)}},hd=(e,t,n)=>{const s=e.dom,o=e.selection;if(t)md(e,t,n);else if(t=oo(e.getBody(),o.getStart()),!t)for(;t=s.get(n1);)md(e,t,n)},lR=(e,t,n)=>{var s,o;const r=e.dom,a=r.getParent(n,K(d1,e.schema));a&&r.isEmpty(a)?(s=n.parentNode)===null||s===void 0||s.replaceChild(t,n):(Hw(b.fromDom(n)),r.isEmpty(n)?(o=n.parentNode)===null||o===void 0||o.replaceChild(t,n):r.insertAfter(t,n))},av=(e,t)=>(e.appendChild(t),t),lv=(e,t)=>{var n;const s=_r(e,(r,a)=>av(r,a.cloneNode(!1)),t),o=(n=s.ownerDocument)!==null&&n!==void 0?n:document;return av(s,o.createTextNode(Ma))},iR=(e,t,n,s,o,r)=>{const a=e.formatter,l=e.dom,i=se(Dt(a.get()),d=>d!==s&&!it(d,"removeformat")),c=oR(e,n,i);if(se(c,d=>!xx(e,d,s)).length>0){const d=n.cloneNode(!1);return l.add(t,d),a.remove(s,o,d,r),l.remove(d),m.some(d)}else return m.none()},iv=e=>h0(e,aa(e).replace(new RegExp(`${Ye}$`)," ")),cv=(e,t)=>{const n=()=>{t!==null&&!e.dom.isEmpty(t)&&gs(b.fromDom(t)).each(s=>{At(s)?iv(s):Gc(s,o=>At(o)).each(o=>{At(o)&&iv(o)})})};e.once("input",s=>{s.data&&!ro(s.data)&&(s.isComposing?e.once("compositionend",()=>{n()}):n())})},cR=(e,t,n)=>{let s;const o=e.selection,r=e.formatter.get(t);if(!r)return;const a=o.getRng();let l=a.startOffset;const c=a.startContainer.nodeValue;s=oo(e.getBody(),o.getStart());const u=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(c&&l>0&&l<c.length&&u.test(c.charAt(l))&&u.test(c.charAt(l-1))){const d=o.getBookmark();a.collapse(!0);let f=ao(e.dom,a,r);f=fi(f),e.formatter.apply(t,n,f),o.moveToBookmark(d)}else{let d=s?rv(s):null;(!s||d?.data!==Ma)&&(s=rR(e.getDoc(),fd(!0).dom),d=s.firstChild,a.insertNode(s),l=1,cv(e,s)),e.formatter.apply(t,n,s),o.setCursorLocation(d,l)}},uR=(e,t,n,s)=>{const o=e.dom,r=e.selection;let a=!1;const l=e.formatter.get(t);if(!l)return;const i=r.getRng(),c=i.startContainer,u=i.startOffset;let d=c;O(c)&&(u!==c.data.length&&(a=!0),d=d.parentNode);const f=[];let h;for(;d;){if(Un(e,d,t,n,s)){h=d;break}d.nextSibling&&(a=!0),f.push(d),d=d.parentNode}if(h)if(a){const p=r.getBookmark();i.collapse(!0);let g=ao(o,i,l,{includeTrailingSpace:!0});g=fi(g),e.formatter.remove(t,n,g,s),r.moveToBookmark(p)}else{const p=oo(e.getBody(),h),g=$(p)?o.getParents(h.parentNode,$e,p):[],v=fd(!1).dom;lR(e,v,p??h);const C=iR(e,v,h,t,n,s),y=lv([...f,...C.toArray(),...g],v);p&&md(e,p,$(p)),r.setCursorLocation(y,1),cv(e,v),o.isEmpty(h)&&o.remove(h)}},dR=(e,t,n)=>{const s=e.selection,o=e.getBody();hd(e,null,n),(t===8||t===46)&&s.isCollapsed()&&s.getStart().innerHTML===Ma&&hd(e,oo(o,s.getStart()),!0),(t===37||t===39)&&hd(e,oo(o,s.getStart()),!0)},fR=e=>O(e)&&Ic(e.data,Ye),mR=e=>{e.on("mouseup keydown",t=>{dR(e,t.keyCode,fR(e.selection.getRng().endContainer))})},uv=e=>{const t=fd(!1),n=lv(e,t.dom);return{caretContainer:t,caretPosition:A(n,0)}},dv=(e,t)=>{const{caretContainer:n,caretPosition:s}=uv(t);return Ot(b.fromDom(e),n),Ne(b.fromDom(e)),s},hR=(e,t)=>{const{caretContainer:n,caretPosition:s}=uv(t);return e.insertNode(n.dom),s},fv=(e,t)=>{if(Yt(t.dom))return!1;const n=e.schema.getTextInlineElements();return oe(n,pe(t))&&!Yt(t.dom)&&!Us(t.dom)},Da={},mv=Cn(["pre"]),gR=(e,t)=>{Da[e]||(Da[e]=[]),Da[e].push(t)},pR=(e,t)=>{oe(Da,e)&&R(Da[e],n=>{n(t)})};gR("pre",e=>{const t=e.selection.getRng(),n=o=>r=>{const a=r.previousSibling;return mv(a)&&Ee(o,a)},s=(o,r)=>{const a=b.fromDom(r),l=hs(a).dom;Ne(a),zs(b.fromDom(o),[b.fromTag("br",l),b.fromTag("br",l),...ut(a)])};if(!t.collapsed){const o=e.selection.getSelectedBlocks(),r=se(se(o,mv),n(o));R(r,a=>{s(a.previousSibling,a)})}});const hv=["fontWeight","fontStyle","color","fontSize","fontFamily"],vR=e=>nt(e.styles)&&Le(Dt(e.styles),t=>Ee(hv,t)),bR=e=>Ke(e,t=>Qe(t)&&t.inline==="span"&&vR(t)),gv=(e,t)=>{const n=e.get(t);return Me(n)?bR(n):m.none()},pv=(e,t)=>Bt(t,A.fromRangeStart(e)).isNone(),vv=(e,t)=>Tt(t,A.fromRangeEnd(e)).exists(n=>!De(n.getNode())||Tt(t,n).isSome())===!1,bv=e=>t=>n8(t)&&e.isEditable(t),CR=e=>{const t=e.getSelectedBlocks(),n=e.getRng();if(e.isCollapsed())return[];if(t.length===1)return pv(n,t[0])&&vv(n,t[0])?t:[];{const s=_t(t).filter(a=>pv(n,a)).toArray(),o=ms(t).filter(a=>vv(n,a)).toArray(),r=t.slice(1,-1);return s.concat(r).concat(o)}},yR=e=>se(CR(e),bv(e.dom)),Cv=e=>se(e.getSelectedBlocks(),bv(e.dom)),gd=L.each,pd=e=>q(e)&&!Xt(e)&&!Yt(e)&&!Us(e),yv=(e,t)=>{for(let n=e;n;n=n[t]){if(O(n)&&Rn(n.data))return e;if(q(n)&&!Xt(n))return n}return e},Ev=(e,t,n)=>{const s=J1(e),o=Ln(t)&&e.dom.isEditable(t),r=Ln(n)&&e.dom.isEditable(n);if(o&&r){const a=yv(t,"previousSibling"),l=yv(n,"nextSibling");if(s.compare(a,l)){for(let i=a.nextSibling;i&&i!==l;){const c=i;i=i.nextSibling,a.appendChild(c)}return e.dom.remove(l),L.each(L.grep(l.childNodes),i=>{a.appendChild(i)}),a}}return n},wv=(e,t,n,s)=>{var o;if(s&&t.merge_siblings!==!1){const r=(o=Ev(e,Qg(s),s))!==null&&o!==void 0?o:s;Ev(e,r,Qg(r,!0))}},ER=(e,t,n)=>{if(t.clear_child_styles){const s=t.links?"*:not(a)":"*";gd(e.select(s,n),o=>{pd(o)&&e.isEditable(o)&&gd(t.styles,(r,a)=>{e.setStyle(o,a,"")})})}},vd=(e,t,n)=>{gd(e.childNodes,s=>{pd(s)&&(t(s)&&n(s),s.hasChildNodes()&&vd(s,t,n))})},wR=(e,t)=>{t.nodeName==="SPAN"&&e.getAttribs(t).length===0&&e.remove(t,!0)},Sv=(e,t)=>n=>!!(n&&ti(e,n,t)),kv=(e,t,n)=>s=>{e.setStyle(s,t,n),s.getAttribute("style")===""&&s.removeAttribute("style"),wR(e,s)},mo=$n.generate([{keep:[]},{rename:["name"]},{removed:[]}]),SR=/^(src|href|style)$/,bd=L.each,Si=m1,kR=e=>/^(TR|TH|TD)$/.test(e.nodeName),xv=(e,t,n)=>e.isChildOf(t,n)&&t!==n&&!e.isBlock(n),_v=(e,t,n)=>{let s=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"];if(q(s)){const r=s.childNodes.length-1;!n&&o&&o--,s=s.childNodes[o>r?r:o]}return O(s)&&n&&o>=s.data.length&&(s=new Je(s,e.getBody()).next()||s),O(s)&&!n&&o===0&&(s=new Je(s,e.getBody()).prev()||s),s},Av=(e,t)=>{const n=t?"firstChild":"lastChild",s=e[n];return kR(e)&&s?e.nodeName==="TR"&&s[n]||s:e},Cd=(e,t,n,s)=>{var o;const r=e.create(n,s);return(o=t.parentNode)===null||o===void 0||o.insertBefore(r,t),r.appendChild(t),r},Nv=(e,t,n,s,o)=>{const r=b.fromDom(t),a=b.fromDom(e.create(s,o)),l=n?oh(r):sh(r);return zs(a,l),n?(Ot(r,a),Xc(a,r)):(ns(r,a),Ve(a,r)),a.dom},xR=(e,t)=>t.links&&e.nodeName==="A",Tv=(e,t,n)=>{const s=t.parentNode;let o;const r=e.dom,a=mt(e);Vn(n)&&s===r.getRoot()&&(!n.list_block||!Si(t,n.list_block))&&R($t(t.childNodes),l=>{Xo(e,a,l.nodeName.toLowerCase())?o?o.appendChild(l):(o=Cd(r,l,a),r.setAttribs(o,fa(e))):o=null}),!(Nx(n)&&!Si(n.inline,t))&&r.remove(t,!0)},Rv=(e,t,n)=>an(e)?{name:t,value:null}:{name:e,value:As(t,n)},Pv=(e,t)=>{e.getAttrib(t,"style")===""&&(t.removeAttribute("style"),t.removeAttribute("data-mce-style"))},Mv=(e,t,n,s,o)=>{let r=!1;bd(n.styles,(a,l)=>{const{name:i,value:c}=Rv(l,a,s),u=h1(c,i);(n.remove_similar||vt(c)||!q(o)||Si(ti(e,o,i),u))&&e.setStyle(t,i,""),r=!0}),r&&Pv(e,t)},_R=(e,t,n)=>{t==="removeformat"?R(Cv(e.selection),s=>{R(hv,o=>e.dom.setStyle(s,o,"")),Pv(e.dom,s)}):gv(e.formatter,t).each(s=>{R(Cv(e.selection),o=>Mv(e.dom,o,s,n,null))})},Dv=(e,t,n,s,o)=>{const r=e.dom,a=J1(e),l=e.schema;if(Qe(t)&&fu(l,t.inline)&&js(l,s)&&s.parentElement===e.getBody())return Tv(e,s,t),mo.removed();if(!t.ceFalseOverride&&s&&r.getContentEditableParent(s)==="false"||s&&!wi(r,s,t)&&!xR(s,t))return mo.keep();const i=s,c=t.preserve_attributes;if(Qe(t)&&t.remove==="all"&&Me(c)){const u=se(r.getAttribs(i),d=>Ee(c,d.name.toLowerCase()));if(r.removeAllAttribs(i),R(u,d=>r.setAttrib(i,d.name,d.value)),u.length>0)return mo.rename("span")}if(t.remove!=="all"){Mv(r,i,t,n,o),bd(t.attributes,(d,f)=>{const{name:h,value:p}=Rv(f,d,n);if(t.remove_similar||vt(p)||!q(o)||Si(r.getAttrib(o,h),p)){if(h==="class"){const g=r.getAttrib(i,h);if(g){let v="";if(R(g.split(/\s+/),C=>{/mce\-\w+/.test(C)&&(v+=(v?" ":"")+C)}),v){r.setAttrib(i,h,v);return}}}if(SR.test(h)&&i.removeAttribute("data-mce-"+h),h==="style"&&Cn(["li"])(i)&&r.getStyle(i,"list-style-type")==="none"){i.removeAttribute(h),r.setStyle(i,"list-style-type","none");return}h==="class"&&i.removeAttribute("className"),i.removeAttribute(h)}}),bd(t.classes,d=>{d=As(d,n),(!q(o)||r.hasClass(o,d))&&r.removeClass(i,d)});const u=r.getAttribs(i);for(let d=0;d<u.length;d++){const f=u[d].nodeName;if(!a.isAttributeInternal(f))return mo.keep()}}return t.remove!=="none"?(Tv(e,i,t),mo.removed()):mo.keep()},AR=(e,t,n,s,o)=>{let r;return t.parentNode&&R(ni(e.dom,t.parentNode).reverse(),a=>{if(!r&&q(a)&&a.id!=="_start"&&a.id!=="_end"){const l=Un(e,a,n,s,o);l&&l.split!==!1&&(r=a)}}),r},NR=(e,t,n,s)=>Dv(e,t,n,s,s).fold(j(s),o=>(e.dom.createFragment().appendChild(s),e.dom.rename(s,o)),j(null)),TR=(e,t,n,s,o,r,a,l)=>{var i,c;let u,d;const f=e.dom;if(n){const h=n.parentNode;for(let p=s.parentNode;p&&p!==h;p=p.parentNode){let g=f.clone(p,!1);for(let v=0;v<t.length&&(g=NR(e,t[v],l,g),g!==null);v++);g&&(u&&g.appendChild(u),d||(d=g),u=g)}(!a.mixed||!f.isBlock(n))&&(s=(i=f.split(n,s))!==null&&i!==void 0?i:s),u&&d&&((c=o.parentNode)===null||c===void 0||c.insertBefore(u,o),d.appendChild(o),Qe(a)&&wv(e,a,l,u))}return s},RR=(e,t,n,s,o)=>{const r=e.formatter.get(t),a=r[0],l=e.dom,i=e.selection,c=g=>{const v=AR(e,g,t,n,o);return TR(e,r,v,g,g,!0,a,n)},u=g=>Xt(g)&&q(g)&&(g.id==="_start"||g.id==="_end"),d=g=>Le(r,v=>Oa(e,v,n,g,g)),f=g=>{const v=$t(g.childNodes),y=d(g)||Le(r,T=>wi(l,g,T)),E=g.parentNode;if(!y&&$(E)&&p1(a)&&d(E),a.deep&&v.length)for(let T=0;T<v.length;T++)f(v[T]);R(["underline","line-through","overline"],T=>{q(g)&&e.dom.getStyle(g,"text-decoration")===T&&g.parentNode&&ep(l,g.parentNode)===T&&Oa(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:T}},void 0,g)})},h=g=>{const v=l.get(g?"_start":"_end");if(v){let C=v[g?"firstChild":"lastChild"];return u(C)&&(C=C[g?"firstChild":"lastChild"]),O(C)&&C.data.length===0&&(C=g?v.previousSibling||v.nextSibling:v.nextSibling||v.previousSibling),l.remove(v,!0),C}else return null},p=g=>{let v,C,y=ao(l,g,r,{includeTrailingSpace:g.collapsed});if(a.split){if(y=fi(y),v=_v(e,y,!0),C=_v(e,y),v!==C){if(v=Av(v,!0),C=Av(C,!1),xv(l,v,C)){const S=m.from(v.firstChild).getOr(v);c(Nv(l,S,!0,"span",{id:"_start","data-mce-type":"bookmark"})),h(!0);return}if(xv(l,C,v)){const S=m.from(C.lastChild).getOr(C);c(Nv(l,S,!1,"span",{id:"_end","data-mce-type":"bookmark"})),h(!1);return}v=Cd(l,v,"span",{id:"_start","data-mce-type":"bookmark"}),C=Cd(l,C,"span",{id:"_end","data-mce-type":"bookmark"});const E=l.createRng();E.setStartAfter(v),E.setEndBefore(C),wa(l,E,S=>{R(S,T=>{!Xt(T)&&!Xt(T.parentNode)&&c(T)})}),c(v),c(C),v=h(!0),C=h()}else v=C=c(v);y.startContainer=v.parentNode?v.parentNode:v,y.startOffset=l.nodeIndex(v),y.endContainer=C.parentNode?C.parentNode:C,y.endOffset=l.nodeIndex(C)+1}wa(l,y,E=>{R(E,f)})};if(s){if(Ea(s)){const g=l.createRng();g.setStartBefore(s),g.setEndAfter(s),p(g)}else p(s);X0(e,t,s,n);return}!i.isCollapsed()||!Qe(a)||Yo(e).length?(Xg(e,()=>c1(e,p),g=>Qe(a)&&dd(e,t,n,g)),e.nodeChanged()):uR(e,t,n,o),_R(e,t,n),X0(e,t,s,n)},Ov=(e,t,n,s,o)=>{(s||e.selection.isEditable())&&RR(e,t,n,s,o)},Oa=(e,t,n,s,o)=>Dv(e,t,n,s,o).fold(Pe,r=>(e.dom.rename(s,r),!0),$e),Bv=L.each,PR=(e,t,n,s)=>{const o=r=>{if(Ln(r)&&q(r.parentNode)&&e.isEditable(r)){const a=ep(e,r.parentNode);e.getStyle(r,"color")&&a?e.setStyle(r,"text-decoration",a):e.getStyle(r,"text-decoration")===a&&e.setStyle(r,"text-decoration",null)}};t.styles&&(t.styles.color||t.styles.textDecoration)&&(L.walk(s,o,"childNodes"),o(s))},MR=(e,t,n,s)=>{if(t.styles&&t.styles.backgroundColor){const o=Sv(e,"fontSize");vd(s,r=>o(r)&&e.isEditable(r),kv(e,"backgroundColor",As(t.styles.backgroundColor,n)))}},DR=(e,t,n,s)=>{if(Qe(t)&&(t.inline==="sub"||t.inline==="sup")){const o=Sv(e,"fontSize");vd(s,a=>o(a)&&e.isEditable(a),kv(e,"fontSize",""));const r=se(e.select(t.inline==="sup"?"sub":"sup",s),e.isEditable);e.remove(r,!0)}},OR=(e,t,n,s)=>{Bv(t,o=>{Qe(o)&&Bv(e.dom.select(o.inline,s),r=>{pd(r)&&Oa(e,o,n,r,o.exact?r:null)}),ER(e.dom,o,s)})},BR=(e,t,n,s,o)=>{const r=o.parentNode;Un(e,r,n,s)&&Oa(e,t,s,o)||t.merge_with_parents&&r&&e.dom.getParent(r,a=>Un(e,a,n,s)?(Oa(e,t,s,o),!0):!1)},ki=L.each,LR=(e,t,n,s)=>{if(OS(e)&&Qe(t)&&n.parentNode){const o=qh(e.schema),r=UE(b.fromDom(n),a=>Yt(a.dom));return _o(o,s)&&ss(e.schema,n.parentNode,{skipBogus:!1,includeZwsp:!0})&&!r}else return!1},Lv=(e,t,n,s)=>{if(ki(n.styles,(o,r)=>{e.setStyle(t,r,As(o,s))}),n.styles){const o=e.getAttrib(t,"style");o&&e.setAttrib(t,"data-mce-style",o)}},HR=(e,t,n,s)=>{const o=e.formatter.get(t),r=o[0],a=!s&&e.selection.isCollapsed(),l=e.dom,i=e.selection,c=(p,g=r)=>{we(g.onformat)&&g.onformat(p,g,n,s),Lv(l,p,g,n),ki(g.attributes,(v,C)=>{l.setAttrib(p,C,As(v,n))}),ki(g.classes,v=>{const C=As(v,n);l.hasClass(p,C)||l.addClass(p,C)})},u=(p,g)=>{let v=!1;return ki(p,C=>Qt(C)?l.getContentEditable(g)==="false"&&!C.ceFalseOverride||$(C.collapsed)&&C.collapsed!==a?!0:l.is(g,C.selector)&&!Yt(g)?(c(g,C),v=!0,!1):!0:!1),v},d=p=>{if(J(p)){const g=l.create(p);return c(g),g}else return null},f=(p,g,v)=>{const C=[];let y=!0;const E=r.inline||r.block,S=d(E),T=N=>_x(r)&&Un(e,N,t,n),D=(N,_,P)=>{const F=Ax(r)&&d1(e.schema,N)&&Xo(e,_,E);return P&&F},V=(N,_,P,F)=>{const G=N.nodeName.toLowerCase(),re=Xo(e,E,G)&&Xo(e,_,E),le=!v&&O(N)&&Hl(N.data),he=Yt(N),be=!Qe(r)||!p.isBlock(N);return(P||F)&&re&&!le&&!he&&be};wa(p,g,N=>{let _;const P=F=>{let G=!1,re=y,le=!1;const he=F.parentNode,be=he.nodeName.toLowerCase(),He=p.getContentEditable(F);$(He)&&(re=y,y=He==="true",G=!0,le=Jg(e,F));const We=y&&!G;if(De(F)&&!LR(e,r,F,be)){_=null,Vn(r)&&p.remove(F);return}if(T(F)){_=null;return}if(D(F,be,We)){const je=p.rename(F,E);c(je),C.push(je),_=null;return}if(Qt(r)){let je=u(o,F);if(!je&&$(he)&&p1(r)&&(je=u(o,he)),!Qe(r)||je){_=null;return}}$(S)&&V(F,be,We,le)?(_||(_=p.clone(S,!1),he.insertBefore(_,F),C.push(_)),le&&G&&(y=re),_.appendChild(F)):(_=null,R($t(F.childNodes),P),G&&(y=re),_=null)};R(N,P)}),r.links===!0&&R(C,N=>{const _=P=>{P.nodeName==="A"&&c(P,r),R($t(P.childNodes),_)};_(N)}),R(C,N=>{const _=G=>{let re=0;return R(G.childNodes,le=>{!wx(le)&&!Xt(le)&&re++}),re},P=G=>Ke(G.childNodes,u1).filter(le=>p.getContentEditable(le)!=="false"&&wi(p,le,r)).map(le=>{const he=p.clone(le,!1);return c(he),p.replace(he,G,!0),p.remove(le,!0),he}).getOr(G),F=_(N);if((C.length>1||!p.isBlock(N))&&F===0){p.remove(N,!0);return}(Qe(r)||Vn(r)&&r.wrapper)&&(!r.exact&&F===1&&(N=P(N)),OR(e,o,n,N),BR(e,r,t,n,N),MR(p,r,n,N),PR(p,r,n,N),DR(p,r,n,N),wv(e,r,n,N))})},h=Ea(s)?s:i.getNode();if(l.getContentEditable(h)==="false"&&!Jg(e,h)){s=h,u(o,s),Y0(e,t,s,n);return}if(r){if(s)if(Ea(s)){if(!u(o,s)){const p=l.createRng();p.setStartBefore(s),p.setEndAfter(s),f(l,ao(l,p,o),!0)}}else f(l,s,!0);else!a||!Qe(r)||Yo(e).length?(i.setRng(od(i.getRng())),Xg(e,()=>{c1(e,(p,g)=>{const v=g?p:ao(l,p,o);f(l,v,!1)})},$e),e.nodeChanged()):cR(e,t,n),gv(e.formatter,t).each(p=>{R(yR(e.selection),g=>Lv(l,g,p,n))});pR(t,e)}Y0(e,t,s,n)},Hv=(e,t,n,s)=>{(s||e.selection.isEditable())&&HR(e,t,n,s)},Iv=e=>oe(e,"vars"),IR=(e,t)=>{e.set({}),t.on("NodeChange",n=>{zv(t,n.element,e.get())}),t.on("FormatApply FormatRemove",n=>{const s=m.from(n.node).map(o=>Ea(o)?o:o.startContainer).bind(o=>q(o)?m.some(o):m.from(o.parentElement)).getOrThunk(()=>$v(t));zv(t,s,e.get())})},$v=e=>e.selection.getStart(),Zv=(e,t,n,s,o)=>wm(t,l=>{const i=e.formatter.matchNode(l,n,o??{},s);return!st(i)},l=>sv(e,l,n)?!0:s?!1:$(e.formatter.matchNode(l,n,o,!0))),Fv=(e,t)=>{const n=t??$v(e);return se(ni(e.dom,n),s=>q(s)&&!Us(s))},zv=(e,t,n)=>{const s=Fv(e,t);xe(n,(o,r)=>{const a=l=>{const i=Zv(e,s,r,l.similar,Iv(l)?l.vars:void 0),c=i.isSome();if(l.state.get()!==c){l.state.set(c);const u=i.getOr(t);Iv(l)?l.callback(c,{node:u,format:r,parents:s}):R(l.callbacks,d=>d(c,{node:u,format:r,parents:s}))}};R([o.withSimilar,o.withoutSimilar],a),R(o.withVars,a)})},$R=(e,t,n,s,o,r)=>{const a=t.get();R(n.split(","),l=>{const i=Ae(a,l).getOrThunk(()=>{const u={withSimilar:{state:et(!1),similar:!0,callbacks:[]},withoutSimilar:{state:et(!1),similar:!1,callbacks:[]},withVars:[]};return a[l]=u,u}),c=()=>{const u=Fv(e);return Zv(e,u,l,o,r).isSome()};if(st(r)){const u=o?i.withSimilar:i.withoutSimilar;u.callbacks.push(s),u.callbacks.length===1&&u.state.set(c())}else i.withVars.push({state:et(c()),similar:o,vars:r,callback:s})}),t.set(a)},ZR=(e,t,n)=>{const s=e.get();R(t.split(","),o=>Ae(s,o).each(r=>{s[o]={withSimilar:{...r.withSimilar,callbacks:se(r.withSimilar.callbacks,a=>a!==n)},withoutSimilar:{...r.withoutSimilar,callbacks:se(r.withoutSimilar.callbacks,a=>a!==n)},withVars:se(r.withVars,a=>a.callback!==n)}})),e.set(s)},FR=(e,t,n,s,o,r)=>($R(e,t,n,s,o,r),{unbind:()=>ZR(t,n,s)}),zR=(e,t,n,s)=>{const o=e.formatter.get(t);o&&(dd(e,t,n,s)&&(!("toggle"in o[0])||o[0].toggle)?Ov(e,t,n,s):Hv(e,t,n,s))},Vv=L.explode,Uv=()=>{const e={};return{addFilter:(o,r)=>{R(Vv(o),a=>{oe(e,a)||(e[a]={name:a,callbacks:[]}),e[a].callbacks.push(r)})},getFilters:()=>Oc(e),removeFilter:(o,r)=>{R(Vv(o),a=>{if(oe(e,a))if($(r)){const l=e[a],i=se(l.callbacks,c=>c!==r);i.length>0?l.callbacks=i:delete e[a]}else delete e[a]})}}},VR=(e,t)=>{R(t,n=>{e.attr(n,null)})},UR=(e,t,n)=>{e.addNodeFilter("font",s=>{R(s,o=>{const r=t.parse(o.attr("style")),a=o.attr("color"),l=o.attr("face"),i=o.attr("size");a&&(r.color=a),l&&(r["font-family"]=l),i&&vl(i).each(c=>{r["font-size"]=n[c-1]}),o.name="span",o.attr("style",t.serialize(r)),VR(o,["color","face","size"])})})},WR=(e,t,n)=>{e.addNodeFilter("strike",s=>{const o=t.type!=="html4";R(s,r=>{if(o)r.name="s";else{const a=n.parse(r.attr("style"));a["text-decoration"]="line-through",r.name="span",r.attr("style",n.serialize(a))}})})},jR=(e,t,n)=>{var s;const o=wu();t.convert_fonts_to_spans&&UR(e,o,L.explode((s=t.font_size_legacy_values)!==null&&s!==void 0?s:"")),WR(e,n,o)},qR=(e,t,n)=>{t.inline_styles&&jR(e,t,n)},KR=e=>fetch(e).then(t=>t.ok?t.blob():Promise.reject()).catch(()=>Promise.reject({message:`Cannot convert ${e} to Blob. Resource might not exist or is inaccessible.`,uriType:"blob"})),GR=e=>{const t=/([a-z0-9+\/=\s]+)/i.exec(e);return t?t[1]:""},YR=e=>{try{return decodeURIComponent(e)}catch{return e}},yd=e=>{const[t,...n]=e.split(","),s=n.join(","),o=/data:([^/]+\/[^;]+)(;.+)?/.exec(t);if(o){const r=o[2]===";base64",a=YR(s),l=r?GR(a):a;return m.some({type:o[1],data:l,base64Encoded:r})}else return m.none()},Wv=(e,t,n=!0)=>{let s=t;if(n)try{s=atob(t)}catch{return m.none()}const o=new Uint8Array(s.length);for(let r=0;r<o.length;r++)o[r]=s.charCodeAt(r);return m.some(new Blob([o],{type:e}))},XR=e=>new Promise((t,n)=>{yd(e).bind(({type:s,data:o,base64Encoded:r})=>Wv(s,o,r)).fold(()=>n("Invalid data URI"),t)}),QR=e=>Ge(e,"blob:")?KR(e):Ge(e,"data:")?XR(e):Promise.reject("Unknown URI format"),jv=e=>new Promise((t,n)=>{const s=new FileReader;s.onloadend=()=>{t(s.result)},s.onerror=()=>{var o;n((o=s.error)===null||o===void 0?void 0:o.message)},s.readAsDataURL(e)});let JR=0;const eP=e=>"blobid"+JR++,qv=(e,t,n)=>yd(e).bind(({data:s,type:o,base64Encoded:r})=>{if(t&&!r)return m.none();{const a=r?s:btoa(s);return n(a,o)}}),Kv=(e,t,n)=>{const s=e.create(eP(),t,n);return e.add(s),s},Gv=(e,t,n=!1)=>qv(t,n,(s,o)=>m.from(e.getByData(s,o)).orThunk(()=>Wv(o,s).map(r=>Kv(e,r,s)))),tP=(e,t)=>{const n=()=>Promise.reject("Invalid data URI");if(Ge(t,"blob:")){const s=e.getByUri(t);return $(s)?Promise.resolve(s):QR(t).then(o=>jv(o).then(r=>qv(r,!1,a=>m.some(Kv(e,o,a))).getOrThunk(n)))}else return Ge(t,"data:")?Gv(e,t).fold(n,s=>Promise.resolve(s)):Promise.reject("Unknown image data format")},nP=/^(?:(?:(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)([A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*))(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+)?)?)$/,sP=e=>m.from(e.match(nP)).bind(t=>Tr(t,1)).map(t=>Ge(t,"www.")?t.substring(4):t),Yv=(e,t)=>{m.from(e.attr("src")).bind(sP).forall(n=>!Ee(t,n))&&e.attr("sandbox","")},Ed=(e,t)=>Ge(e,`${t}/`),oP=e=>st(e)?"iframe":Ed(e,"image")?"img":Ed(e,"video")?"video":Ed(e,"audio")?"audio":"iframe",rP=({type:e,src:t,width:n,height:s}={},o,r)=>{const a=oP(e),l=new yt(a,1);return l.attr(a==="audio"?{src:t}:{src:t,width:n,height:s}),(a==="audio"||a==="video")&&l.attr("controls",""),a==="iframe"&&o&&Yv(l,r),l},aP=e=>$(e.attr("data-mce-bogus")),lP=e=>e.attr("src")===ve.transparentSrc||$(e.attr("data-mce-placeholder")),iP=(e,t)=>{const{blob_cache:n}=t;if(n){const s=o=>{const r=o.attr("src");lP(o)||aP(o)||ze(r)||Gv(n,r,!0).each(a=>{o.attr("src",a.blobUri())})};e.addAttributeFilter("src",o=>R(o,s))}},cP=(e,t)=>{var n,s;const o=e.schema;e.addAttributeFilter("href",i=>{let c=i.length;const u=f=>f.split(" ").filter(p=>p.length>0).concat(["noopener"]).sort().join(" "),d=f=>{const h=f?L.trim(f):"";return/\b(noopener)\b/g.test(h)?h:u(h)};if(!t.allow_unsafe_link_target)for(;c--;){const f=i[c];f.name==="a"&&f.attr("target")==="_blank"&&f.attr("rel",d(f.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",i=>{let c=i.length,u,d,f,h;for(;c--;)if(h=i[c],h.name==="a"&&h.firstChild&&!h.attr("href"))for(f=h.parent,u=h.lastChild;u&&f;)d=u.prev,f.insert(u,h),u=d}),t.fix_list_elements&&e.addNodeFilter("ul,ol",i=>{let c=i.length,u,d;for(;c--;)if(u=i[c],d=u.parent,d&&(d.name==="ul"||d.name==="ol"))if(u.prev&&u.prev.name==="li")u.prev.append(u);else{const f=new yt("li",1);f.attr("style","list-style-type: none"),u.wrap(f)}});const r=o.getValidClasses();t.validate&&r&&e.addAttributeFilter("class",i=>{var c;let u=i.length;for(;u--;){const d=i[u],f=(c=d.attr("class"))!==null&&c!==void 0?c:"",h=L.explode(f," ");let p="";for(let g=0;g<h.length;g++){const v=h[g];let C=!1,y=r["*"];y&&y[v]&&(C=!0),y=r[d.name],!C&&y&&y[v]&&(C=!0),C&&(p&&(p+=" "),p+=v)}p.length||(p=null),d.attr("class",p)}}),iP(e,t);const a=(n=t.sandbox_iframes)!==null&&n!==void 0?n:!1,l=km((s=t.sandbox_iframes_exclusions)!==null&&s!==void 0?s:[]);t.convert_unsafe_embeds&&e.addNodeFilter("object,embed",i=>R(i,c=>{c.replace(rP({type:c.attr("type"),src:c.name==="object"?c.attr("data"):c.attr("src"),width:c.attr("width"),height:c.attr("height")},a,l))})),a&&e.addNodeFilter("iframe",i=>R(i,c=>Yv(c,l)))};/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */const{entries:Xv,setPrototypeOf:Qv,isFrozen:uP,getPrototypeOf:dP,getOwnPropertyDescriptor:fP}=Object;let{freeze:Lt,seal:un,create:Jv}=Object,{apply:wd,construct:Sd}=typeof Reflect<"u"&&Reflect;Lt||(Lt=function(t){return t}),un||(un=function(t){return t}),wd||(wd=function(t,n,s){return t.apply(n,s)}),Sd||(Sd=function(t,n){return new t(...n)});const xi=It(Array.prototype.forEach),mP=It(Array.prototype.lastIndexOf),e4=It(Array.prototype.pop),Ba=It(Array.prototype.push),hP=It(Array.prototype.splice),_i=It(String.prototype.toLowerCase),kd=It(String.prototype.toString),t4=It(String.prototype.match),La=It(String.prototype.replace),gP=It(String.prototype.indexOf),pP=It(String.prototype.trim),kn=It(Object.prototype.hasOwnProperty),Ht=It(RegExp.prototype.test),Ha=vP(TypeError);function It(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];return wd(e,t,s)}}function vP(e){return function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return Sd(e,n)}}function Se(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_i;Qv&&Qv(e,null);let s=t.length;for(;s--;){let o=t[s];if(typeof o=="string"){const r=n(o);r!==o&&(uP(t)||(t[s]=r),o=r)}e[o]=!0}return e}function bP(e){for(let t=0;t<e.length;t++)kn(e,t)||(e[t]=null);return e}function ho(e){const t=Jv(null);for(const[n,s]of Xv(e))kn(e,n)&&(Array.isArray(s)?t[n]=bP(s):s&&typeof s=="object"&&s.constructor===Object?t[n]=ho(s):t[n]=s);return t}function Ia(e,t){for(;e!==null;){const s=fP(e,t);if(s){if(s.get)return It(s.get);if(typeof s.value=="function")return It(s.value)}e=dP(e)}function n(){return null}return n}const n4=Lt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),xd=Lt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),_d=Lt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),CP=Lt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Ad=Lt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),yP=Lt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),s4=Lt(["#text"]),o4=Lt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Nd=Lt(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),r4=Lt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ai=Lt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),EP=un(/\{\{[\w\W]*|[\w\W]*\}\}/gm),wP=un(/<%[\w\W]*|[\w\W]*%>/gm),SP=un(/\$\{[\w\W]*/gm),kP=un(/^data-[\-\w.\u00B7-\uFFFF]+$/),xP=un(/^aria-[\-\w]+$/),a4=un(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),_P=un(/^(?:\w+script|data):/i),AP=un(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),l4=un(/^html$/i),NP=un(/^[a-z][.\w]*(-[.\w]+)+$/i);var i4=Object.freeze({__proto__:null,ARIA_ATTR:xP,ATTR_WHITESPACE:AP,CUSTOM_ELEMENT:NP,DATA_ATTR:kP,DOCTYPE_NAME:l4,ERB_EXPR:wP,IS_ALLOWED_URI:a4,IS_SCRIPT_OR_DATA:_P,MUSTACHE_EXPR:EP,TMPLIT_EXPR:SP});const $a={element:1,text:3,progressingInstruction:7,comment:8,document:9},TP=function(){return typeof window>"u"?null:window},RP=function(t,n){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let s=null;const o="data-tt-policy-suffix";n&&n.hasAttribute(o)&&(s=n.getAttribute(o));const r="dompurify"+(s?"#"+s:"");try{return t.createPolicy(r,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+r+" could not be created."),null}},c4=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function u4(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:TP();const t=ue=>u4(ue);if(t.version="3.2.4",t.removed=[],!e||!e.document||e.document.nodeType!==$a.document||!e.Element)return t.isSupported=!1,t;let{document:n}=e;const s=n,o=s.currentScript,{DocumentFragment:r,HTMLTemplateElement:a,Node:l,Element:i,NodeFilter:c,NamedNodeMap:u=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:d,DOMParser:f,trustedTypes:h}=e,p=i.prototype,g=Ia(p,"cloneNode"),v=Ia(p,"remove"),C=Ia(p,"nextSibling"),y=Ia(p,"childNodes"),E=Ia(p,"parentNode");if(typeof a=="function"){const ue=n.createElement("template");ue.content&&ue.content.ownerDocument&&(n=ue.content.ownerDocument)}let S,T="";const{implementation:D,createNodeIterator:V,createDocumentFragment:N,getElementsByTagName:_}=n,{importNode:P}=s;let F=c4();t.isSupported=typeof Xv=="function"&&typeof E=="function"&&D&&D.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:G,ERB_EXPR:re,TMPLIT_EXPR:le,DATA_ATTR:he,ARIA_ATTR:be,IS_SCRIPT_OR_DATA:He,ATTR_WHITESPACE:We,CUSTOM_ELEMENT:je}=i4;let{IS_ALLOWED_URI:I}=i4,Y=null;const me=Se({},[...n4,...xd,..._d,...Ad,...s4]);let z=null;const M=Se({},[...o4,...Nd,...r4,...Ai]);let Z=Object.seal(Jv(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),te=null,ye=null,ce=!0,tt=!0,on=!1,Kn=!0,wt=!1,fn=!0,Wt=!1,gt=!1,St=!1,rn=!1,Bs=!1,Q=!1,de=!0,Oe=!1;const Ze="user-content-";let qe=!0,Ie=!1,Te={},Re=null;const kt=Se({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let mn=null;const Gn=Se({},["audio","video","img","source","image","track"]);let _n=null;const Cr=Se({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),yr="http://www.w3.org/1998/Math/MathML",So="http://www.w3.org/2000/svg",hn="http://www.w3.org/1999/xhtml";let Ls=hn,rl=!1,Er=null;const H5=Se({},[yr,So,hn],kd);let al=Se({},["mi","mo","mn","ms","mtext"]),ll=Se({},["annotation-xml"]);const I5=Se({},["title","style","font","a","script"]);let wr=null;const Hs=["application/xhtml+xml","text/html"],xc="text/html";let w=null,k=null;const H=n.createElement("form"),B=function(x){return x instanceof RegExp||x instanceof Function},ee=function(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(k&&k===x)){if((!x||typeof x!="object")&&(x={}),x=ho(x),wr=Hs.indexOf(x.PARSER_MEDIA_TYPE)===-1?xc:x.PARSER_MEDIA_TYPE,w=wr==="application/xhtml+xml"?kd:_i,Y=kn(x,"ALLOWED_TAGS")?Se({},x.ALLOWED_TAGS,w):me,z=kn(x,"ALLOWED_ATTR")?Se({},x.ALLOWED_ATTR,w):M,Er=kn(x,"ALLOWED_NAMESPACES")?Se({},x.ALLOWED_NAMESPACES,kd):H5,_n=kn(x,"ADD_URI_SAFE_ATTR")?Se(ho(Cr),x.ADD_URI_SAFE_ATTR,w):Cr,mn=kn(x,"ADD_DATA_URI_TAGS")?Se(ho(Gn),x.ADD_DATA_URI_TAGS,w):Gn,Re=kn(x,"FORBID_CONTENTS")?Se({},x.FORBID_CONTENTS,w):kt,te=kn(x,"FORBID_TAGS")?Se({},x.FORBID_TAGS,w):{},ye=kn(x,"FORBID_ATTR")?Se({},x.FORBID_ATTR,w):{},Te=kn(x,"USE_PROFILES")?x.USE_PROFILES:!1,ce=x.ALLOW_ARIA_ATTR!==!1,tt=x.ALLOW_DATA_ATTR!==!1,on=x.ALLOW_UNKNOWN_PROTOCOLS||!1,Kn=x.ALLOW_SELF_CLOSE_IN_ATTR!==!1,wt=x.SAFE_FOR_TEMPLATES||!1,fn=x.SAFE_FOR_XML!==!1,Wt=x.WHOLE_DOCUMENT||!1,rn=x.RETURN_DOM||!1,Bs=x.RETURN_DOM_FRAGMENT||!1,Q=x.RETURN_TRUSTED_TYPE||!1,St=x.FORCE_BODY||!1,de=x.SANITIZE_DOM!==!1,Oe=x.SANITIZE_NAMED_PROPS||!1,qe=x.KEEP_CONTENT!==!1,Ie=x.IN_PLACE||!1,I=x.ALLOWED_URI_REGEXP||a4,Ls=x.NAMESPACE||hn,al=x.MATHML_TEXT_INTEGRATION_POINTS||al,ll=x.HTML_INTEGRATION_POINTS||ll,Z=x.CUSTOM_ELEMENT_HANDLING||{},x.CUSTOM_ELEMENT_HANDLING&&B(x.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Z.tagNameCheck=x.CUSTOM_ELEMENT_HANDLING.tagNameCheck),x.CUSTOM_ELEMENT_HANDLING&&B(x.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Z.attributeNameCheck=x.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),x.CUSTOM_ELEMENT_HANDLING&&typeof x.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Z.allowCustomizedBuiltInElements=x.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),wt&&(tt=!1),Bs&&(rn=!0),Te&&(Y=Se({},s4),z=[],Te.html===!0&&(Se(Y,n4),Se(z,o4)),Te.svg===!0&&(Se(Y,xd),Se(z,Nd),Se(z,Ai)),Te.svgFilters===!0&&(Se(Y,_d),Se(z,Nd),Se(z,Ai)),Te.mathMl===!0&&(Se(Y,Ad),Se(z,r4),Se(z,Ai))),x.ADD_TAGS&&(Y===me&&(Y=ho(Y)),Se(Y,x.ADD_TAGS,w)),x.ADD_ATTR&&(z===M&&(z=ho(z)),Se(z,x.ADD_ATTR,w)),x.ADD_URI_SAFE_ATTR&&Se(_n,x.ADD_URI_SAFE_ATTR,w),x.FORBID_CONTENTS&&(Re===kt&&(Re=ho(Re)),Se(Re,x.FORBID_CONTENTS,w)),qe&&(Y["#text"]=!0),Wt&&Se(Y,["html","head","body"]),Y.table&&(Se(Y,["tbody"]),delete te.tbody),x.TRUSTED_TYPES_POLICY){if(typeof x.TRUSTED_TYPES_POLICY.createHTML!="function")throw Ha('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof x.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Ha('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');S=x.TRUSTED_TYPES_POLICY,T=S.createHTML("")}else S===void 0&&(S=RP(h,o)),S!==null&&typeof T=="string"&&(T=S.createHTML(""));Lt&&Lt(x),k=x}},fe=Se({},[...xd,..._d,...CP]),Be=Se({},[...Ad,...yP]),An=function(x){let X=E(x);(!X||!X.tagName)&&(X={namespaceURI:Ls,tagName:"template"});const ae=_i(x.tagName),Fe=_i(X.tagName);return Er[x.namespaceURI]?x.namespaceURI===So?X.namespaceURI===hn?ae==="svg":X.namespaceURI===yr?ae==="svg"&&(Fe==="annotation-xml"||al[Fe]):!!fe[ae]:x.namespaceURI===yr?X.namespaceURI===hn?ae==="math":X.namespaceURI===So?ae==="math"&&ll[Fe]:!!Be[ae]:x.namespaceURI===hn?X.namespaceURI===So&&!ll[Fe]||X.namespaceURI===yr&&!al[Fe]?!1:!Be[ae]&&(I5[ae]||!fe[ae]):!!(wr==="application/xhtml+xml"&&Er[x.namespaceURI]):!1},gn=function(x){Ba(t.removed,{element:x});try{E(x).removeChild(x)}catch{v(x)}},il=function(x,X){try{Ba(t.removed,{attribute:X.getAttributeNode(x),from:X})}catch{Ba(t.removed,{attribute:null,from:X})}if(X.removeAttribute(x),x==="is")if(rn||Bs)try{gn(X)}catch{}else try{X.setAttribute(x,"")}catch{}},$5=function(x){let X=null,ae=null;if(St)x="<remove></remove>"+x;else{const pt=t4(x,/^[\r\n\t ]+/);ae=pt&&pt[0]}wr==="application/xhtml+xml"&&Ls===hn&&(x='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+x+"</body></html>");const Fe=S?S.createHTML(x):x;if(Ls===hn)try{X=new f().parseFromString(Fe,wr)}catch{}if(!X||!X.documentElement){X=D.createDocument(Ls,"template",null);try{X.documentElement.innerHTML=rl?T:Fe}catch{}}const Pt=X.body||X.documentElement;return x&&ae&&Pt.insertBefore(n.createTextNode(ae),Pt.childNodes[0]||null),Ls===hn?_.call(X,Wt?"html":"body")[0]:Wt?X.documentElement:Pt},Z5=function(x){return V.call(x.ownerDocument||x,x,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},fm=function(x){return x instanceof d&&(typeof x.nodeName!="string"||typeof x.textContent!="string"||typeof x.removeChild!="function"||!(x.attributes instanceof u)||typeof x.removeAttribute!="function"||typeof x.setAttribute!="function"||typeof x.namespaceURI!="string"||typeof x.insertBefore!="function"||typeof x.hasChildNodes!="function")},F5=function(x){return typeof l=="function"&&x instanceof l};function fs(ue,x,X){xi(ue,ae=>{ae.call(t,x,X,k)})}const z5=function(x){let X=null;if(fs(F.beforeSanitizeElements,x,null),fm(x))return gn(x),!0;const ae=w(x.nodeName);if(fs(F.uponSanitizeElement,x,{tagName:ae,allowedTags:Y}),x.hasChildNodes()&&!F5(x.firstElementChild)&&Ht(/<[/\w]/g,x.innerHTML)&&Ht(/<[/\w]/g,x.textContent)||x.nodeType===$a.progressingInstruction||fn&&x.nodeType===$a.comment&&Ht(/<[/\w]/g,x.data))return gn(x),!0;if(!Y[ae]||te[ae]){if(!te[ae]&&U5(ae)&&(Z.tagNameCheck instanceof RegExp&&Ht(Z.tagNameCheck,ae)||Z.tagNameCheck instanceof Function&&Z.tagNameCheck(ae)))return!1;if(qe&&!Re[ae]){const Fe=E(x)||x.parentNode,Pt=y(x)||x.childNodes;if(Pt&&Fe){const pt=Pt.length;for(let jt=pt-1;jt>=0;--jt){const Yn=g(Pt[jt],!0);Yn.__removalCount=(x.__removalCount||0)+1,Fe.insertBefore(Yn,C(x))}}}return gn(x),!0}return x instanceof i&&!An(x)||(ae==="noscript"||ae==="noembed"||ae==="noframes")&&Ht(/<\/no(script|embed|frames)/i,x.innerHTML)?(gn(x),!0):(wt&&x.nodeType===$a.text&&(X=x.textContent,xi([G,re,le],Fe=>{X=La(X,Fe," ")}),x.textContent!==X&&(Ba(t.removed,{element:x.cloneNode()}),x.textContent=X)),fs(F.afterSanitizeElements,x,null),!1)},V5=function(x,X,ae){if(de&&(X==="id"||X==="name")&&(ae in n||ae in H))return!1;if(!(tt&&!ye[X]&&Ht(he,X))){if(!(ce&&Ht(be,X))){if(!z[X]||ye[X]){if(!(U5(x)&&(Z.tagNameCheck instanceof RegExp&&Ht(Z.tagNameCheck,x)||Z.tagNameCheck instanceof Function&&Z.tagNameCheck(x))&&(Z.attributeNameCheck instanceof RegExp&&Ht(Z.attributeNameCheck,X)||Z.attributeNameCheck instanceof Function&&Z.attributeNameCheck(X))||X==="is"&&Z.allowCustomizedBuiltInElements&&(Z.tagNameCheck instanceof RegExp&&Ht(Z.tagNameCheck,ae)||Z.tagNameCheck instanceof Function&&Z.tagNameCheck(ae))))return!1}else if(!_n[X]){if(!Ht(I,La(ae,We,""))){if(!((X==="src"||X==="xlink:href"||X==="href")&&x!=="script"&&gP(ae,"data:")===0&&mn[x])){if(!(on&&!Ht(He,La(ae,We,"")))){if(ae)return!1}}}}}}return!0},U5=function(x){return x!=="annotation-xml"&&t4(x,je)},W5=function(x){fs(F.beforeSanitizeAttributes,x,null);const{attributes:X}=x;if(!X||fm(x))return;const ae={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:z,forceKeepAttr:void 0};let Fe=X.length;for(;Fe--;){const Pt=X[Fe],{name:pt,namespaceURI:jt,value:Yn}=Pt,cl=w(pt);let xt=pt==="value"?Yn:pP(Yn);const rj=xt;if(ae.attrName=cl,ae.attrValue=xt,ae.keepAttr=!0,ae.forceKeepAttr=void 0,fs(F.uponSanitizeAttribute,x,ae),xt=ae.attrValue,Oe&&(cl==="id"||cl==="name")&&(il(pt,x),xt=Ze+xt),fn&&Ht(/((--!?|])>)|<\/(style|title)/i,xt)){il(pt,x);continue}if(ae.forceKeepAttr)continue;if(!ae.keepAttr){il(pt,x);continue}if(!Kn&&Ht(/\/>/i,xt)){il(pt,x);continue}wt&&xi([G,re,le],q5=>{xt=La(xt,q5," ")});const j5=w(x.nodeName);if(!V5(j5,cl,xt)){il(pt,x);continue}if(S&&typeof h=="object"&&typeof h.getAttributeType=="function"&&!jt)switch(h.getAttributeType(j5,cl)){case"TrustedHTML":{xt=S.createHTML(xt);break}case"TrustedScriptURL":{xt=S.createScriptURL(xt);break}}if(xt!==rj)try{jt?x.setAttributeNS(jt,pt,xt):x.setAttribute(pt,xt),fm(x)?gn(x):e4(t.removed)}catch{}}fs(F.afterSanitizeAttributes,x,null)},oj=function ue(x){let X=null;const ae=Z5(x);for(fs(F.beforeSanitizeShadowDOM,x,null);X=ae.nextNode();)fs(F.uponSanitizeShadowNode,X,null),z5(X),W5(X),X.content instanceof r&&ue(X.content);fs(F.afterSanitizeShadowDOM,x,null)};return t.sanitize=function(ue){let x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=null,ae=null,Fe=null,Pt=null;if(rl=!ue,rl&&(ue="<!-->"),typeof ue!="string"&&!F5(ue))if(typeof ue.toString=="function"){if(ue=ue.toString(),typeof ue!="string")throw Ha("dirty is not a string, aborting")}else throw Ha("toString is not a function");if(!t.isSupported)return ue;if(gt||ee(x),t.removed=[],typeof ue=="string"&&(Ie=!1),Ie){if(ue.nodeName){const Yn=w(ue.nodeName);if(!Y[Yn]||te[Yn])throw Ha("root node is forbidden and cannot be sanitized in-place")}}else if(ue instanceof l)X=$5("<!---->"),ae=X.ownerDocument.importNode(ue,!0),ae.nodeType===$a.element&&ae.nodeName==="BODY"||ae.nodeName==="HTML"?X=ae:X.appendChild(ae);else{if(!rn&&!wt&&!Wt&&ue.indexOf("<")===-1)return S&&Q?S.createHTML(ue):ue;if(X=$5(ue),!X)return rn?null:Q?T:""}X&&St&&gn(X.firstChild);const pt=Z5(Ie?ue:X);for(;Fe=pt.nextNode();)z5(Fe),W5(Fe),Fe.content instanceof r&&oj(Fe.content);if(Ie)return ue;if(rn){if(Bs)for(Pt=N.call(X.ownerDocument);X.firstChild;)Pt.appendChild(X.firstChild);else Pt=X;return(z.shadowroot||z.shadowrootmode)&&(Pt=P.call(s,Pt,!0)),Pt}let jt=Wt?X.outerHTML:X.innerHTML;return Wt&&Y["!doctype"]&&X.ownerDocument&&X.ownerDocument.doctype&&X.ownerDocument.doctype.name&&Ht(l4,X.ownerDocument.doctype.name)&&(jt="<!DOCTYPE "+X.ownerDocument.doctype.name+`>
`+jt),wt&&xi([G,re,le],Yn=>{jt=La(jt,Yn," ")}),S&&Q?S.createHTML(jt):jt},t.setConfig=function(){let ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};ee(ue),gt=!0},t.clearConfig=function(){k=null,gt=!1},t.isValidAttribute=function(ue,x,X){k||ee({});const ae=w(ue),Fe=w(x);return V5(ae,Fe,X)},t.addHook=function(ue,x){typeof x=="function"&&Ba(F[ue],x)},t.removeHook=function(ue,x){if(x!==void 0){const X=mP(F[ue],x);return X===-1?void 0:hP(F[ue],X,1)[0]}return e4(F[ue])},t.removeHooks=function(ue){F[ue]=[]},t.removeAllHooks=function(){F=c4()},t}var Td=u4();const d4=L.each,PP=L.trim,MP=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],DP={ftp:21,http:80,https:443,mailto:25},OP=["img","video"],BP=(e,t)=>$(e)?!e:$(t)?!Ee(OP,t):!0,LP=e=>{try{return decodeURIComponent(e)}catch{return unescape(e)}},f4=(e,t,n)=>{const s=LP(t).replace(/\s/g,"");return e.allow_script_urls?!1:/((java|vb)script|mhtml):/i.test(s)?!0:e.allow_html_data_urls?!1:/^data:image\//i.test(s)?BP(e.allow_svg_data_urls,n)&&/^data:image\/svg\+xml/i.test(s):/^data:/i.test(s)};class dn{static parseDataUri(t){let n;const s=decodeURIComponent(t).split(","),o=/data:([^;]+)/.exec(s[0]);return o&&(n=o[1]),{type:n,data:s[1]}}static isDomSafe(t,n,s={}){if(s.allow_script_urls)return!0;{const o=Ks.decode(t).replace(/[\s\u0000-\u001F]+/g,"");return!f4(s,o,n)}}static getDocumentBaseUrl(t){var n;let s;return t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?s=(n=t.href)!==null&&n!==void 0?n:"":s=t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/")),s}constructor(t,n={}){this.path="",this.directory="",t=PP(t),this.settings=n;const s=n.base_uri,o=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)){o.source=t;return}const r=t.indexOf("//")===0;if(t.indexOf("/")===0&&!r&&(t=(s&&s.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){const l=s?s.path:new dn(document.location.href).directory;if(s?.protocol==="")t="//mce_host"+o.toAbsPath(l,t);else{const i=/([^#?]*)([#?]?.*)/.exec(t);i&&(t=(s&&s.protocol||"http")+"://mce_host"+o.toAbsPath(l,i[1])+i[2])}}t=t.replace(/@@/g,"(mce_at)");const a=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);a&&d4(MP,(l,i)=>{let c=a[i];c&&(c=c.replace(/\(mce_at\)/g,"@@")),o[l]=c}),s&&(o.protocol||(o.protocol=s.protocol),o.userInfo||(o.userInfo=s.userInfo),!o.port&&o.host==="mce_host"&&(o.port=s.port),(!o.host||o.host==="mce_host")&&(o.host=s.host),o.source=""),r&&(o.protocol="")}setPath(t){const n=/^(.*?)\/?(\w+)?$/.exec(t);n&&(this.path=n[0],this.directory=n[1],this.file=n[2]),this.source="",this.getURI()}toRelative(t){if(t==="./")return t;const n=new dn(t,{base_uri:this});if(n.host!=="mce_host"&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&n.protocol!=="")return n.getURI();const s=this.getURI(),o=n.getURI();if(s===o||s.charAt(s.length-1)==="/"&&s.substr(0,s.length-1)===o)return s;let r=this.toRelPath(this.path,n.path);return n.query&&(r+="?"+n.query),n.anchor&&(r+="#"+n.anchor),r}toAbsolute(t,n){const s=new dn(t,{base_uri:this});return s.getURI(n&&this.isSameOrigin(s))}isSameOrigin(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;const n=this.protocol?DP[this.protocol]:null;if(n&&(this.port||n)==(t.port||n))return!0}return!1}toRelPath(t,n){let s=0,o="",r,a;const l=t.substring(0,t.lastIndexOf("/")).split("/"),i=n.split("/");if(l.length>=i.length){for(r=0,a=l.length;r<a;r++)if(r>=i.length||l[r]!==i[r]){s=r+1;break}}if(l.length<i.length){for(r=0,a=i.length;r<a;r++)if(r>=l.length||l[r]!==i[r]){s=r+1;break}}if(s===1)return n;for(r=0,a=l.length-(s-1);r<a;r++)o+="../";for(r=s-1,a=i.length;r<a;r++)r!==s-1?o+="/"+i[r]:o+=i[r];return o}toAbsPath(t,n){let s=0;const o=/\/$/.test(n)?"/":"",r=t.split("/"),a=n.split("/"),l=[];d4(r,d=>{d&&l.push(d)});const i=[];for(let d=a.length-1;d>=0;d--)if(!(a[d].length===0||a[d]===".")){if(a[d]===".."){s++;continue}if(s>0){s--;continue}i.push(a[d])}const c=l.length-s;let u;return c<=0?u=Nr(i).join("/"):u=l.slice(0,c).join("/")+"/"+Nr(i).join("/"),u.indexOf("/")!==0&&(u="/"+u),o&&u.lastIndexOf("/")!==u.length-1&&(u+=o),u}getURI(t=!1){let n;return(!this.source||t)&&(n="",t||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source}}const HP=L.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Rd="data-mce-type";let m4=0;const h4=(e,t,n,s,o)=>{var r,a,l,i;const c=t.validate,u=n.getSpecialElements();e.nodeType===bl&&!t.allow_conditional_comments&&/^\[if/i.test((r=e.nodeValue)!==null&&r!==void 0?r:"")&&(e.nodeValue=" "+e.nodeValue);const d=(a=o?.tagName)!==null&&a!==void 0?a:e.nodeName.toLowerCase();if(s!=="html"&&n.isValid(s)){$(o)&&(o.allowedTags[d]=!0);return}if(e.nodeType!==Br||d==="body")return;const f=b.fromDom(e),h=Ir(f,Rd),p=Ft(f,"data-mce-bogus");if(!h&&J(p)){p==="all"?Ne(f):Cs(f);return}const g=n.getElementRule(d);if(c&&!g){oe(u,d)?Ne(f):Cs(f);return}else $(o)&&(o.allowedTags[d]=!0);if(c&&g&&!h){if(R((l=g.attributesForced)!==null&&l!==void 0?l:[],v=>{ot(f,v.name,v.value==="{$uid}"?`mce_${m4++}`:v.value)}),R((i=g.attributesDefault)!==null&&i!==void 0?i:[],v=>{Ir(f,v.name)||ot(f,v.name,v.value==="{$uid}"?`mce_${m4++}`:v.value)}),g.attributesRequired&&!Le(g.attributesRequired,v=>Ir(f,v))){Cs(f);return}if(g.removeEmptyAttrs&&iE(f)){Cs(f);return}g.outputName&&g.outputName!==d&&_w(f,g.outputName)}},IP=(e,t,n,s,o)=>{const r=e.tagName.toLowerCase(),{attrName:a,attrValue:l}=o;o.keepAttr=g4(t,n,s,r,a,l),o.keepAttr?(o.allowedAttributes[a]=!0,v4(a,n)&&(o.attrValue=a),t.allow_svg_data_urls&&Ge(l,"data:image/svg+xml")&&(o.forceKeepAttr=!0)):p4(e,a)&&(o.forceKeepAttr=!0)},g4=(e,t,n,s,o,r)=>n!=="html"&&!Ws(s)?!0:!(o in HP&&f4(e,r,s))&&(!e.validate||t.isValid(s,o)||Ge(o,"data-")||Ge(o,"aria-")),p4=(e,t)=>e.hasAttribute(Rd)&&(t==="id"||t==="class"||t==="style"),v4=(e,t)=>e in t.getBoolAttrs(),$P=(e,t,n,s)=>{const{attributes:o}=e;for(let r=o.length-1;r>=0;r--){const a=o[r],l=a.name,i=a.value;!g4(t,n,s,e.tagName.toLowerCase(),l,i)&&!p4(e,l)?e.removeAttribute(l):v4(l,n)&&e.setAttribute(l,l)}},ZP=(e,t,n)=>{const s=Td();return s.addHook("uponSanitizeElement",(o,r)=>{h4(o,e,t,n.track(o),r)}),s.addHook("uponSanitizeAttribute",(o,r)=>{IP(o,e,t,n.current(),r)}),s},FP=(e,t)=>{const s={...{IN_PLACE:!0,ALLOW_UNKNOWN_PROTOCOLS:!0,ALLOWED_TAGS:["#comment","#cdata-section","body"],ALLOWED_ATTR:[],SAFE_FOR_XML:!1}};return s.PARSER_MEDIA_TYPE=t,e.allow_script_urls?s.ALLOWED_URI_REGEXP=/.*/:e.allow_html_data_urls&&(s.ALLOWED_URI_REGEXP=/^(?!(\w+script|mhtml):)/i),s},zP=e=>{const t=["type","href","role","arcrole","title","show","actuate","label","from","to"].map(s=>`xlink:${s}`),n={IN_PLACE:!0,USE_PROFILES:{html:!0,svg:!0,svgFilters:!0},ALLOWED_ATTR:t};Td().sanitize(e,n)},VP=(e,t)=>{const n={IN_PLACE:!0,USE_PROFILES:{mathMl:!0}},s=Td(),o=t.allow_mathml_annotation_encodings,r=Me(o)&&o.length>0,a=i=>{const c=i.getAttribute("encoding");return r&&J(c)&&Ee(o,c)},l=(i,c)=>r&&c==="semantics"?m.some(!0):c==="annotation"?m.some(q(i)&&a(i)):Me(t.extended_mathml_elements)&&t.extended_mathml_elements.includes(c)?m.from(!0):m.none();s.addHook("uponSanitizeElement",(i,c)=>{var u;const d=(u=c.tagName)!==null&&u!==void 0?u:i.nodeName.toLowerCase();l(i,d).each(h=>{c.allowedTags[d]=h,!h&&t.sanitize&&q(i)&&i.remove()})}),s.addHook("uponSanitizeAttribute",(i,c)=>{Me(t.extended_mathml_attributes)&&t.extended_mathml_attributes.includes(c.attrName)&&(c.forceKeepAttr=!0)}),s.sanitize(e,n)},UP=e=>t=>{const n=Ah(t);if(n==="svg")zP(t);else if(n==="math")VP(t,e);else throw new Error("Not a namespace element")},WP=(e,t)=>{const n=h8();if(e.sanitize){const s=ZP(e,t,n);return{sanitizeHtmlElement:(r,a)=>{s.sanitize(r,FP(e,a)),s.removed=[],n.reset()},sanitizeNamespaceElement:UP(e)}}else return{sanitizeHtmlElement:(r,a)=>{const l=document.createNodeIterator(r,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT);let i;for(;i=l.nextNode();){const c=n.track(i);h4(i,e,t,c),q(i)&&$P(i,e,t,c)}n.reset()},sanitizeNamespaceElement:ie}},b4=L.makeMap,C4=L.extend,y4=(e,t,n,s)=>{const o=e.name,r=o in n&&o!=="title"&&o!=="textarea"&&o!=="noscript",a=t.childNodes;for(let l=0,i=a.length;l<i;l++){const c=a[l],u=new yt(c.nodeName.toLowerCase(),c.nodeType);if(q(c)){const d=c.attributes;for(let f=0,h=d.length;f<h;f++){const p=d[f];u.attr(p.name,p.value)}Ws(u.name)&&(s(c),u.value=c.innerHTML)}else O(c)?(u.value=c.data,r&&(u.raw=!0)):(ys(c)||JE(c)||e8(c))&&(u.value=c.data);Ws(u.name)||y4(u,c,n,s),e.append(u)}},jP=(e,t,n)=>{const s=[];for(let o=e,r=o;o;r=o,o=o.walk()){const a=o;R(t,l=>l(a)),ze(a.parent)&&a!==e?o=r:s.push(a)}for(let o=s.length-1;o>=0;o--){const r=s[o];R(n,a=>a(r))}},qP=(e,t,n,s)=>{const o=n.validate,r=t.getNonEmptyElements(),a=t.getWhitespaceElements(),l=C4(b4("script,style,head,html,body,title,meta,param"),t.getBlockElements()),i=qh(t),c=/[ \t\r\n]+/g,u=/^[ \t\r\n]+/,d=/[ \t\r\n]+$/,f=y=>{let E=y.parent;for(;$(E);){if(E.name in a)return!0;E=E.parent}return!1},h=y=>{let E=y;for(;$(E);){if(E.name in i)return Pa(t,r,a,E);E=E.parent}return!1},p=y=>y.name in l||hu(t,y)||Ws(y.name)&&y.parent===e,g=(y,E)=>{const S=E?y.prev:y.next;return $(S)||ze(y.parent)?!1:p(y.parent)&&(y.parent!==e||s.isRootContent===!0)};return[y=>{var E;if(y.type===3&&!f(y)){let S=(E=y.value)!==null&&E!==void 0?E:"";S=S.replace(c," "),(uT(y.prev,p)||g(y,!0))&&(S=S.replace(u,"")),S.length===0||S===" "&&y.prev&&y.prev.type===bl&&y.next&&y.next.type===bl?y.remove():y.value=S}},y=>{var E;if(y.type===1){const S=t.getElementRule(y.name);if(o&&S){const T=Pa(t,r,a,y);S.paddInEmptyBlock&&T&&h(y)?ed(n,s,p,y):S.removeEmpty&&T?p(y)?y.remove():y.unwrap():S.paddEmpty&&(T||iT(y))&&ed(n,s,p,y)}}else if(y.type===3&&!f(y)){let S=(E=y.value)!==null&&E!==void 0?E:"";(y.next&&p(y.next)||g(y,!1))&&(S=S.replace(d,"")),S.length===0?y.remove():y.value=S}}]},KP=(e,t)=>{var n;const s=(n=t.forced_root_block)!==null&&n!==void 0?n:e.forced_root_block;return s===!1?"":s===!0?"p":s},sr=(e={},t=Es())=>{const n=Uv(),s=Uv(),o={validate:!0,root_name:"body",sanitize:!0,...e},r=new DOMParser,a=WP(o,t),l=(E,S,T="html")=>{const D=T==="xhtml"?"application/xhtml+xml":"text/html",V=oe(t.getSpecialElements(),S.toLowerCase()),N=V?`<${S}>${E}</${S}>`:E,_=()=>T==="xhtml"?`<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>${N}</body></html>`:/^[\s]*<head/i.test(E)||/^[\s]*<html/i.test(E)||/^[\s]*<!DOCTYPE/i.test(E)?`<html>${N}</html>`:`<body>${N}</body>`,P=r.parseFromString(_(),D).body;return a.sanitizeHtmlElement(P,D),V?P.firstChild:P},i=n.addFilter,c=n.getFilters,u=n.removeFilter,d=s.addFilter,f=s.getFilters,h=s.removeFilter,p=(E,S)=>{sd(t,E)&&S.push(E)},g=(E,S)=>{const T=J(S.attr(Rd)),D=S.type===1&&!oe(E,S.name)&&!hu(t,S)&&!Ws(S.name);return S.type===3||D&&!T},v=(E,S)=>{const T=C4(b4("script,style,head,html,body,title,meta,param"),t.getBlockElements()),D=/^[ \t\r\n]+/,V=/[ \t\r\n]+$/;let N=E.firstChild,_=null;const P=F=>{var G,re;F&&(N=F.firstChild,N&&N.type===3&&(N.value=(G=N.value)===null||G===void 0?void 0:G.replace(D,"")),N=F.lastChild,N&&N.type===3&&(N.value=(re=N.value)===null||re===void 0?void 0:re.replace(V,"")))};if(t.isValidChild(E.name,S.toLowerCase())){for(;N;){const F=N.next;g(T,N)?(_||(_=new yt(S,1),_.attr(o.forced_root_block_attrs),E.insert(_,N)),_.append(N)):(P(_),_=null),N=F}P(_)}},y={schema:t,addAttributeFilter:d,getAttributeFilters:f,removeAttributeFilter:h,addNodeFilter:i,getNodeFilters:c,removeNodeFilter:u,parse:(E,S={})=>{var T;const D=o.validate,V=(T=S.context)!==null&&T!==void 0?T:o.root_name,N=l(E,V,S.format);uu(t,N);const _=new yt(V,11);y4(_,N,t.getSpecialElements(),a.sanitizeNamespaceElement),N.innerHTML="";const[P,F]=qP(_,t,o,S),G=[],re=D?He=>p(He,G):ie,le={nodes:{},attributes:{}},he=He=>X2(c(),f(),He,le);if(jP(_,[P,he],[F,re]),G.reverse(),D&&G.length>0)if(S.context){const{pass:He,fail:We}=ko(G,je=>je.parent===_);nd(We,t,_,he),S.invalid=He.length>0}else nd(G,t,_,he);const be=KP(o,S);return be&&(_.name==="body"||S.isRootContent)&&v(_,be),S.invalid||Q2(le,S),_}};return cP(y,o),qR(y,o,t),y},GP=e=>Ei(e)?Ns({validate:!1}).serialize(e):e,E4=(e,t,n)=>{const s=GP(e),o=t(s);if(o.isDefaultPrevented())return o;if(Ei(e))if(o.content!==s){const r=sr({validate:!1,forced_root_block:!1,...n}).parse(o.content,{context:e.name});return{...o,content:r}}else return{...o,content:e};else return o},w4=e=>({sanitize:bg(e),sandbox_iframes:yg(e),sandbox_iframes_exclusions:Gu(e)}),S4=(e,t)=>{if(t.no_events)return Nt.value(t);{const n=j7(e,t);return n.isDefaultPrevented()?Nt.error(J0(e,{content:"",...n}).content):Nt.value(n)}},k4=(e,t,n)=>n.no_events?t:E4(t,o=>J0(e,{...n,content:o}),w4(e)).content,Pd=(e,t)=>{if(t.no_events)return Nt.value(t);{const n=E4(t.content,s=>W7(e,{...t,content:s}),w4(e));return n.isDefaultPrevented()?(Q0(e,n),Nt.error(void 0)):Nt.value(n)}},Md=(e,t,n)=>{n.no_events||Q0(e,{...n,content:t})},Dd=(e,t,n)=>({element:e,width:t,rows:n}),x4=(e,t)=>({element:e,cells:t}),YP=(e,t)=>({x:e,y:t}),_4=(e,t)=>es(e,t).bind(vl).getOr(1),XP=(e,t,n,s,o)=>{const r=_4(o,"rowspan"),a=_4(o,"colspan"),l=e.rows;for(let i=n;i<n+r;i++){l[i]||(l[i]=x4(f0(s),[]));for(let c=t;c<t+a;c++){const u=l[i].cells;u[c]=i===n&&c===t?o:Xs(o)}}},QP=(e,t,n)=>{const s=e.rows;return!!(s[n]?s[n].cells:[])[t]},JP=(e,t,n)=>{for(;QP(e,t,n);)t++;return t},A4=e=>Mt(e,(t,n)=>n.cells.length>t?n.cells.length:t,0),N4=(e,t)=>{const n=e.rows;for(let s=0;s<n.length;s++){const o=n[s].cells;for(let r=0;r<o.length;r++)if(Ce(o[r],t))return m.some(YP(r,s))}return m.none()},T4=(e,t,n,s,o)=>{const r=[],a=e.rows;for(let l=n;l<=o;l++){const i=a[l].cells,c=t<s?i.slice(t,s+1):i.slice(s,t+1);r.push(x4(a[l].element,c))}return r},eM=(e,t,n)=>{const s=t.x,o=t.y,r=n.x,a=n.y,l=o<a?T4(e,s,o,r,a):T4(e,s,a,r,o);return Dd(e.element,A4(l),l)},tM=(e,t)=>{const n=Xs(e.element),s=b.fromTag("tbody");return zs(s,t),Ve(n,s),n},nM=e=>ge(e.rows,t=>{const n=ge(t.cells,o=>{const r=f0(o);return rt(r,"colspan"),rt(r,"rowspan"),r}),s=Xs(t.element);return zs(s,n),s}),sM=e=>{const t=Dd(Xs(e),0,[]);return R(dt(e,"tr"),(n,s)=>{R(dt(n,"td,th"),(o,r)=>{XP(t,JP(t,r,s),s,n,o)})}),Dd(t.element,A4(t.rows),t.rows)},oM=e=>tM(e,nM(e)),rM=(e,t,n)=>N4(e,t).bind(s=>N4(e,n).map(o=>eM(e,s,o))),aM=e=>Ke(e,t=>pe(t)==="ul"||pe(t)==="ol"),lM=(e,t)=>Ke(e,n=>pe(n)==="li"&&l1(n,t)).fold(j([]),n=>aM(e).map(s=>{const o=b.fromTag(pe(s)),r=Pr(Yc(s),(a,l)=>Ge(l,"list-style"));return wl(o,r),[b.fromTag("li"),o]}).getOr([])),iM=(e,t)=>{const n=Mt(t,(s,o)=>(Ve(o,s),o),e);return t.length>0?N1([n]):n},cM=e=>Zo(e)?On(e).filter(Ru).fold(j([]),t=>[e,t]):Ru(e)?[e]:[],uM=(e,t,n)=>{const s=b.fromDom(t.commonAncestorContainer),o=ls(s,e),r=se(o,i=>n.isWrapper(pe(i))),a=lM(o,t),l=r.concat(a.length?a:cM(s));return ge(l,Xs)},R4=()=>N1([]),dM=(e,t,n)=>iM(b.fromDom(t.cloneContents()),uM(e,t,n)),fM=(e,t)=>Wr(t,"table",K(Ce,e)),mM=(e,t)=>fM(e,t[0]).bind(n=>{const s=t[0],o=t[t.length-1],r=sM(n);return rM(r,s,o).map(a=>N1([oM(a)]))}).getOrThunk(R4),hM=(e,t,n)=>t.length>0&&t[0].collapsed?R4():dM(e,t[0],n),gM=(e,t,n)=>{const s=Kg(t,e);return s.length>0?mM(e,s):hM(e,t,n)},Ni=(e,t)=>t>=0&&t<e.length&&ro(e.charAt(t)),P4=e=>zt(e.innerText),pM=e=>e.map(t=>t.nodeName).getOr("div").toLowerCase(),vM=e=>m.from(e.selection.getRng()).map(t=>{var n;const s=m.from(e.dom.getParent(t.commonAncestorContainer,e.dom.isBlock)),o=e.getBody(),r=pM(s),a=b.fromDom(t.cloneContents());Jp(a),e2(a);const l=e.dom.add(o,r,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},a.dom),i=P4(l),c=zt((n=l.textContent)!==null&&n!==void 0?n:"");if(e.dom.remove(l),Ni(c,0)||Ni(c,c.length-1)){const u=s.getOr(o),d=P4(u),f=d.indexOf(i);if(f===-1)return i;{const h=Ni(d,f-1),p=Ni(d,f+i.length);return(h?" ":"")+i+(p?" ":"")}}else return i}).getOr(""),bM=(e,t)=>{const n=e.selection.getRng(),s=e.dom.create("body"),o=e.selection.getSel(),r=D1(e,r1(o)),a=t.contextual?gM(b.fromDom(e.getBody()),r,e.schema).dom:n.cloneContents();return a&&s.appendChild(a),e.selection.serializer.serialize(s,t)},CM=(e,t)=>{if(t.format==="text")return vM(e);{const n=bM(e,t);return t.format==="tree"?n:e.selection.isCollapsed()?"":n}},yM=(e,t)=>({...e,format:t,get:!0,selection:!0,getInner:!0}),EM=(e,t,n={})=>{const s=yM(n,t);return S4(e,s).fold(bt,o=>{const r=CM(e,o);return k4(e,r,o)})},Od=0,M4=1,D4=2,wM=(e,t)=>{const n=e.length+t.length+2,s=new Array(n),o=new Array(n),r=(u,d,f)=>({start:u,end:d,diag:f}),a=(u,d,f,h,p)=>{const g=i(u,d,f,h);if(g===null||g.start===d&&g.diag===d-h||g.end===u&&g.diag===u-f){let v=u,C=f;for(;v<d||C<h;)v<d&&C<h&&e[v]===t[C]?(p.push([Od,e[v]]),++v,++C):d-u>h-f?(p.push([D4,e[v]]),++v):(p.push([M4,t[C]]),++C)}else{a(u,g.start,f,g.start-g.diag,p);for(let v=g.start;v<g.end;++v)p.push([Od,e[v]]);a(g.end,d,g.end-g.diag,h,p)}},l=(u,d,f,h)=>{let p=u;for(;p-d<h&&p<f&&e[p]===t[p-d];)++p;return r(u,p,d)},i=(u,d,f,h)=>{const p=d-u,g=h-f;if(p===0||g===0)return null;const v=p-g,C=g+p,y=(C%2===0?C:C+1)/2;s[1+y]=u,o[1+y]=d+1;let E,S,T,D,V;for(E=0;E<=y;++E){for(S=-E;S<=E;S+=2){for(T=S+y,S===-E||S!==E&&s[T-1]<s[T+1]?s[T]=s[T+1]:s[T]=s[T-1]+1,D=s[T],V=D-u+f-S;D<d&&V<h&&e[D]===t[V];)s[T]=++D,++V;if(v%2!==0&&v-E<=S&&S<=v+E&&o[T-v]<=s[T])return l(o[T-v],S+u-f,d,h)}for(S=v-E;S<=v+E;S+=2){for(T=S+y-v,S===v-E||S!==v+E&&o[T+1]<=o[T-1]?o[T]=o[T+1]-1:o[T]=o[T-1],D=o[T]-1,V=D-u+f-S;D>=u&&V>=f&&e[D]===t[V];)o[T]=D--,V--;if(v%2===0&&-E<=S&&S<=E&&o[T]<=s[T+v])return l(o[T],S+u-f,d,h)}}return null},c=[];return a(0,e.length,0,t.length,c),c},O4=e=>q(e)?e.outerHTML:O(e)?Ks.encodeRaw(e.data,!1):ys(e)?"<!--"+e.data+"-->":"",SM=e=>{let t;const n=document.createElement("div"),s=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)s.appendChild(t);return s},kM=(e,t,n)=>{const s=SM(t);if(e.hasChildNodes()&&n<e.childNodes.length){const o=e.childNodes[n];e.insertBefore(s,o)}else e.appendChild(s)},xM=(e,t)=>{if(e.hasChildNodes()&&t<e.childNodes.length){const n=e.childNodes[t];e.removeChild(n)}},_M=(e,t)=>{let n=0;R(e,s=>{s[0]===Od?n++:s[0]===M4?(kM(t,s[1],n),n++):s[0]===D4&&xM(t,n)})},AM=(e,t)=>se(ge($t(e.childNodes),pn(zt,O4)),n=>n.length>0),NM=(e,t)=>{const n=ge($t(t.childNodes),O4);return _M(wM(n,e),t),t},TM=Tn(()=>document.implementation.createHTMLDocument("undo")),RM=e=>e.querySelector("iframe")!==null,PM=e=>({type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}),MM=e=>({type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}),Ti=e=>{const t=e.serializer.getTempAttrs(),n=Qp(e.getBody(),t);return RM(n)?PM(AM(n)):MM(zt(n.innerHTML))},Bd=(e,t,n)=>{const s=n?t.beforeBookmark:t.bookmark;t.type==="fragmented"?NM(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw",no_selection:$(s)&&Vg(s)?!s.isFakeCaret:!0}),s&&(e.selection.moveToBookmark(s),e.selection.scrollIntoView())},Ld=e=>e.type==="fragmented"?e.fragments.join(""):e.content,B4=e=>{const t=b.fromTag("body",TM());return kl(t,Ld(e)),R(dt(t,"*[data-mce-bogus]"),Cs),fh(t)},DM=(e,t)=>Ld(e)===Ld(t),OM=(e,t)=>B4(e)===B4(t),Hd=(e,t)=>!e||!t?!1:DM(e,t)?!0:OM(e,t),Id=e=>e.get()===0,Ri=(e,t,n)=>{Id(n)&&(e.typing=t)},L4=(e,t)=>{e.typing&&(Ri(e,!1,t),e.add())},BM=e=>{e.typing&&(e.typing=!1,e.add())},LM=(e,t,n)=>{Id(t)&&n.set(zu(e.selection))},HM=(e,t,n,s,o,r,a)=>{const l=Ti(e),i=L.extend(r||{},l);if(!Id(s)||e.removed)return null;const c=t.data[n.get()];if(e.dispatch("BeforeAddUndo",{level:i,lastLevel:c,originalEvent:a}).isDefaultPrevented()||c&&Hd(c,i))return null;t.data[n.get()]&&o.get().each(f=>{t.data[n.get()].beforeBookmark=f});const u=FS(e);if(u&&t.data.length>u){for(let f=0;f<t.data.length-1;f++)t.data[f]=t.data[f+1];t.data.length--,n.set(t.data.length)}i.bookmark=zu(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(i),n.set(t.data.length-1);const d={level:i,lastLevel:c,originalEvent:a};return n.get()>0?(e.setDirty(!0),e.dispatch("AddUndo",d),e.dispatch("change",d)):e.dispatch("AddUndo",d),i},IM=(e,t,n)=>{t.data=[],n.set(0),t.typing=!1,e.dispatch("ClearUndos")},$M=(e,t,n,s,o)=>{if(t.transact(s)){const r=t.data[n.get()].bookmark,a=t.data[n.get()-1];Bd(e,a,!0),t.transact(o)&&(t.data[n.get()-1].beforeBookmark=r)}},ZM=(e,t,n)=>{let s;return t.get()<n.length-1&&(t.set(t.get()+1),s=n[t.get()],Bd(e,s,!1),e.setDirty(!0),e.dispatch("Redo",{level:s})),s},FM=(e,t,n,s)=>{let o;return t.typing&&(t.add(),t.typing=!1,Ri(t,!1,n)),s.get()>0&&(s.set(s.get()-1),o=t.data[s.get()],Bd(e,o,!0),e.setDirty(!0),e.dispatch("Undo",{level:o})),o},zM=e=>{e.clear(),e.add()},VM=(e,t,n)=>n.get()>0||t.typing&&t.data[0]&&!Hd(Ti(e),t.data[0]),UM=(e,t)=>t.get()<e.data.length-1&&!e.typing,WM=(e,t,n)=>(L4(e,t),e.beforeChange(),e.ignore(n),e.add()),jM=(e,t)=>{try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},qM=(e,t)=>{const n=e.dom,s=$(t)?t:e.getBody();R(n.select("table,a",s),o=>{switch(o.nodeName){case"TABLE":const r=qS(e),a=n.getAttrib(o,"border");(!a||a==="0")&&e.hasVisual?n.addClass(o,r):n.removeClass(o,r);break;case"A":if(!n.getAttrib(o,"href")){const l=n.getAttrib(o,"name")||o.id,i=gg(e);l&&e.hasVisual?n.addClass(o,i):n.removeClass(o,i)}break}}),e.dispatch("VisualAid",{element:t,hasVisual:e.hasVisual})},H4=e=>({init:{bindEvents:ie},undoManager:{beforeChange:(t,n)=>LM(e,t,n),add:(t,n,s,o,r,a)=>HM(e,t,n,s,o,r,a),undo:(t,n,s)=>FM(e,t,n,s),redo:(t,n)=>ZM(e,t,n),clear:(t,n)=>IM(e,t,n),reset:t=>zM(t),hasUndo:(t,n)=>VM(e,t,n),hasRedo:(t,n)=>UM(t,n),transact:(t,n,s)=>WM(t,n,s),ignore:(t,n)=>jM(t,n),extra:(t,n,s,o)=>$M(e,t,n,s,o)},formatter:{match:(t,n,s,o)=>dd(e,t,n,s,o),matchAll:(t,n)=>tR(e,t,n),matchNode:(t,n,s,o)=>Un(e,t,n,s,o),canApply:t=>sR(e,t),closest:t=>nR(e,t),apply:(t,n,s)=>Hv(e,t,n,s),remove:(t,n,s,o)=>Ov(e,t,n,s,o),toggle:(t,n,s)=>zR(e,t,n,s),formatChanged:(t,n,s,o,r)=>FR(e,t,n,s,o,r)},editor:{getContent:t=>NA(e,t),setContent:(t,n)=>JT(e,t,n),insertContent:(t,n)=>GT(e,t,n),addVisual:t=>qM(e,t)},selection:{getContent:(t,n)=>EM(e,t,n)},autocompleter:{addDecoration:ie,removeDecoration:ie},raw:{getModel:()=>m.none()}}),KM=e=>{const t=c=>nt(c)?c:{},{init:n,undoManager:s,formatter:o,editor:r,selection:a,autocompleter:l,raw:i}=e;return{init:{bindEvents:n.bindEvents},undoManager:{beforeChange:s.beforeChange,add:s.add,undo:s.undo,redo:s.redo,clear:s.clear,reset:s.reset,hasUndo:s.hasUndo,hasRedo:s.hasRedo,transact:(c,u,d)=>s.transact(d),ignore:(c,u)=>s.ignore(u),extra:(c,u,d,f)=>s.extra(d,f)},formatter:{match:(c,u,d,f)=>o.match(c,t(u),f),matchAll:o.matchAll,matchNode:o.matchNode,canApply:c=>o.canApply(c),closest:c=>o.closest(c),apply:(c,u,d)=>o.apply(c,t(u)),remove:(c,u,d,f)=>o.remove(c,t(u)),toggle:(c,u,d)=>o.toggle(c,t(u)),formatChanged:(c,u,d,f,h)=>o.formatChanged(u,d,f,h)},editor:{getContent:c=>r.getContent(c),setContent:(c,u)=>({content:r.setContent(c,u),html:""}),insertContent:(c,u)=>(r.insertContent(c),""),addVisual:r.addVisual},selection:{getContent:(c,u)=>a.getContent(u)},autocompleter:{addDecoration:l.addDecoration,removeDecoration:l.removeDecoration},raw:{getModel:()=>m.some(i.getRawModel())}}},GM=()=>{const e=j(null),t=j("");return{init:{bindEvents:ie},undoManager:{beforeChange:ie,add:e,undo:e,redo:e,clear:ie,reset:ie,hasUndo:Pe,hasRedo:Pe,transact:e,ignore:ie,extra:ie},formatter:{match:Pe,matchAll:j([]),matchNode:j(void 0),canApply:Pe,closest:t,apply:ie,remove:ie,toggle:ie,formatChanged:j({unbind:ie})},editor:{getContent:t,setContent:j({content:"",html:""}),insertContent:j(""),addVisual:ie},selection:{getContent:t},autocompleter:{addDecoration:ie,removeDecoration:ie},raw:{getModel:j(m.none())}}},Wn=e=>oe(e.plugins,"rtc"),YM=e=>Ae(e.plugins,"rtc").bind(t=>m.from(t.setup)),XM=e=>{const t=e;return YM(e).fold(()=>(t.rtcInstance=H4(e),m.none()),n=>(t.rtcInstance=GM(),m.some(()=>n().then(s=>(t.rtcInstance=KM(s),s.rtc.isRemote)))))},$d=e=>e.rtcInstance?e.rtcInstance:H4(e),Ue=e=>{const t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},QM=(e,t,n)=>{Ue(e).undoManager.beforeChange(t,n)},JM=(e,t,n,s,o,r,a)=>Ue(e).undoManager.add(t,n,s,o,r,a),eD=(e,t,n,s)=>Ue(e).undoManager.undo(t,n,s),tD=(e,t,n)=>Ue(e).undoManager.redo(t,n),nD=(e,t,n)=>{Ue(e).undoManager.clear(t,n)},sD=(e,t)=>{Ue(e).undoManager.reset(t)},oD=(e,t,n)=>Ue(e).undoManager.hasUndo(t,n),rD=(e,t,n)=>Ue(e).undoManager.hasRedo(t,n),aD=(e,t,n,s)=>Ue(e).undoManager.transact(t,n,s),lD=(e,t,n)=>{Ue(e).undoManager.ignore(t,n)},iD=(e,t,n,s,o)=>{Ue(e).undoManager.extra(t,n,s,o)},cD=(e,t,n,s,o)=>Ue(e).formatter.match(t,n,s,o),uD=(e,t,n)=>Ue(e).formatter.matchAll(t,n),dD=(e,t,n,s,o)=>Ue(e).formatter.matchNode(t,n,s,o),fD=(e,t)=>Ue(e).formatter.canApply(t),mD=(e,t)=>Ue(e).formatter.closest(t),hD=(e,t,n,s)=>{Ue(e).formatter.apply(t,n,s)},gD=(e,t,n,s,o)=>{Ue(e).formatter.remove(t,n,s,o)},pD=(e,t,n,s)=>{Ue(e).formatter.toggle(t,n,s)},vD=(e,t,n,s,o,r)=>Ue(e).formatter.formatChanged(t,n,s,o,r),bD=(e,t)=>$d(e).editor.getContent(t),CD=(e,t,n)=>$d(e).editor.setContent(t,n),yD=(e,t,n)=>$d(e).editor.insertContent(t,n),ED=(e,t,n)=>Ue(e).selection.getContent(t,n),wD=(e,t)=>Ue(e).editor.addVisual(t),I4=e=>Ue(e).init.bindEvents(),SD=(e,t={})=>{const n=t.format?t.format:"html";return ED(e,n,t)},$4=e=>e.dom.length===0?(Ne(e),m.none()):m.some(e),kD=(e,t)=>e.filter(n=>Sa.isBookmarkNode(n.dom)).bind(t?Ur:gs),xD=(e,t,n,s,o)=>{const r=e.dom,a=t.dom,l=s?r.length:a.length;s?(V1(r,a,o,!1,!s),n.setStart(a,l)):(V1(a,r,o,!1,!s),n.setEnd(a,l))},_D=(e,t,n)=>{On(e).each(s=>{const o=e.dom;t&&Na(s,A(o,0),n)?pi(o,0,n):!t&&Ta(s,A(o,o.length),n)&&z1(o,o.length,n)})},Z4=(e,t,n,s,o)=>{e.bind(r=>((s?z1:pi)(r.dom,s?r.dom.length:0,o),t.filter(At).map(l=>xD(r,l,n,s,o)))).orThunk(()=>kD(t,s).or(t).filter(At).map(a=>_D(a,s,o)))},AD=(e,t,n)=>{const s=m.from(t.firstChild).map(b.fromDom),o=m.from(t.lastChild).map(b.fromDom);e.deleteContents(),e.insertNode(t);const r=s.bind(gs).filter(At).bind($4),a=o.bind(Ur).filter(At).bind($4);Z4(r,s,e,!0,n),Z4(a,o,e,!1,n),e.collapse(!1)},ND=(e,t)=>({format:"html",...e,set:!0,selection:!0,content:t}),TD=(e,t)=>{if(t.format!=="raw"){const n=e.selection.getRng(),s=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),o=s?{context:s.nodeName.toLowerCase()}:{},r=e.parser.parse(t.content,{forced_root_block:!1,...o,...t});return Ns({validate:!1},e.schema).serialize(r)}else return t.content},RD=(e,t,n={})=>{const s=ND(n,t);Pd(e,s).each(o=>{const r=TD(e,o),a=e.selection.getRng();AD(a,a.createContextualFragment(r),e.schema),e.selection.setRng(a),xa(e,a),Md(e,r,o)})},F4=(e,t,n)=>{if(oe(e,t)){const s=se(e[t],o=>o!==n);s.length===0?delete e[t]:e[t]=s}};var PD=(e,t)=>{let n,s;const o=(l,i)=>Ke(i,c=>e.is(c,l)),r=l=>e.getParents(l,void 0,e.getRoot()),a=()=>{n={},s={},t.on("NodeChange",l=>{const i=l.element,c=r(i),u={};xe(n,(d,f)=>{o(f,c).each(h=>{s[f]||(R(d,p=>{p(!0,{node:h,selector:f,parents:c})}),s[f]=d),u[f]=d})}),xe(s,(d,f)=>{u[f]||(delete s[f],R(d,h=>{h(!1,{node:i,selector:f,parents:c})}))})})};return{selectorChangedWithUnbind:(l,i)=>(n||a(),n[l]||(n[l]=[]),n[l].push(i),o(l,r(t.selection.getStart())).each(()=>{s[l]=n[l]}),{unbind:()=>{F4(n,l,i),F4(s,l,i)}})}};const z4=e=>!!(e&&e.ownerDocument)&&bn(b.fromDom(e.ownerDocument),b.fromDom(e)),MD=e=>e?z4(e.startContainer)&&z4(e.endContainer):!1,V4=(e,t,n,s)=>{let o,r;const{selectorChangedWithUnbind:a}=PD(e,s),l=(I,Y)=>{const me=e.createRng();$(I)&&$(Y)?(me.setStart(I,Y),me.setEnd(I,Y),S(me),C(!1)):(i1(e,me,s.getBody(),!0),S(me))},i=I=>SD(s,I),c=(I,Y)=>RD(s,I,Y),u=I=>Vp(s.getBody(),E(),I),d=I=>Up(s.getBody(),E(),I),f=(I,Y)=>We.getBookmark(I,Y),h=I=>We.moveToBookmark(I),p=(I,Y)=>(hA(e,I,Y).each(S),I),g=()=>{const I=E(),Y=y();return!I||I.item?!1:I.compareEndPoints?I.compareEndPoints("StartToEnd",I)===0:!Y||I.collapsed},v=()=>{if(s.mode.isReadOnly())return!1;const I=E(),Y=s.getBody().querySelectorAll('[data-mce-selected="1"]');return Y.length>0?Xn(Y,me=>e.isEditable(me.parentElement)):Fp(e,I)},C=I=>{const Y=E();Y.collapse(!!I),S(Y)},y=()=>t.getSelection?t.getSelection():t.document.selection,E=()=>{let I;const Y=(z,M,Z)=>{try{return M.compareBoundaryPoints(z,Z)}catch{return-1}},me=t.document;if($(s.bookmark)&&!tr(s)){const z=y1(s);if(z.isSome())return z.map(M=>D1(s,[M])[0]).getOr(me.createRange())}try{const z=y();z&&!_l(z.anchorNode)&&(z.rangeCount>0?I=z.getRangeAt(0):I=me.createRange(),I=D1(s,[I])[0])}catch{}if(I||(I=me.createRange()),Gr(I.startContainer)&&I.collapsed){const z=e.getRoot();I.setStart(z,0),I.setEnd(z,0)}return o&&r&&(Y(I.START_TO_START,I,o)===0&&Y(I.END_TO_END,I,o)===0?I=r:(o=null,r=null)),I},S=(I,Y)=>{if(!MD(I))return;const me=y();if(I=s.dispatch("SetSelectionRange",{range:I,forward:Y}).range,me){r=I;try{me.removeAllRanges(),me.addRange(I)}catch{}Y===!1&&me.extend&&(me.collapse(I.endContainer,I.endOffset),me.extend(I.startContainer,I.startOffset)),o=me.rangeCount>0?me.getRangeAt(0):null}if(!I.collapsed&&I.startContainer===I.endContainer&&me?.setBaseAndExtent&&I.endOffset-I.startOffset<2&&I.startContainer.hasChildNodes()){const M=I.startContainer.childNodes[I.startOffset];M&&M.nodeName==="IMG"&&(me.setBaseAndExtent(I.startContainer,I.startOffset,I.endContainer,I.endOffset),(me.anchorNode!==I.startContainer||me.focusNode!==I.endContainer)&&me.setBaseAndExtent(M,0,M,1))}s.dispatch("AfterSetSelectionRange",{range:I,forward:Y})},T=I=>(c(e.getOuterHTML(I)),I),D=()=>fA(s.getBody(),E()),V=(I,Y)=>mA(e,E(),I,Y),N=()=>{const I=y(),Y=I?.anchorNode,me=I?.focusNode;if(!I||!Y||!me||_l(Y)||_l(me))return!0;const z=e.createRng(),M=e.createRng();try{z.setStart(Y,I.anchorOffset),z.collapse(!0),M.setStart(me,I.focusOffset),M.collapse(!0)}catch{return!0}return z.compareBoundaryPoints(z.START_TO_START,M)<=0},He={dom:e,win:t,serializer:n,editor:s,expand:(I={type:"word"})=>S(io(e).expand(E(),I)),collapse:C,setCursorLocation:l,getContent:i,setContent:c,getBookmark:f,moveToBookmark:h,select:p,isCollapsed:g,isEditable:v,isForward:N,setNode:T,getNode:D,getSel:y,setRng:S,getRng:E,getStart:u,getEnd:d,getSelectedBlocks:V,normalize:()=>{const I=E(),Y=y();if(!gx(Y)&&ei(s)){const me=ui(e,I);return me.each(z=>{S(z,N())}),me.getOr(I)}return I},selectorChanged:(I,Y)=>(a(I,Y),He),selectorChangedWithUnbind:a,getScrollContainer:()=>{let I,Y=e.getRoot();for(;Y&&Y.nodeName!=="BODY";){if(Y.scrollHeight>Y.clientHeight){I=Y;break}Y=Y.parentNode}return I},scrollIntoView:(I,Y)=>{$(I)?dA(s,I,Y):xa(s,E(),Y)},placeCaretAt:(I,Y)=>S(Tp(I,Y,s.getDoc())),getBoundingClientRect:()=>{const I=E();return I.collapsed?A.fromRangeStart(I).getClientRects()[0]:I.getBoundingClientRect()},destroy:()=>{t=o=r=null,je.destroy()}},We=Sa(He),je=xp(He,s);return He.bookmarkManager=We,He.controlSelection=je,He},DD=(e,t,n)=>{t.addNodeFilter("br",(s,o,r)=>{const a=L.extend({},n.getBlockElements()),l=n.getNonEmptyElements(),i=n.getWhitespaceElements();a.body=1;const c=u=>u.name in a||hu(n,u);for(let u=0,d=s.length;u<d;u++){let f=s[u],h=f.parent;if(h&&c(h)&&f===h.lastChild){let p=f.prev;for(;p;){const g=p.name;if(g!=="span"||p.attr("data-mce-type")!=="bookmark"){g==="br"&&(f=null);break}p=p.prev}if(f&&(f.remove(),Pa(n,l,i,h))){const g=n.getElementRule(h.name);g&&(g.removeEmpty?h.remove():g.paddEmpty&&ed(e,r,c,h))}}else{let p=f;for(;h&&h.firstChild===p&&h.lastChild===p&&(p=h,!a[h.name]);)h=h.parent;if(p===h){const g=new yt("#text",3);g.value=Ye,f.replace(g)}}}})},OD=(e,t,n)=>{e.addAttributeFilter("data-mce-tabindex",(s,o)=>{let r=s.length;for(;r--;){const a=s[r];a.attr("tabindex",a.attr("data-mce-tabindex")),a.attr(o,null)}}),e.addAttributeFilter("src,href,style",(s,o)=>{const r="data-mce-"+o,a=t.url_converter,l=t.url_converter_scope;let i=s.length;for(;i--;){const c=s[i];let u=c.attr(r);u!==void 0?(c.attr(o,u.length>0?u:null),c.attr(r,null)):(u=c.attr(o),o==="style"?u=n.serializeStyle(n.parseStyle(u),c.name):a&&(u=a.call(l,u,o,c.name)),c.attr(o,u.length>0?u:null))}}),e.addAttributeFilter("class",s=>{let o=s.length;for(;o--;){const r=s[o];let a=r.attr("class");a&&(a=a.replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),r.attr("class",a.length>0?a:null))}}),e.addAttributeFilter("data-mce-type",(s,o,r)=>{let a=s.length;for(;a--;){const l=s[a];l.attr("data-mce-type")==="bookmark"&&!r.cleanup&&(m.from(l.firstChild).exists(c=>{var u;return!Hl((u=c.value)!==null&&u!==void 0?u:"")})?l.unwrap():l.remove())}}),e.addNodeFilter("script,style",(s,o)=>{var r;const a=i=>i.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"");let l=s.length;for(;l--;){const i=s[l],c=i.firstChild,u=(r=c?.value)!==null&&r!==void 0?r:"";if(o==="script"){const d=i.attr("type");d&&i.attr("type",d==="mce-no/type"?null:d.replace(/^mce\-/,"")),t.element_format==="xhtml"&&c&&u.length>0&&(c.value=`// <![CDATA[
`+a(u)+`
// ]]>`)}else t.element_format==="xhtml"&&c&&u.length>0&&(c.value=`<!--
`+a(u)+`
-->`)}}),e.addNodeFilter("#comment",s=>{let o=s.length;for(;o--;){const r=s[o],a=r.value;t.preserve_cdata&&a?.indexOf("[CDATA[")===0?(r.name="#cdata",r.type=4,r.value=n.decode(a.replace(/^\[CDATA\[|\]\]$/g,""))):a?.indexOf("mce:protected ")===0&&(r.name="#text",r.type=3,r.raw=!0,r.value=unescape(a).substr(14))}}),e.addNodeFilter("xml:namespace,input",(s,o)=>{let r=s.length;for(;r--;){const a=s[r];a.type===7?a.remove():a.type===1&&o==="input"&&!a.attr("type")&&a.attr("type","text")}}),e.addAttributeFilter("data-mce-type",s=>{R(s,o=>{o.attr("data-mce-type")==="format-caret"&&(o.isEmpty(e.schema.getNonEmptyElements())?o.remove():o.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-block,data-mce-type,data-mce-resize,data-mce-placeholder",(s,o)=>{let r=s.length;for(;r--;)s[r].attr(o,null)}),t.remove_trailing_brs&&DD(t,e,e.schema)},BD=e=>{const t=s=>s?.name==="br",n=e.lastChild;if(t(n)){const s=n.prev;t(s)&&(n.remove(),s.remove())}},LD=(e,t,n)=>{let s;const o=e.dom;let r=t.cloneNode(!0);const a=document.implementation;if(a.createHTMLDocument){const l=a.createHTMLDocument("");L.each(r.nodeName==="BODY"?r.childNodes:[r],i=>{l.body.appendChild(l.importNode(i,!0))}),r.nodeName!=="BODY"?r=l.body.firstChild:r=l.body,s=o.doc,o.doc=l}return O7(e,{...n,node:r}),s&&(o.doc=s),r},HD=(e,t)=>$(e)&&e.hasEventListeners("PreProcess")&&!t.no_events,ID=(e,t,n)=>HD(e,n)?LD(e,t,n):t,$D=(e,t,n)=>{L.inArray(t,n)===-1&&(e.addAttributeFilter(n,(s,o)=>{let r=s.length;for(;r--;)s[r].attr(o,null)}),t.push(n))},ZD=(e,t,n)=>!t.no_events&&e?B7(e,{...t,content:n}).content:n,FD=(e,t,n)=>{const s=zt(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||Ll(b.fromDom(t))?s:L.trim(s)},zD=(e,t,n)=>{const s=n.selection?{forced_root_block:!1,...n}:n,o=e.parse(t,s);return BD(o),o},VD=(e,t,n)=>Ns(e,t).serialize(n),UD=(e,t,n,s,o)=>{const r=VD(t,n,s);return ZD(e,o,r)},WD=(e,t)=>{const n=["data-mce-selected"],s={entity_encoding:"named",remove_trailing_brs:!0,pad_empty_with_br:!1,...e},o=t&&t.dom?t.dom:ke.DOM,r=t&&t.schema?t.schema:Es(s),a=sr(s,r);OD(a,s,o);const l=(i,c={})=>{const u={format:"html",...c},d=ID(t,i,u),f=FD(o,d,u),h=zD(a,f,u);return u.format==="tree"?h:UD(t,s,r,h,u)};return{schema:r,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:l,addRules:r.addValidElements,setRules:r.setValidElements,addTempAttr:K($D,a,n),getTempAttrs:j(n),getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters,removeNodeFilter:a.removeNodeFilter,removeAttributeFilter:a.removeAttributeFilter}},U4=(e,t)=>{const n=WD(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters,removeNodeFilter:n.removeNodeFilter,removeAttributeFilter:n.removeAttributeFilter}},jD="html",qD=(e,t)=>({...e,format:t,get:!0,getInner:!0}),KD=(e,t={})=>{const n=t.format?t.format:jD,s=qD(t,n);return S4(e,s).fold(bt,o=>{const r=bD(e,o);return k4(e,r,o)})},GD="html",YD=(e,t)=>({format:GD,...e,set:!0,content:t}),Zd=(e,t,n={})=>{const s=YD(n,t);return Pd(e,s).map(o=>{const r=CD(e,o.content,o);return Md(e,r.html,o),r.content}).getOr(t)},XD="autoresize_on_init,content_editable_state,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,tabfocus_elements,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_enable_default_filters,paste_filter_drop,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists,template_cdate_classes,template_mdate_classes,template_selected_content_classes,template_preview_replace_values,template_replace_values,templates,template_cdate_format,template_mdate_format".split(","),QD=[],JD="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,template,textcolor,rtc".split(","),W4=[],j4=(e,t)=>{const n=se(t,s=>oe(e,s));return $s(n)},e9=e=>{const t=j4(e,XD),n=e.forced_root_block;return(n===!1||n==="")&&t.push("forced_root_block (false only)"),$s(t)},t9=e=>j4(e,QD),q4=(e,t)=>{const n=L.makeMap(e.plugins," "),o=se(t,r=>oe(n,r));return $s(o)},n9=e=>q4(e,JD),s9=e=>q4(e,W4.map(t=>t.name)),o9=(e,t)=>{const n=e9(e),s=n9(t),o=s.length>0,r=n.length>0,a=t.theme==="mobile";if(o||r||a){const l=`
- `,i=a?`

Themes:${l}mobile`:"",c=o?`

Plugins:${l}${s.join(l)}`:"",u=r?`

Options:${l}${n.join(l)}`:"";console.warn("The following deprecated features are currently enabled and have been removed in TinyMCE 7.0. These features will no longer work and should be removed from the TinyMCE configuration. See https://www.tiny.cloud/docs/tinymce/7/migration-from-6x/ for more information."+i+c+u)}},r9=e=>Ke(W4,t=>t.name===e).fold(()=>e,t=>t.replacedWith?`${e}, replaced by ${t.replacedWith}`:e),a9=(e,t)=>{const n=t9(e),s=s9(t),o=s.length>0,r=n.length>0;if(o||r){const a=`
- `,l=o?`

Plugins:${a}${s.map(r9).join(a)}`:"",i=r?`

Options:${a}${n.join(a)}`:"";console.warn("The following deprecated features are currently enabled but will be removed soon."+l+i)}},l9=(e,t)=>{o9(e,t),a9(e,t)},Pi=ke.DOM,i9=e=>{Pi.setStyle(e.id,"display",e.orgDisplay)},Mi=e=>m.from(e).each(t=>t.destroy()),c9=e=>{const t=e;t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null;const n=e.selection;if(n){const s=n.dom;t.selection=n.win=n.dom=s.doc=null}},u9=e=>{const t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,delete t._mceOldSubmit),Pi.unbind(t,"submit reset",e.formEventDelegate))},d9=e=>{if(!e.removed){const{_selectionOverrides:t,editorUpload:n}=e,s=e.getBody(),o=e.getElement();s&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&$(o?.nextSibling)&&Pi.remove(o.nextSibling),L7(e),e.editorManager.remove(e),!e.inline&&s&&i9(e),H7(e),Pi.remove(e.getContainer()),Mi(t),Mi(n),e.destroy()}},f9=(e,t)=>{const{selection:n,dom:s}=e;if(!e.destroyed){if(!t&&!e.removed){e.remove();return}t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),Mi(n),Mi(s)),u9(e),c9(e),e.destroyed=!0}},Di=(()=>{const e={};return{add:(o,r)=>{e[o]=r},get:o=>e[o]?e[o]:{icons:{}},has:o=>oe(e,o)}})(),or=Ct.ModelManager,K4=(e,t)=>t.dom[e],G4=(e,t)=>parseInt(Bn(t,e),10),m9=K(K4,"clientWidth"),h9=K(K4,"clientHeight"),g9=K(G4,"margin-top"),p9=K(G4,"margin-left"),v9=e=>e.dom.getBoundingClientRect(),b9=(e,t,n)=>{const s=m9(e),o=h9(e);return t>=0&&n>=0&&t<=s&&n<=o},C9=(e,t,n,s)=>{const o=v9(t),r=e?o.left+t.dom.clientLeft+p9(t):0,a=e?o.top+t.dom.clientTop+g9(t):0,l=n-r,i=s-a;return{x:l,y:i}},y9=(e,t,n)=>{const s=b.fromDom(e.getBody()),o=e.inline?s:bE(s),r=C9(e.inline,o,t,n);return b9(o,r.x,r.y)},E9=e=>m.from(e).map(b.fromDom),w9=e=>{const t=e.inline?e.getBody():e.getContentAreaContainer();return E9(t).map(Mo).getOr(!1)};var S9=()=>{const e=()=>{throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,getArgs:e}};const Y4=e=>{const t=[],n=()=>{const f=e.theme;return f&&f.getNotificationManagerImpl?f.getNotificationManagerImpl():S9()},s=()=>m.from(t[0]),o=(f,h)=>f.type===h.type&&f.text===h.text&&!f.progressBar&&!f.timeout&&!h.progressBar&&!h.timeout,r=()=>{s().each(f=>{f.reposition()})},a=f=>{t.push(f)},l=f=>{Ar(t,h=>h===f).each(h=>{t.splice(h,1)})},i=(f,h=!0)=>e.removed||!w9(e)?{}:(h&&e.dispatch("BeforeOpenNotification",{notification:f}),Ke(t,p=>o(n().getArgs(p),f)).getOrThunk(()=>{e.editorManager.setActive(e);const p=n().open(f,()=>{l(p)},()=>k1(e));return a(p),r(),e.dispatch("OpenNotification",{notification:{...p}}),p})),c=()=>{s().each(f=>{n().close(f),l(f),r()})},u=j(t);return(f=>{f.on("SkinLoaded",()=>{const h=TS(f);h&&i({text:h,type:"warning",timeout:0},!1),r()}),f.on("show ResizeEditor ResizeWindow NodeChange ToggleView FullscreenStateChanged",()=>{requestAnimationFrame(r)}),f.on("remove",()=>{R(t.slice(),h=>{n().close(h)})}),f.on("keydown",h=>{var p;const g=((p=h.key)===null||p===void 0?void 0:p.toLowerCase())==="f12"||h.keyCode===123;h.altKey&&g&&(h.preventDefault(),s().map(v=>b.fromDom(v.getEl())).each(v=>pp(v)))})})(e),{open:i,close:c,getNotifications:u}},rr=Ct.PluginManager,go=Ct.ThemeManager;var k9=()=>{const e=()=>{throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e}};const X4=e=>{let t=[];const n=()=>{const g=e.theme;return g&&g.getWindowManagerImpl?g.getWindowManagerImpl():k9()},s=(g,v)=>(...C)=>v?v.apply(g,C):void 0,o=g=>{e.dispatch("OpenWindow",{dialog:g})},r=g=>{e.dispatch("CloseWindow",{dialog:g})},a=g=>{t.push(g),o(g)},l=g=>{r(g),t=se(t,v=>v!==g),t.length===0&&e.focus()},i=()=>m.from(t[t.length-1]),c=g=>{e.editorManager.setActive(e),ri(e),e.ui.show();const v=g();return a(v),v},u=(g,v)=>c(()=>n().open(g,v,l)),d=g=>c(()=>n().openUrl(g,l)),f=(g,v,C)=>{const y=n();y.alert(g,s(C||y,v))},h=(g,v,C)=>{const y=n();y.confirm(g,s(C||y,v))},p=()=>{i().each(g=>{n().close(g),l(g)})};return e.on("remove",()=>{R(t,g=>{n().close(g)})}),{open:u,openUrl:d,alert:f,confirm:h,close:p}},Q4=(e,t)=>{e.notificationManager.open({type:"error",text:t})},Oi=(e,t)=>{e._skinLoaded?Q4(e,t):e.on("SkinLoaded",()=>{Q4(e,t)})},x9=(e,t)=>{Oi(e,En.translate(["Failed to upload image: {0}",t]))},Za=(e,t,n)=>{G0(e,t,{message:n}),console.error(n)},Fa=(e,t,n)=>n?`Failed to load ${e}: ${n} from url ${t}`:`Failed to load ${e} url: ${t}`,_9=(e,t,n)=>{Za(e,"PluginLoadError",Fa("plugin",t,n))},A9=(e,t,n)=>{Za(e,"IconsLoadError",Fa("icons",t,n))},N9=(e,t,n)=>{Za(e,"LanguageLoadError",Fa("language",t,n))},T9=(e,t,n)=>{Za(e,"ThemeLoadError",Fa("theme",t,n))},R9=(e,t,n)=>{Za(e,"ModelLoadError",Fa("model",t,n))},P9=(e,t,n)=>{const s=En.translate(["Failed to initialize plugin: {0}",t]);G0(e,"PluginLoadError",{message:s}),Bi(s,n),Oi(e,s)},Bi=(e,...t)=>{const n=window.console;n&&(n.error?n.error(e,...t):n.log(e,...t))},M9=e=>{m.from(e.selection.getNode()).each(t=>{t.removeAttribute("data-mce-selected")})},Fd=(e,t,n)=>{try{e.getDoc().execCommand(t,!1,String(n))}catch{}},D9=(e,t)=>{Fd(e,"StyleWithCSS",t),Fd(e,"enableInlineTableEditing",t),Fd(e,"enableObjectResizing",t)},O9=e=>{e.selection.setRng(e.selection.getRng())},J4=(e,t,n)=>{Vc(e,t)&&!n?Zr(e,t):n&&Ro(e,t)},eb=e=>{const t=b.fromDom(e.getBody());J4(t,"mce-content-readonly",!0),e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),M9(e)},tb=e=>{const t=b.fromDom(e.getBody());J4(t,"mce-content-readonly",!1),e.hasEditableRoot()&&El(t,!0),D9(e,!1),k1(e)&&e.focus(),O9(e),e.nodeChanged()},is=e=>ql(e),po="data-mce-contenteditable",B9=e=>{R(dt(e,'*[contenteditable="true"]'),t=>{ot(t,po,"true"),El(t,!1)})},L9=e=>{R(dt(e,`*[${po}="true"]`),t=>{rt(t,po),El(t,!0)})},nb=(e,t)=>{const n=b.fromDom(e.getBody());t?(eb(e),El(n,!1),B9(n)):(L9(n),tb(e))},H9=e=>{e.serializer?sb(e):e.on("PreInit",()=>{sb(e)})},sb=e=>{e.parser.addAttributeFilter("contenteditable",t=>{is(e)&&R(t,n=>{n.attr(po,n.attr("contenteditable")),n.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(po,t=>{is(e)&&R(t,n=>{n.attr("contenteditable",n.attr(po))})}),e.serializer.addTempAttr(po)},I9=e=>e.type==="click",$9=["copy"],Z9=e=>Ee($9,e.type),F9=(e,t)=>Do(t,"a",s=>Ce(s,b.fromDom(e.getBody()))).bind(s=>es(s,"href")),z9=(e,t)=>{if(I9(t)&&!W.metaKeyPressed(t)){const n=b.fromDom(t.target);F9(e,n).each(s=>{if(t.preventDefault(),/^#/.test(s)){const o=e.dom.select(`${s},[name="${Mm(s,"#")}"]`);o.length&&e.selection.scrollIntoView(o[0],!0)}else window.open(s,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}else Z9(t)&&e.dispatch(t.type,t)},V9=e=>{e.on("ShowCaret ObjectSelected",t=>{is(e)&&t.preventDefault()}),e.on("DisabledStateChange",t=>{t.isDefaultPrevented()||nb(e,t.state)})},U9=e=>{H9(e),V9(e)},W9=e=>/^[a-z0-9\-]+$/i.test(e),zd=e=>"content/"+e+"/content.css",j9=e=>tinymce.Resource.has(zd(e)),q9=e=>ob(e,SS(e)),K9=e=>ob(e,ug(e)),ob=(e,t)=>{const n=e.editorManager.baseURL+"/skins/content",o=`content${e.editorManager.suffix}.css`;return ge(t,r=>j9(r)?r:W9(r)&&!e.inline?`${n}/${r}/${o}`:e.documentBaseURI.toAbsolute(r))},G9=e=>{e.contentCSS=e.contentCSS.concat(q9(e),K9(e))},Y9=e=>e?$t(e.getElementsByTagName("img")):[],X9=(e,t)=>{const n={};return{findAll:(o,r=$e)=>{const a=se(Y9(o),i=>{const c=i.src;return i.hasAttribute("data-mce-bogus")||i.hasAttribute("data-mce-placeholder")||!c||c===ve.transparentSrc?!1:Ge(c,"blob:")?!e.isUploaded(c)&&r(i):Ge(c,"data:")?r(i):!1}),l=ge(a,i=>{const c=i.src;if(oe(n,c))return n[c].then(u=>J(u)?u:{image:i,blobInfo:u.blobInfo});{const u=tP(t,c).then(d=>(delete n[c],{image:i,blobInfo:d})).catch(d=>(delete n[c],d));return n[c]=u,u}});return Promise.all(l)}}},rb=()=>{let n={};const s=(f,h)=>({status:f,resultUri:h}),o=f=>f in n;return{hasBlobUri:o,getResultUri:f=>{const h=n[f];return h?h.resultUri:null},isPending:f=>o(f)?n[f].status===1:!1,isUploaded:f=>o(f)?n[f].status===2:!1,markPending:f=>{n[f]=s(1,null)},markUploaded:(f,h)=>{n[f]=s(2,h)},removeFailed:f=>{delete n[f]},destroy:()=>{n={}}}};let Q9=0;const J9=()=>{const e=()=>Math.round(c0()*4294967295).toString(36);return"s"+new Date().getTime().toString(36)+e()+e()+e()},eO=e=>e+Q9+++J9(),tO=()=>{let e=[];const t=d=>({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"})[d.toLowerCase()]||"dat",n=(d,f,h,p,g)=>{if(J(d))return s({id:d,name:p,filename:g,blob:f,base64:h});if(nt(d))return s(d);throw new Error("Unknown input type")},s=d=>{if(!d.blob||!d.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");const f=d.id||eO("blobid"),h=d.name||f,p=d.blob;return{id:j(f),name:j(h),filename:j(d.filename||h+"."+t(p.type)),blob:j(p),base64:j(d.base64),blobUri:j(d.blobUri||URL.createObjectURL(p)),uri:j(d.uri)}},o=d=>{a(d.id())||e.push(d)},r=d=>Ke(e,d).getOrUndefined(),a=d=>r(f=>f.id()===d);return{create:n,add:o,get:a,getByUri:d=>r(f=>f.blobUri()===d),getByData:(d,f)=>r(h=>h.base64()===d&&h.blob().type===f),findFirst:r,removeByUri:d=>{e=se(e,f=>f.blobUri()===d?(URL.revokeObjectURL(f.blobUri()),!1):!0)},destroy:()=>{R(e,d=>{URL.revokeObjectURL(d.blobUri())}),e=[]}}},nO=(e,t)=>{const n={},s=(g,v)=>g?g.replace(/\/$/,"")+"/"+v.replace(/^\//,""):v,o=(g,v)=>new Promise((C,y)=>{const E=new XMLHttpRequest;E.open("POST",t.url),E.withCredentials=t.credentials,E.upload.onprogress=T=>{v(T.loaded/T.total*100)},E.onerror=()=>{y("Image upload failed due to a XHR Transport error. Code: "+E.status)},E.onload=()=>{if(E.status<200||E.status>=300){y("HTTP Error: "+E.status);return}const T=JSON.parse(E.responseText);if(!T||!J(T.location)){y("Invalid JSON: "+E.responseText);return}C(s(t.basePath,T.location))};const S=new FormData;S.append("file",g.blob(),g.filename()),E.send(S)}),r=we(t.handler)?t.handler:o,a=()=>new Promise(g=>{g([])}),l=(g,v)=>({url:v,blobInfo:g,status:!0}),i=(g,v)=>({url:"",blobInfo:g,status:!1,error:v}),c=(g,v)=>{L.each(n[g],C=>{C(v)}),delete n[g]},u=(g,v,C)=>(e.markPending(g.blobUri()),new Promise(y=>{let E,S;try{const T=()=>{E&&(E.close(),S=ie)},D=N=>{T(),e.markUploaded(g.blobUri(),N),c(g.blobUri(),l(g,N)),y(l(g,N))},V=N=>{T(),e.removeFailed(g.blobUri()),c(g.blobUri(),i(g,N)),y(i(g,N))};S=N=>{N<0||N>100||m.from(E).orThunk(()=>m.from(C).map(Rc)).each(_=>{E=_,_.progressBar.value(N)})},v(g,S).then(D,N=>{V(J(N)?{message:N}:N)})}catch(T){y(i(g,T))}})),d=g=>g===o,f=g=>{const v=g.blobUri();return new Promise(C=>{n[v]=n[v]||[],n[v].push(C)})},h=(g,v)=>(g=L.grep(g,C=>!e.isUploaded(C.blobUri())),Promise.all(L.map(g,C=>e.isPending(C.blobUri())?f(C):u(C,r,v))));return{upload:(g,v)=>!t.url&&d(r)?a():h(g,v)}},ab=e=>()=>e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0}),lb=(e,t)=>nO(t,{url:pS(e),basePath:vS(e),credentials:bS(e),handler:CS(e)}),sO=e=>{const t=rb(),n=lb(e,t);return{upload:(s,o=!0)=>n.upload(s,o?ab(e):void 0)}},oO=(e,t)=>e.dom.isEmpty(t.dom)&&$(e.schema.getTextBlockElements()[pe(t)]),rO=e=>t=>{oO(e,t)&&Ve(t,b.fromHtml('<br data-mce-bogus="1" />'))},aO=e=>{const t=tO();let n,s;const o=rb(),r=[],a=E=>S=>e.selection?E(S):[],l=E=>E+(E.indexOf("?")===-1?"?":"&")+new Date().getTime(),i=(E,S,T)=>{let D=0;do D=E.indexOf(S,D),D!==-1&&(E=E.substring(0,D)+T+E.substr(D+S.length),D+=T.length-S.length+1);while(D!==-1);return E},c=(E,S,T)=>{const D=`src="${T}"${T===ve.transparentSrc?' data-mce-placeholder="1"':""}`;return E=i(E,`src="${S}"`,D),E=i(E,'data-mce-src="'+S+'"','data-mce-src="'+T+'"'),E},u=(E,S)=>{R(e.undoManager.data,T=>{T.type==="fragmented"?T.fragments=ge(T.fragments,D=>c(D,E,S)):T.content=c(T.content,E,S)})},d=(E,S)=>{const T=e.convertURL(S,"src");u(E.src,S),Jn(b.fromDom(E),{src:ag(e)?l(S):S,"data-mce-src":T})},f=()=>(n||(n=lb(e,o)),v().then(a(E=>{const S=ge(E,T=>T.blobInfo);return n.upload(S,ab(e)).then(a(T=>{const D=[];let V=!1;const N=ge(T,(_,P)=>{const{blobInfo:F,image:G}=E[P];let re=!1;return _.status&&hS(e)?(_.url&&!it(G.src,_.url)&&(V=!0),t.removeByUri(G.src),Wn(e)||d(G,_.url)):_.error&&(_.error.remove&&(u(G.src,ve.transparentSrc),D.push(G),re=!0),x9(e,_.error.message)),{element:G,status:_.status,uploadUri:_.url,blobInfo:F,removed:re}});return D.length>0&&!Wn(e)?e.undoManager.transact(()=>{R(Qc(D),_=>{const P=On(_);Ne(_),P.each(rO(e)),t.removeByUri(_.dom.src)})}):V&&e.undoManager.dispatchChange(),N}))}))),h=()=>rg(e)?f():Promise.resolve([]),p=E=>Xn(r,S=>S(E)),g=E=>{r.push(E)},v=()=>(s||(s=X9(o,t)),s.findAll(e.getBody(),p).then(a(E=>{const S=se(E,T=>J(T)?(Oi(e,T),!1):T.uriType!=="blob");return Wn(e)||R(S,T=>{u(T.image.src,T.blobInfo.blobUri()),T.image.src=T.blobInfo.blobUri(),T.image.removeAttribute("data-mce-src")}),S}))),C=()=>{t.destroy(),o.destroy(),s=n=null},y=E=>E.replace(/src="(blob:[^"]+)"/g,(S,T)=>{const D=o.getResultUri(T);if(D)return'src="'+D+'"';let V=t.getByUri(T);return V||(V=Mt(e.editorManager.get(),(N,_)=>N||_.editorUpload&&_.editorUpload.blobCache.getByUri(T),void 0)),V?'src="data:'+V.blob().type+";base64,"+V.base64()+'"':S});return e.on("SetContent",()=>{rg(e)?h():v()}),e.on("RawSaveContent",E=>{E.content=y(E.content)}),e.on("GetContent",E=>{E.source_view||E.format==="raw"||E.format==="tree"||(E.content=y(E.content))}),e.on("PostRender",()=>{e.parser.addNodeFilter("img",E=>{R(E,S=>{const T=S.attr("src");if(!T||t.getByUri(T))return;const D=o.getResultUri(T);D&&S.attr("src",D)})})}),{blobCache:t,addFilter:g,uploadImages:f,uploadImagesAuto:h,scanForImages:v,destroy:C}},lO=e=>{const t=e.dom,n=e.schema.type,s={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"left"},inherit:!1,preview:!1},{selector:"img,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"left"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"0px",marginRight:"auto"},onformat:o=>{t.setStyle(o,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:".mce-placeholder",styles:{display:"block",marginLeft:"auto",marginRight:"auto"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"},{selector:".mce-preview-object",ceFalseOverride:!0,styles:{display:"table",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{marginLeft:"auto",marginRight:"auto"},preview:!1}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"},{selector:".mce-placeholder",styles:{float:"right"},ceFalseOverride:!0},{selector:"table",collapsed:!1,styles:{marginRight:"0px",marginLeft:"auto"},onformat:o=>{t.setStyle(o,"float",null)},preview:"font-family font-size"},{selector:".mce-preview-object,[data-ephox-embed-iri]",ceFalseOverride:!0,styles:{float:"right"},preview:!1}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li,pre",styles:{textAlign:"justify"},inherit:!1,preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:(()=>{const o={inline:"span",styles:{textDecoration:"line-through"},exact:!0},r={inline:"strike",remove:"all",preserve_attributes:["class","style"]},a={inline:"s",remove:"all",preserve_attributes:["class","style"]};return n!=="html4"?[a,o,r]:[o,a,r]})(),forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},samp:{inline:"samp"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:(o,r,a)=>q(o)&&o.hasAttribute("href"),onformat:(o,r,a)=>{L.each(a,(l,i)=>{t.setAttrib(o,i,l)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":o=>{var r;return(r=o?.customValue)!==null&&r!==void 0?r:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return L.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd".split(/\s/),o=>{s[o]={block:o,remove:"all"}}),s},ib={remove_similar:!0,inherit:!1},ar={selector:"td,th",...ib},iO={tablecellbackgroundcolor:{styles:{backgroundColor:"%value"},...ar},tablecellverticalalign:{styles:{"vertical-align":"%value"},...ar},tablecellbordercolor:{styles:{borderColor:"%value"},...ar},tablecellclass:{classes:["%value"],...ar},tableclass:{selector:"table",classes:["%value"],...ib},tablecellborderstyle:{styles:{borderStyle:"%value"},...ar},tablecellborderwidth:{styles:{borderWidth:"%value"},...ar}},cO=j(iO),uO=e=>{const t={},n=a=>$(a)?t[a]:t,s=a=>oe(t,a),o=(a,l)=>{a&&(J(a)?(Me(l)||(l=[l]),R(l,i=>{st(i.deep)&&(i.deep=!Qt(i)),st(i.split)&&(i.split=!Qt(i)||Qe(i)),st(i.remove)&&Qt(i)&&!Qe(i)&&(i.remove="none"),Qt(i)&&Qe(i)&&(i.mixed=!0,i.block_expand=!0),J(i.classes)&&(i.classes=i.classes.split(/\s+/))}),t[a]=l):xe(a,(i,c)=>{o(c,i)}))},r=a=>(a&&t[a]&&delete t[a],t);return o(lO(e)),o(cO()),o(MS(e)),{get:n,has:s,register:o,unregister:r}},Li=L.each,tn=ke.DOM,Vd=e=>$(e)&&nt(e),cb=(e,t)=>{const n=t&&t.schema||Es({}),s=(i,c)=>{c.classes.length>0&&tn.addClass(i,c.classes.join(" ")),tn.setAttribs(i,c.attrs)},o=i=>{const c=J(i)?{name:i,classes:[],attrs:{}}:i,u=tn.create(c.name);return s(u,c),u},r=(i,c)=>{const u=n.getElementRule(i.nodeName.toLowerCase()),d=u?.parentsRequired;return d&&d.length?c&&Ee(d,c)?c:d[0]:!1},a=(i,c,u)=>{let d;const f=c[0],h=Vd(f)?f.name:void 0,p=r(i,h);if(p)h===p?(d=f,c=c.slice(1)):d=p;else if(f)d=f,c=c.slice(1);else if(!u)return i;const g=d?o(d):tn.create("div");g.appendChild(i),u&&L.each(u,C=>{const y=o(C);g.insertBefore(y,i)});const v=Vd(d)?d.siblings:void 0;return a(g,c,v)},l=tn.create("div");if(e.length>0){const i=e[0],c=o(i),u=Vd(i)?i.siblings:void 0;l.appendChild(a(c,e.slice(1),u))}return l},dO=e=>{e=L.trim(e);let t="div";const n={name:t,classes:[],attrs:{},selector:e};return e!=="*"&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(s,o,r,a,l)=>{switch(o){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":L.inArray("checked disabled enabled read-only required".split(" "),r)!==-1&&(n.attrs[r]=r);break}if(a==="["){const i=l.match(/([\w\-]+)(?:\=\"([^\"]+))?/);i&&(n.attrs[i[1]]=i[2])}return""})),n.name=t||"div",n},fO=e=>J(e)?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),L.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),t=>{const n=L.map(t.split(/(?:~\+|~|\+)/),dO),s=n.pop();return n.length&&(s.siblings=n),s}).reverse()):[],mO=(e,t)=>{let n="",s=DS(e);if(s==="")return"";const o=f=>J(f)?f.replace(/%(\w+)/g,""):"",r=(f,h)=>tn.getStyle(h??e.getBody(),f,!0);if(J(t)){const f=e.formatter.get(t);if(!f)return"";t=f[0]}if("preview"in t){const f=t.preview;if(f===!1)return"";s=f||s}let a=t.block||t.inline||"span",l;const i=fO(t.selector);i.length>0?(i[0].name||(i[0].name=a),a=t.selector,l=cb(i,e)):l=cb([a],e);const c=tn.select(a,l)[0]||l.firstChild;Li(t.styles,(f,h)=>{const p=o(f);p&&tn.setStyle(c,h,p)}),Li(t.attributes,(f,h)=>{const p=o(f);p&&tn.setAttrib(c,h,p)}),Li(t.classes,f=>{const h=o(f);tn.hasClass(c,h)||tn.addClass(c,h)}),e.dispatch("PreviewFormats"),tn.setStyles(l,{position:"absolute",left:-65535}),e.getBody().appendChild(l);const u=r("fontSize"),d=/px$/.test(u)?parseInt(u,10):0;return Li(s.split(" "),f=>{let h=r(f,c);if(!(f==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(h)&&(h=r(f),Xr(h).toLowerCase()==="#ffffff"))&&!(f==="color"&&Xr(h).toLowerCase()==="#000000")){if(f==="font-size"&&/em|%$/.test(h)){if(d===0)return;h=parseFloat(h)/(/%$/.test(h)?100:1)*d+"px"}f==="border"&&h&&(n+="padding:0 2px;"),n+=f+":"+h+";"}}),e.dispatch("AfterPreviewFormats"),tn.remove(l),n},hO=e=>{e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(let t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},ub=e=>{const t=uO(e),n=et({});return hO(e),mR(e),Wn(e)||IR(n,e),{get:t.get,has:t.has,register:t.register,unregister:t.unregister,apply:(s,o,r)=>{hD(e,s,o,r)},remove:(s,o,r,a)=>{gD(e,s,o,r,a)},toggle:(s,o,r)=>{pD(e,s,o,r)},match:(s,o,r,a)=>cD(e,s,o,r,a),closest:s=>mD(e,s),matchAll:(s,o)=>uD(e,s,o),matchNode:(s,o,r,a)=>dD(e,s,o,r,a),canApply:s=>fD(e,s),formatChanged:(s,o,r,a)=>vD(e,n,s,o,r,a),getCssText:K(mO,e)}},db=e=>{switch(e.toLowerCase()){case"undo":case"redo":case"mcefocus":return!0;default:return!1}},gO=(e,t,n)=>{const s=et(!1),o=i=>{Ri(t,!1,n),t.add({},i)};e.on("init",()=>{t.add()}),e.on("BeforeExecCommand",i=>{const c=i.command;db(c)||(L4(t,n),t.beforeChange())}),e.on("ExecCommand",i=>{const c=i.command;db(c)||o(i)}),e.on("ObjectResizeStart cut",()=>{t.beforeChange()}),e.on("SaveContent ObjectResized blur",o),e.on("dragend",o),e.on("keyup",i=>{const c=i.keyCode;if(i.isDefaultPrevented())return;const u=ve.os.isMacOS()&&i.key==="Meta";(c>=33&&c<=36||c>=37&&c<=40||c===45||i.ctrlKey||u)&&(o(),e.nodeChanged()),(c===46||c===8)&&e.nodeChanged(),s.get()&&t.typing&&!Hd(Ti(e),t.data[0])&&(e.isDirty()||e.setDirty(!0),e.dispatch("TypingUndo"),s.set(!1),e.nodeChanged())}),e.on("keydown",i=>{const c=i.keyCode;if(i.isDefaultPrevented())return;if(c>=33&&c<=36||c>=37&&c<=40||c===45){t.typing&&o(i);return}const u=i.ctrlKey&&!i.altKey||i.metaKey;if((c<16||c>20)&&c!==224&&c!==91&&!t.typing&&!u){t.beforeChange(),Ri(t,!0,n),t.add({},i),s.set(!0);return}(ve.os.isMacOS()?i.metaKey:i.ctrlKey&&!i.altKey)&&t.beforeChange()}),e.on("mousedown",i=>{t.typing&&o(i)});const r=i=>i.inputType==="insertReplacementText",a=i=>i.inputType==="insertText"&&i.data===null,l=i=>i.inputType==="insertFromPaste"||i.inputType==="insertFromDrop";e.on("input",i=>{i.inputType&&(r(i)||a(i)||l(i))&&o(i)}),e.on("AddUndo Undo Redo ClearUndos",i=>{i.isDefaultPrevented()||e.nodeChanged()})},pO=e=>{e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},fb=e=>{const t=os(),n=et(0),s=et(0),o={data:[],typing:!1,beforeChange:()=>{QM(e,n,t)},add:(r,a)=>JM(e,o,s,n,t,r,a),dispatchChange:()=>{e.setDirty(!0);const r=Ti(e);r.bookmark=zu(e.selection),e.dispatch("change",{level:r,lastLevel:Tr(o.data,s.get()).getOrUndefined()})},undo:()=>eD(e,o,n,s),redo:()=>tD(e,s,o.data),clear:()=>{nD(e,o,s)},reset:()=>{sD(e,o)},hasUndo:()=>oD(e,o,s),hasRedo:()=>rD(e,o,s),transact:r=>aD(e,o,n,r),ignore:r=>{lD(e,n,r)},extra:(r,a)=>{iD(e,o,s,r,a)}};return Wn(e)||gO(e,o,n),pO(e),o},vO=[9,27,W.HOME,W.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,W.DOWN,W.UP,W.LEFT,W.RIGHT].concat(ve.browser.isFirefox()?[224]:[]),mb="data-mce-placeholder",hb=e=>e.type==="keydown"||e.type==="keyup",gb=e=>{const t=e.keyCode;return t===W.BACKSPACE||t===W.DELETE},bO=e=>{if(hb(e)){const t=e.keyCode;return!gb(e)&&(W.metaKeyPressed(e)||e.altKey||t>=112&&t<=123||Ee(vO,t))}else return!1},CO=e=>hb(e)&&!(gb(e)||e.type==="keyup"&&e.keyCode===229),yO=(e,t,n)=>{if(e.isEmpty(t,void 0,{skipBogus:!1,includeZwsp:!0})){const s=t.firstElementChild;return s?e.getStyle(t.firstElementChild,"padding-left")||e.getStyle(t.firstElementChild,"padding-right")?!1:n===s.nodeName.toLowerCase():!0}else return!1},EO=e=>{var t;const n=e.dom,s=mt(e),o=(t=NS(e))!==null&&t!==void 0?t:"",r=(a,l)=>{if(bO(a))return;const i=e.getBody(),c=CO(a)?!1:yO(n,i,s);(n.getAttrib(i,mb)!==""!==c||l)&&(n.setAttrib(i,mb,c?o:null),U7(e,c),e.on(c?"keydown":"keyup",r),e.off(c?"keyup":"keydown",r))};Rn(o)&&e.on("init",a=>{r(a,!0),e.on("change SetContent ExecCommand",r),e.on("paste",l=>Jt.setEditorTimeout(e,()=>r(l)))})},wO=(e,t)=>({block:e,position:t}),SO=(e,t)=>({from:e,to:t}),Ud=(e,t)=>{const n=b.fromDom(e),s=b.fromDom(t.container());return bi(n,s).map(o=>wO(o,t))},kO=e=>!(bn(e.to.block,e.from.block)||bn(e.from.block,e.to.block)),xO=e=>!Ce(e.from.block,e.to.block),pb=(e,t)=>vs(t,o=>la(o)||ln(o.dom),o=>Ce(o,e)).filter(Zt).getOr(e),_O=(e,t)=>{const n=b.fromDom(e);return Ce(pb(n,t.from.block),pb(n,t.to.block))},AO=e=>_e(e.from.block.dom)===!1&&_e(e.to.block.dom)===!1,NO=e=>{const t=n=>g0(n)||du(n.dom)||Zo(n);return t(e.from.block)&&t(e.to.block)},TO=(e,t,n,s)=>De(s.position.getNode())&&!ft(e,s.block)?Go(!1,s.block.dom).bind(o=>o.isEqual(s.position)?Gt(n,t,o).bind(r=>Ud(t,r)):m.some(s)).getOr(s):s,RO=(e,t,n,s)=>{const o=Ud(t,A.fromRangeStart(s)),r=o.bind(a=>Gt(n,t,a.position).bind(l=>Ud(t,l).map(i=>TO(e,t,n,i))));return ct(o,r,SO).filter(a=>xO(a)&&_O(t,a)&&AO(a)&&NO(a)&&kO(a))},PO=(e,t,n,s)=>s.collapsed?RO(e,t,n,s):m.none(),MO=(e,t)=>{const n=ut(e);return Ar(n,s=>t.isBlock(pe(s))).fold(j(n),s=>n.slice(0,s))},vb=(e,t)=>{const n=MO(e,t);return R(n,Ne),n},bb=(e,t,n)=>{const s=ls(n,t);return Ke(s.reverse(),o=>ft(e,o)).each(Ne)},DO=(e,t)=>se(sh(t),n=>!ft(e,n)).length===0,OO=(e,t,n,s,o)=>{if(ft(s,n))return ws(n),ht(n.dom);DO(s,o)&&ft(s,t)&&Ot(o,b.fromTag("br"));const r=Bt(n.dom,A.before(o.dom));return R(vb(t,s),a=>{Ot(o,a)}),bb(s,e,t),r},BO=(e,t)=>e.isInline(pe(t)),LO=(e,t,n,s)=>{if(ft(s,n)){if(ft(s,t)){const a=_r((l=>{const i=(c,u)=>Uc(c).fold(()=>u,d=>BO(s,d)?i(d,u.concat(Xs(d))):u);return i(l,[])})(n),(l,i)=>(dh(l,i),i),Fo());Oo(t),Ve(t,a)}return Ne(n),ht(t.dom)}const o=cn(n.dom);return R(vb(t,s),r=>{Ve(n,r)}),bb(s,e,t),o},HO=(e,t)=>{const n=ls(t,e);return m.from(n[n.length-1])},IO=(e,t)=>bn(t,e)?HO(t,e):m.none(),Cb=(e,t)=>{Go(e,t.dom).bind(n=>m.from(n.getNode())).map(b.fromDom).filter(Js).each(Ne)},yb=(e,t,n,s)=>(Cb(!0,t),Cb(!1,n),IO(t,n).fold(K(LO,e,t,n,s),K(OO,e,t,n,s))),Eb=(e,t,n,s,o)=>t?yb(e,s,n,o):yb(e,n,s,o),Wd=(e,t)=>{const n=b.fromDom(e.getBody());return PO(e.schema,n.dom,t,e.selection.getRng()).map(o=>()=>{Eb(n,t,o.from.block,o.to.block,e.schema).each(r=>{e.selection.setRng(r.toRange())})})},$O=(e,t,n)=>{const s=t.getRng();return ct(bi(e,b.fromDom(s.startContainer)),bi(e,b.fromDom(s.endContainer)),(o,r)=>Ce(o,r)?m.none():m.some(()=>{s.deleteContents(),Eb(e,!0,o,r,n).each(a=>{t.setRng(a.toRange())})})).getOr(m.none())},wb=(e,t)=>{const n=b.fromDom(t),s=K(Ce,e);return ts(n,la,s).isSome()},ZO=(e,t)=>wb(e,t.startContainer)||wb(e,t.endContainer),FO=(e,t)=>{const n=Bt(e.dom,A.fromRangeStart(t)).isNone(),s=Tt(e.dom,A.fromRangeEnd(t)).isNone();return!ZO(e,t)&&n&&s},zO=e=>m.some(()=>{e.setContent(""),e.selection.setCursorLocation()}),VO=e=>{const t=b.fromDom(e.getBody()),n=e.selection.getRng();return FO(t,n)?zO(e):$O(t,e.selection,e.schema)},jd=(e,t)=>e.selection.isCollapsed()?m.none():VO(e),cs=(e,t,n,s,o)=>m.from(t._selectionOverrides.showCaret(e,n,s,o)),UO=e=>{const t=e.ownerDocument.createRange();return t.selectNode(e),t},za=(e,t)=>e.dispatch("BeforeObjectSelected",{target:t}).isDefaultPrevented()?m.none():m.some(UO(t)),WO=(e,t,n)=>{const s=Qu(1,e.getBody(),t),o=A.fromRangeStart(s),r=o.getNode();if(ha(r))return cs(1,e,r,!o.isAtEnd(),!1);const a=o.getNode(!0);if(ha(a))return cs(1,e,a,!1,!1);const l=fo(e.dom.getRoot(),o.getNode());return ha(l)?cs(1,e,l,!1,n):m.none()},qd=(e,t,n)=>t.collapsed?WO(e,t,n).getOr(t):t,jO=e=>Rs(e)||_a(e),qO=e=>Ps(e)||Aa(e),KO=(e,t)=>{O(t)&&t.data.length===0&&e.remove(t)},Sb=(e,t,n,s,o,r)=>{cs(s,e,r.getNode(!o),o,!0).each(a=>{if(t.collapsed){const l=t.cloneRange();o?l.setEnd(a.startContainer,a.startOffset):l.setStart(a.endContainer,a.endOffset),l.deleteContents()}else t.deleteContents();e.selection.setRng(a)}),KO(e.dom,n)},GO=(e,t)=>{const n=e.selection.getRng();if(!O(n.commonAncestorContainer))return m.none();const s=t?1:-1,o=zn(e.getBody()),r=K(Ju,t?o.next:o.prev),a=t?jO:qO,l=Ca(s,e.getBody(),n),i=r(l),c=i&&en(t,i);if(!c||!Yl(l,c))return m.none();if(a(c))return m.some(()=>Sb(e,n,l.getNode(),s,t,c));const u=r(c);return u&&a(u)&&Yl(c,u)?m.some(()=>Sb(e,n,l.getNode(),s,t,u)):m.none()},Kd=(e,t)=>GO(e,t),Gd=(e,t)=>{const n=e.getBody();return t?ht(n).filter(Rs):cn(n).filter(Ps)},Yd=e=>{const t=e.selection.getRng();return!t.collapsed&&(Gd(e,!0).exists(n=>n.isEqual(A.fromRangeStart(t)))||Gd(e,!1).exists(n=>n.isEqual(A.fromRangeEnd(t))))},YO=e=>$(e)&&(la(b.fromDom(e))||Zo(b.fromDom(e))),Vt=$n.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),XO=(e,t)=>{const n=t.getNode(!e),s=e?"after":"before";return q(n)&&n.getAttribute("data-mce-caret")===s},QO=(e,t,n,s,o)=>{const r=a=>o.isInline(a.nodeName.toLowerCase())&&!Zn(n,s,e);return Dg(!t,n).fold(()=>Dg(t,s).fold(Pe,r),r)},kb=(e,t,n,s,o)=>{const r=o.getNode(!n);return bi(b.fromDom(t),b.fromDom(s.getNode())).map(a=>ft(e,a)?Vt.remove(a.dom):Vt.moveToElement(r)).orThunk(()=>m.some(Vt.moveToElement(r)))},xb=(e,t,n,s)=>Gt(t,e,n).bind(o=>YO(o.getNode())||QO(e,t,n,o,s)?m.none():t&&_e(o.getNode())||!t&&_e(o.getNode(!0))?kb(s,e,t,n,o):t&&Ps(n)||!t&&Rs(n)?m.some(Vt.moveToPosition(o)):m.none()),JO=(e,t)=>ze(t)?m.none():e&&_e(t.nextSibling)?m.some(Vt.moveToElement(t.nextSibling)):!e&&_e(t.previousSibling)?m.some(Vt.moveToElement(t.previousSibling)):m.none(),eB=(e,t,n)=>n.fold(s=>m.some(Vt.remove(s)),s=>m.some(Vt.moveToElement(s)),s=>Zn(t,s,e)?m.none():m.some(Vt.moveToPosition(s))),tB=(e,t,n,s)=>XO(t,n)?JO(t,n.getNode(!t)).orThunk(()=>xb(e,t,n,s)):xb(e,t,n,s).bind(o=>eB(e,n,o)),nB=(e,t,n,s)=>{const o=Qu(t?1:-1,e,n),r=A.fromRangeStart(o),a=b.fromDom(e);return!t&&Ps(r)?m.some(Vt.remove(r.getNode(!0))):t&&Rs(r)?m.some(Vt.remove(r.getNode())):!t&&Rs(r)&&gi(a,r,s)?p2(a,r,s).map(l=>Vt.remove(l.getNode())):t&&Ps(r)&&$1(a,r,s)?UA(a,r,s).map(l=>Vt.remove(l.getNode())):tB(e,t,r,s)},sB=(e,t)=>n=>(e._selectionOverrides.hideFakeCaret(),co(e,t,b.fromDom(n)),!0),oB=(e,t)=>n=>{const s=t?A.before(n):A.after(n);return e.selection.setRng(s.toRange()),!0},rB=e=>t=>(e.selection.setRng(t.toRange()),!0),_b=(e,t)=>m.from(fo(e.getBody(),t)),aB=(e,t)=>{const n=e.selection.getNode();return _b(e,n).filter(_e).fold(()=>nB(e.getBody(),t,e.selection.getRng(),e.schema).map(s=>()=>s.fold(sB(e,t),oB(e,t),rB(e))),()=>m.some(ie))},lB=e=>{R(dt(e,".mce-offscreen-selection"),Ne)},iB=(e,t)=>{const n=e.selection.getNode();return _e(n)&&!Nl(n)?_b(e,n.parentNode).filter(_e).fold(()=>m.some(()=>{lB(b.fromDom(e.getBody())),co(e,t,b.fromDom(e.selection.getNode())),U1(e)}),()=>m.some(ie)):Yd(e)?m.some(()=>{I2(e,e.selection.getRng(),b.fromDom(e.getBody()))}):m.none()},Ab=e=>{const t=e.dom,n=e.selection,s=fo(e.getBody(),n.getNode());if(ln(s)&&t.isBlock(s)&&t.isEmpty(s)){const o=t.create("br",{"data-mce-bogus":"1"});t.setHTML(s,""),s.appendChild(o),n.setRng(A.before(o).toRange())}return!0},Xd=(e,t)=>e.selection.isCollapsed()?aB(e,t):iB(e,t),Nb=e=>e.hasOwnProperty("text"),Tb=e=>e.hasOwnProperty("marker"),Rb=(e,t)=>{const n=(r,a)=>{if(O(r))return{text:r,offset:a};{const l=t(),i=r.childNodes;return a<i.length?(r.insertBefore(l,i[a]),{marker:l,before:!0}):(r.appendChild(l),{marker:l,before:!1})}},s=n(e.endContainer,e.endOffset);return{start:n(e.startContainer,e.startOffset),end:s}},Pb=e=>{var t,n;const{start:s,end:o}=e,r=new window.Range;return Nb(s)?r.setStart(s.text,s.offset):Tb(s)&&(s.before?r.setStartBefore(s.marker):r.setStartAfter(s.marker),(t=s.marker.parentNode)===null||t===void 0||t.removeChild(s.marker)),Nb(o)?r.setEnd(o.text,o.offset):Tb(o)&&(o.before?r.setEndBefore(o.marker):r.setEndAfter(o.marker),(n=o.marker.parentNode)===null||n===void 0||n.removeChild(o.marker)),r},Qd=(e,t)=>{var n;const s=e.dom,o=s.getParent(e.selection.getStart(),s.isBlock),r=s.getParent(e.selection.getEnd(),s.isBlock),a=e.getBody();if(((n=o?.nodeName)===null||n===void 0?void 0:n.toLowerCase())==="div"&&o&&r&&o===a.firstChild&&r===a.lastChild&&!s.isEmpty(a)){const i=o.cloneNode(!1),c=()=>{if(t?B2(e):vi(e),a.firstChild!==o){const u=Rb(e.selection.getRng(),()=>document.createElement("span"));Array.from(a.childNodes).forEach(d=>i.appendChild(d)),a.appendChild(i),e.selection.setRng(Pb(u))}};return m.some(c)}return m.none()},cB=(e,t)=>{const n=A.fromRangeStart(e.selection.getRng());return Gt(t,e.getBody(),n).filter(s=>t?LA(s):HA(s)).bind(s=>Xu(t?0:-1,s)).map(s=>()=>e.selection.select(s))},Jd=(e,t)=>e.selection.isCollapsed()?cB(e,t):m.none(),lr=O,Mb=e=>lr(e)&&e.data[0]===Xe,Db=e=>lr(e)&&e.data[e.data.length-1]===Xe,Ob=e=>{var t;return((t=e.ownerDocument)!==null&&t!==void 0?t:document).createTextNode(Xe)},uB=e=>{var t;if(lr(e.previousSibling))return Db(e.previousSibling)||e.previousSibling.appendData(Xe),e.previousSibling;if(lr(e))return Mb(e)||e.insertData(0,Xe),e;{const n=Ob(e);return(t=e.parentNode)===null||t===void 0||t.insertBefore(n,e),n}},dB=e=>{var t,n;if(lr(e.nextSibling))return Mb(e.nextSibling)||e.nextSibling.insertData(0,Xe),e.nextSibling;if(lr(e))return Db(e)||e.appendData(Xe),e;{const s=Ob(e);return e.nextSibling?(t=e.parentNode)===null||t===void 0||t.insertBefore(s,e.nextSibling):(n=e.parentNode)===null||n===void 0||n.appendChild(s),s}},Hi=(e,t)=>e?uB(t):dB(t),fB=K(Hi,!0),mB=K(Hi,!1),Bb=(e,t)=>O(e.container())?Hi(t,e.container()):Hi(t,e.getNode()),Lb=(e,t)=>{const n=t.get();return n&&e.container()===n&&Ss(n)},ef=(e,t)=>t.fold(n=>{no(e.get());const s=fB(n);return e.set(s),m.some(A(s,s.length-1))},n=>ht(n).map(s=>{if(Lb(s,e)){const o=e.get();return A(o,1)}else{no(e.get());const o=Bb(s,!0);return e.set(o),A(o,1)}}),n=>cn(n).map(s=>{if(Lb(s,e)){const o=e.get();return A(o,o.length-1)}else{no(e.get());const o=Bb(s,!1);return e.set(o),A(o,o.length-1)}}),n=>{no(e.get());const s=mB(n);return e.set(s),m.some(A(s,1))}),Hb=(e,t)=>{for(let n=0;n<e.length;n++){const s=e[n].apply(null,t);if(s.isSome())return s}return m.none()},Et=$n.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Ib=(e,t)=>{const n=_s(t,e);return n||e},hB=(e,t,n)=>{const s=M2(n),o=Ib(t,s.container());return Ms(e,o,s).fold(()=>Tt(o,s).bind(K(Ms,e,o)).map(r=>Et.before(r)),m.none)},gB=(e,t)=>oo(e,t)===null,$b=(e,t,n)=>Ms(e,t,n).filter(K(gB,t)),pB=(e,t,n)=>{const s=D2(n);return $b(e,t,s).bind(o=>Bt(o,s).isNone()?m.some(Et.start(o)):m.none())},vB=(e,t,n)=>{const s=M2(n);return $b(e,t,s).bind(o=>Tt(o,s).isNone()?m.some(Et.end(o)):m.none())},bB=(e,t,n)=>{const s=D2(n),o=Ib(t,s.container());return Ms(e,o,s).fold(()=>Bt(o,s).bind(K(Ms,e,o)).map(r=>Et.after(r)),m.none)},Zb=e=>!P2(tf(e)),jn=(e,t,n)=>Hb([hB,pB,vB,bB],[e,t,n]).filter(Zb),tf=e=>e.fold(bt,bt,bt,bt),Fb=e=>e.fold(j("before"),j("start"),j("end"),j("after")),Ii=e=>e.fold(Et.before,Et.before,Et.after,Et.after),nf=e=>e.fold(Et.start,Et.start,Et.end,Et.end),CB=(e,t)=>Fb(e)===Fb(t)&&tf(e)===tf(t),yB=(e,t,n,s,o,r)=>ct(Ms(t,n,s),Ms(t,n,o),(a,l)=>a!==l&&wN(n,a,l)?Et.after(e?a:l):r).getOr(r),EB=(e,t)=>e.fold($e,n=>!CB(n,t)),wB=(e,t,n,s,o)=>{const r=en(e,o);return Gt(e,n,r).map(K(en,e)).fold(()=>s.map(Ii),i=>jn(t,n,i).map(K(yB,e,t,n,r,i)).filter(K(EB,s))).filter(Zb)},SB=(e,t)=>e?t.fold(pn(m.some,Et.start),m.none,pn(m.some,Et.after),m.none):t.fold(m.none,pn(m.some,Et.before),m.none,pn(m.some,Et.end)),kB=(e,t,n,s)=>{const o=en(e,s),r=jn(t,n,o);return jn(t,n,o).bind(K(SB,e)).orThunk(()=>wB(e,t,n,r,s))},xB=e=>we(e.selection.getSel().modify),zb=(e,t,n)=>{const s=e?1:-1;return t.setRng(A(n.container(),n.offset()+s).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},_B=(e,t)=>{const n=t.selection.getRng(),s=e?A.fromRangeEnd(n):A.fromRangeStart(n);return xB(t)?e&&Pu(s)?zb(!0,t.selection,s):!e&&Mu(s)?zb(!1,t.selection,s):!1:!1};var qn;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(qn||(qn={}));const $i=(e,t)=>e===-1?Nr(t):t,AB=(e,t,n)=>e===1?t.next(n):t.prev(n),NB=(e,t,n,s)=>De(s.getNode(t===1))?qn.Br:Zn(n,s)===!1?qn.Block:qn.Wrap,Vb=(e,t,n,s)=>{const o=zn(n);let r=s;const a=[];for(;r;){const l=AB(t,o,r);if(!l)break;if(De(l.getNode(!1)))return t===1?{positions:$i(t,a).concat([l]),breakType:qn.Br,breakAt:m.some(l)}:{positions:$i(t,a),breakType:qn.Br,breakAt:m.some(l)};if(!l.isVisible()){r=l;continue}if(e(r,l)){const i=NB(n,t,r,l);return{positions:$i(t,a),breakType:i,breakAt:m.some(l)}}a.push(l),r=l}return{positions:$i(t,a),breakType:qn.Eol,breakAt:m.none()}},Ub=(e,t,n,s)=>t(n,s).breakAt.map(o=>{const r=t(n,o).positions;return e===-1?r.concat(o):[o].concat(r)}).getOr([]),sf=(e,t)=>Mt(e,(n,s)=>n.fold(()=>m.some(s),o=>ct(_t(o.getClientRects()),_t(s.getClientRects()),(r,a)=>{const l=Math.abs(t-r.left);return Math.abs(t-a.left)<=l?s:o}).or(n)),m.none()),Zi=(e,t)=>_t(t.getClientRects()).bind(n=>sf(e,n.left)),Va=K(Vb,A.isAbove,-1),Ua=K(Vb,A.isBelow,1),Wb=K(Ub,-1,Va),jb=K(Ub,1,Ua),qb=(e,t)=>Va(e,t).breakAt.isNone(),Kb=(e,t)=>Ua(e,t).breakAt.isNone(),TB=e=>ht(e).map(t=>[t].concat(Ua(e,t).positions)).getOr([]),RB=e=>cn(e).map(t=>Va(e,t).positions.concat(t)).getOr([]),PB=(e,t)=>Zi(Wb(e,t),t),MB=(e,t)=>Zi(jb(e,t),t),DB=_e,Gb=(e,t)=>Math.abs(e.left-t),Yb=(e,t)=>Math.abs(e.right-t),OB=e=>_o(e,"node"),Xb=(e,t)=>pl(e,(n,s)=>{const o=Math.min(Gb(n,t),Yb(n,t)),r=Math.min(Gb(s,t),Yb(s,t));return r===o&&OB(s)&&DB(s.node)||r<o?s:n}),BB=e=>{const t=n=>ge(n,s=>{const o=eo(s);return o.node=e,o});if(q(e))return t(e.getClientRects());if(O(e)){const n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}else return[]},Qb=e=>qt(e,BB);var vo;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(vo||(vo={}));const LB=(e,t,n,s)=>{let o=s;for(;o=pa(o,e,k0,t);)if(n(o))return},Jb=(e,t,n,s,o,r)=>{let a=0;const l=[],i=d=>{let f=Qb([d]);e===vo.Up&&(f=f.reverse());for(let h=0;h<f.length;h++){const p=f[h];if(!n(p,c)){if(l.length>0&&t(p,Zs(l))&&a++,p.line=a,o(p))return!0;l.push(p)}}return!1},c=Zs(r.getClientRects());if(!c)return l;const u=r.getNode();return u&&(i(u),LB(e,s,i,u)),l},HB=(e,t)=>t.line>e,IB=(e,t)=>t.line===e,$B=K(Jb,vo.Up,ia,ca),ZB=K(Jb,vo.Down,ca,ia),e3=e=>Zs(e.getClientRects()),FB=(e,t,n,s)=>{const o=zn(t);let r,a,l,i;const c=[];let u=0;e===vo.Down?(r=o.next,a=ca,l=ia,i=A.after(s)):(r=o.prev,a=ia,l=ca,i=A.before(s));const d=e3(i);do{if(!i.isVisible())continue;const f=e3(i);if(l(f,d))continue;c.length>0&&a(f,Zs(c))&&u++;const h=eo(f);if(h.position=i,h.line=u,n(h))return c;c.push(h)}while(i=r(i));return c},t3=e=>t=>HB(e,t),of=e=>t=>IB(e,t),us=(e,t)=>{e.selection.setRng(t),xa(e,e.selection.getRng())},rf=(e,t,n)=>m.some(qd(e,t,n)),n3=(e,t,n,s,o,r)=>{const a=t===1,l=zn(e.getBody()),i=K(Ju,a?l.next:l.prev),c=a?s:o;if(!n.collapsed){const p=Zl(n);if(r(p))return cs(t,e,p,t===-1,!1);if(Yd(e)){const g=n.cloneRange();return g.collapse(t===-1),m.from(g)}}const u=Ca(t,e.getBody(),n);if(c(u))return za(e,u.getNode(!a));let d=i(u);const f=v0(n);if(d)d=en(a,d);else return f?m.some(n):m.none();if(c(d))return cs(t,e,d.getNode(!a),a,!1);const h=i(d);return h&&c(h)&&Yl(d,h)?cs(t,e,h.getNode(!a),a,!1):f?rf(e,d.toRange(),!1):m.none()},s3=(e,t,n,s,o,r)=>{const a=Ca(t,e.getBody(),n),l=Zs(a.getClientRects()),i=t===vo.Down,c=e.getBody();if(!l)return m.none();if(Yd(e)){const v=i?A.fromRangeEnd(n):A.fromRangeStart(n);return(i?MB:PB)(c,v).orThunk(()=>m.from(v)).map(y=>y.toRange())}const d=(i?ZB:$B)(c,t3(1),a),f=se(d,of(1)),h=l.left,p=Xb(f,h);if(p&&r(p.node)){const v=Math.abs(h-p.left),C=Math.abs(h-p.right);return cs(t,e,p.node,v<C,!1)}let g;if(s(a)?g=a.getNode():o(a)?g=a.getNode(!0):g=Zl(n),g){const v=FB(t,c,t3(1),g);let C=Xb(se(v,of(1)),h);if(C||(C=Zs(se(v,of(0))),C))return rf(e,C.position.toRange(),!1)}return f.length===0?af(e,i).filter(i?o:s).map(v=>qd(e,v.toRange(),!1)):m.none()},af=(e,t)=>{const n=e.selection.getRng(),s=t?A.fromRangeEnd(n):A.fromRangeStart(n),o=Wk(s.container(),e.getBody());if(t){const r=Ua(o,s);return ms(r.positions)}else{const r=Va(o,s);return _t(r.positions)}},o3=(e,t,n)=>af(e,t).filter(n).exists(s=>(e.selection.setRng(s.toRange()),!0)),Fi=(e,t)=>{const n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},r3=(e,t)=>{e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},a3=(e,t,n)=>ef(t,n).map(s=>(Fi(e,s),n)),zB=(e,t,n)=>{const s=A.fromRangeStart(e);if(e.collapsed)return s;{const o=A.fromRangeEnd(e);return n?Bt(t,o).getOr(o):Tt(t,s).getOr(s)}},VB=(e,t,n)=>{const s=e.getBody(),o=zB(e.selection.getRng(),s,n),r=K(uo,e);return kB(n,r,s,o).bind(l=>a3(e,t,l))},UB=(e,t,n)=>{const s=ge(dt(b.fromDom(t.getRoot()),'*[data-mce-selected="inline-boundary"]'),a=>a.dom),o=se(s,e),r=se(n,e);R(ml(o,r),K(r3,!1)),R(ml(r,o),K(r3,!0))},WB=(e,t)=>{const n=t.get();if(e.selection.isCollapsed()&&!e.composing&&n){const s=A.fromRangeStart(e.selection.getRng());A.isTextPosition(s)&&!SN(s)&&(Fi(e,Dk(n,s)),t.set(null))}},jB=(e,t,n,s)=>{if(t.selection.isCollapsed()){const o=se(s,e);R(o,r=>{const a=A.fromRangeStart(t.selection.getRng());jn(e,t.getBody(),a).bind(l=>a3(t,n,l))})}},l3=(e,t,n)=>ma(e)?VB(e,t,n).isSome():!1,i3=(e,t,n)=>ma(t)?_B(e,t):!1,qB=e=>{const t=et(null),n=K(uo,e);return e.on("NodeChange",s=>{ma(e)&&(UB(n,e.dom,s.parents),WB(e,t),jB(n,e,t,s.parents))}),t},KB=K(i3,!0),GB=K(i3,!1),zi=(e,t,n)=>{if(ma(e)){const s=af(e,t).getOrThunk(()=>{const o=e.selection.getRng();return t?A.fromRangeEnd(o):A.fromRangeStart(o)});return jn(K(uo,e),e.getBody(),s).exists(o=>{const r=Ii(o);return ef(n,r).exists(a=>(Fi(e,a),!0))})}else return!1},YB=(e,t)=>{const n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},XB=e=>ct(ht(e),cn(e),(t,n)=>{const s=en(!0,t),o=en(!1,n);return Tt(e,s).forall(r=>r.isEqual(o))}).getOr(!0),c3=(e,t)=>n=>ef(t,n).map(s=>()=>Fi(e,s)),u3=(e,t,n,s)=>{const o=e.getBody(),r=K(uo,e);e.undoManager.ignore(()=>{e.selection.setRng(YB(n,s)),vi(e),jn(r,o,A.fromRangeStart(e.selection.getRng())).map(nf).bind(c3(e,t)).each(xr)}),e.nodeChanged()},QB=(e,t)=>{const n=_s(t,e);return n||e},JB=(e,t,n,s)=>{const o=QB(e.getBody(),s.container()),r=K(uo,e),a=jn(r,o,s);return a.bind(i=>n?i.fold(j(m.some(nf(i))),m.none,j(m.some(Ii(i))),m.none):i.fold(m.none,j(m.some(Ii(i))),m.none,j(m.some(nf(i))))).map(c3(e,t)).getOrThunk(()=>{const i=Ko(n,o,s),c=i.bind(u=>jn(r,o,u));return ct(a,c,()=>Ms(r,o,s).bind(u=>XB(u)?m.some(()=>{co(e,n,b.fromDom(u))}):m.none())).getOrThunk(()=>c.bind(()=>i.map(u=>()=>{n?u3(e,t,s,u):u3(e,t,u,s)})))})},lf=(e,t,n)=>{if(e.selection.isCollapsed()&&ma(e)){const s=A.fromRangeStart(e.selection.getRng());return JB(e,t,n,s)}return m.none()},eL=e=>jc(e)>1,d3=(e,t)=>{const n=b.fromDom(e.getBody()),s=b.fromDom(e.selection.getStart()),o=ls(s,n);return Ar(o,t).fold(j(o),r=>o.slice(0,r))},tL=e=>jc(e)===1,nL=e=>d3(e,t=>e.schema.isBlock(pe(t))||eL(t)),sL=e=>d3(e,t=>e.schema.isBlock(pe(t))),f3=(e,t)=>{const n=K(fv,e);return qt(t,s=>n(s)?[s.dom]:[])},m3=e=>{const t=sL(e);return f3(e,t)},oL=(e,t,n,s)=>{const o=f3(t,s);if(o.length===0)co(t,e,n);else{const r=dv(n.dom,o);t.selection.setRng(r.toRange())}},rL=(e,t)=>{const n=se(nL(e),tL);return ms(n).bind(s=>{const o=A.fromRangeStart(e.selection.getRng());return L2(t,o,s.dom)&&!v1(s)?m.some(()=>oL(t,e,s,n)):m.none()})},aL=(e,t)=>{const n=t.parentElement;return De(t)&&!vt(n)&&e.dom.isEmpty(n)},lL=e=>v1(b.fromDom(e)),h3=(e,t)=>{const n=e.selection.getStart(),s=aL(e,n)||lL(n)?dv(n,t):hR(e.selection.getRng(),t);e.selection.setRng(s.toRange())},iL=(e,t)=>{const n=ml(t,m3(e));n.length>0&&h3(e,n)},g3=e=>O(e.startContainer),cL=e=>e.startOffset===0&&g3(e),uL=(e,t)=>{const n=t.startContainer.parentElement;return!vt(n)&&fv(e,b.fromDom(n))},dL=e=>{const t=e.startContainer.parentNode,n=e.endContainer.parentNode;return!vt(t)&&!vt(n)&&t.isEqualNode(n)},fL=e=>{const t=e.endContainer;return e.endOffset===(O(t)?t.length:t.childNodes.length)},mL=e=>dL(e)&&fL(e),hL=e=>!e.endContainer.isEqualNode(e.commonAncestorContainer),gL=e=>mL(e)||hL(e),pL=e=>{const t=e.selection.getRng();return cL(t)&&uL(e,t)&&gL(t)},vL=e=>{if(pL(e)){const t=m3(e);return m.some(()=>{vi(e),iL(e,t)})}else return m.none()},cf=(e,t)=>e.selection.isCollapsed()?rL(e,t):vL(e),bL=(e,t)=>Ch(e,n=>Yt(n.dom),n=>t.isBlock(pe(n))),CL=e=>bL(b.fromDom(e.selection.getStart()),e.schema),yL=e=>{const t=e.selection.getRng();return t.collapsed&&(g3(t)||e.dom.isEmpty(t.startContainer))&&!CL(e)},Wa=e=>(yL(e)&&h3(e,[]),!0),uf=(e,t,n)=>$(n)?m.some(()=>{e._selectionOverrides.hideFakeCaret(),co(e,t,b.fromDom(n))}):m.none(),EL=(e,t)=>{const n=t?_a:Aa,o=Ca(t?1:-1,e.getBody(),e.selection.getRng());return n(o)?uf(e,t,o.getNode(!t)):m.from(en(t,o)).filter(r=>n(r)&&Yl(o,r)).bind(r=>uf(e,t,r.getNode(!t)))},wL=(e,t)=>{const n=e.selection.getNode();return In(n)?uf(e,t,n):m.none()},df=(e,t)=>e.selection.isCollapsed()?EL(e,t):wL(e,t),SL=e=>vs(e,t=>ln(t.dom)||_e(t.dom)).exists(t=>ln(t.dom)),ff=e=>vl(e??"").getOr(0),p3=(e,t)=>{const n=e||Ow(t)?"margin":"padding",s=Bn(t,"direction")==="rtl"?"-right":"-left";return n+s},kL=(e,t,n,s,o,r)=>{const a=p3(n,b.fromDom(r)),l=ff(e.getStyle(r,a));if(t==="outdent"){const i=Math.max(0,l-s);e.setStyle(r,a,i?i+o:"")}else{const i=l+s+o;e.setStyle(r,a,i)}},xL=(e,t)=>Xn(t,n=>{const s=p3(cg(e),n),o=Sl(n,s).map(ff).getOr(0);return e.dom.getContentEditable(n.dom)!=="false"&&o>0}),v3=e=>{const t=C3(e);return!e.mode.isReadOnly()&&(t.length>1||xL(e,t))},b3=e=>Ru(e)||Zo(e),_L=e=>On(e).exists(b3),C3=e=>se(Qc(e.selection.getSelectedBlocks()),t=>!b3(t)&&!_L(t)&&SL(t)),y3=(e,t)=>{var n,s;if(e.mode.isReadOnly())return;const{dom:o}=e,r=wS(e),a=(s=(n=/[a-z%]+$/i.exec(r))===null||n===void 0?void 0:n[0])!==null&&s!==void 0?s:"px",l=ff(r),i=cg(e);R(C3(e),c=>{kL(o,t,i,l,a,c.dom)})},AL=e=>y3(e,"indent"),E3=e=>y3(e,"outdent"),w3=e=>{if(e.selection.isCollapsed()&&v3(e)){const t=e.dom,n=e.selection.getRng(),s=A.fromRangeStart(n),o=t.getParent(n.startContainer,t.isBlock);if(o!==null&&I1(b.fromDom(o),s,e.schema))return m.some(()=>E3(e))}return m.none()},S3=(e,t,n)=>xo([w3,Xd,Kd,(s,o)=>lf(s,t,o),Wd,Q1,Jd,df,jd,cf,Qd],s=>s(e,n)).filter(s=>e.selection.isEditable()),NL=(e,t)=>{S3(e,t,!1).fold(()=>{e.selection.isEditable()&&(vi(e),U1(e))},xr)},TL=(e,t)=>{S3(e,t,!0).fold(()=>{e.selection.isEditable()&&B2(e)},xr)},RL=(e,t)=>{e.addCommand("delete",()=>{NL(e,t)}),e.addCommand("forwardDelete",()=>{TL(e,t)})},k3=5,PL=400,x3=e=>e.touches===void 0||e.touches.length!==1?m.none():m.some(e.touches[0]),ML=(e,t)=>{const n=Math.abs(e.clientX-t.x),s=Math.abs(e.clientY-t.y);return n>k3||s>k3},DL=e=>{const t=os(),n=et(!1),s=Nu(o=>{e.dispatch("longpress",{...o,type:"longpress"}),n.set(!0)},PL);e.on("touchstart",o=>{x3(o).each(r=>{s.cancel();const a={x:r.clientX,y:r.clientY,target:o.target};s.throttle(o),n.set(!1),t.set(a)})},!0),e.on("touchmove",o=>{s.cancel(),x3(o).each(r=>{t.on(a=>{ML(r,a)&&(t.clear(),n.set(!1),e.dispatch("longpresscancel"))})})},!0),e.on("touchend touchcancel",o=>{s.cancel(),o.type!=="touchcancel"&&t.get().filter(r=>r.target.isEqualNode(o.target)).each(()=>{n.get()?o.preventDefault():e.dispatch("tap",{...o,type:"tap"})})},!0)},mf=(e,t)=>oe(e,t.nodeName),OL=(e,t)=>O(t)?!0:q(t)?!mf(e.getBlockElements(),t)&&!Xt(t)&&!js(e,t)&&!iu(t):!1,BL=(e,t,n)=>Le(d2(b.fromDom(n),b.fromDom(t)),s=>mf(e,s.dom)),LL=(e,t)=>{if(O(t)){if(t.data.length===0)return!0;if(/^\s+$/.test(t.data))return!t.nextSibling||mf(e,t.nextSibling)||iu(t.nextSibling)}return!1},hf=e=>e.dom.create(mt(e),fa(e)),HL=e=>{const t=e.dom,n=e.selection,s=e.schema,o=s.getBlockElements(),r=n.getStart(),a=e.getBody();let l,i,c=null;const u=mt(e);if(!r||!q(r))return;const d=a.nodeName.toLowerCase();if(!s.isValidChild(d,u.toLowerCase())||BL(o,a,r))return;if(a.firstChild===a.lastChild&&De(a.firstChild)){l=hf(e),l.appendChild(Fo().dom),a.replaceChild(l,a.firstChild),e.selection.setCursorLocation(l,0),e.nodeChanged();return}let f=a.firstChild;for(;f;)if(q(f)&&C8(s,f),OL(s,f)){if(LL(o,f)){i=f,f=f.nextSibling,t.remove(i);continue}if(!l){if(!c&&e.hasFocus()&&(c=Rb(e.selection.getRng(),()=>document.createElement("span"))),!f.parentNode){f=null;break}l=hf(e),a.insertBefore(l,f)}i=f,f=f.nextSibling,l.appendChild(i)}else l=null,f=f.nextSibling;c&&(e.selection.setRng(Pb(c)),e.nodeChanged())},_3=(e,t,n)=>{const s=b.fromDom(hf(e)),o=Fo();Ve(s,o),n(t,s);const r=document.createRange();return r.setStartBefore(o.dom),r.setEndBefore(o.dom),r},IL=e=>{e.on("NodeChange",()=>HL(e))},A3=e=>t=>(" "+t.attr("class")+" ").indexOf(e)!==-1,$L=(e,t,n)=>function(s){const o=arguments,r=o[o.length-2],a=r>0?t.charAt(r-1):"";if(a==='"')return s;if(a===">"){const l=t.lastIndexOf("<",r);if(l!==-1&&t.substring(l,r).indexOf('contenteditable="false"')!==-1)return s}return'<span class="'+n+'" data-mce-content="'+e.dom.encode(o[0])+'">'+e.dom.encode(typeof o[1]=="string"?o[1]:o[0])+"</span>"},ZL=(e,t,n)=>{let s=t.length,o=n.content;if(n.format!=="raw"){for(;s--;)o=o.replace(t[s],$L(e,o,vg(e)));n.content=o}},FL=(e,t)=>Xn(e,n=>{const s=t.match(n);return s!==null&&s[0].length===t.length}),zL=e=>{const t="contenteditable",n=" "+L.trim(mk(e))+" ",s=" "+L.trim(vg(e))+" ",o=A3(n),r=A3(s),a=hk(e);a.length>0&&e.on("BeforeSetContent",l=>{ZL(e,a,l)}),e.parser.addAttributeFilter("class",l=>{let i=l.length;for(;i--;){const c=l[i];o(c)?c.attr(t,"true"):r(c)&&c.attr(t,"false")}}),e.serializer.addAttributeFilter(t,l=>{let i=l.length;for(;i--;){const c=l[i];if(!o(c)&&!r(c))continue;const u=c.attr("data-mce-content");a.length>0&&u?FL(a,u)?(c.name="#text",c.type=3,c.raw=!0,c.value=u):c.remove():c.attr(t,null)}})},VL=e=>yl(b.fromDom(e.getBody()),"*[data-mce-caret]").map(t=>t.dom).getOrNull(),N3=(e,t)=>{t.hasAttribute("data-mce-caret")&&(Du(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))},UL=(e,t)=>{const n=VL(e);if(n){if(t.type==="compositionstart"){t.preventDefault(),t.stopPropagation(),N3(e,n);return}p0(n)&&(N3(e,n),e.undoManager.add())}},WL=e=>{e.on("keyup compositionstart",K(UL,e))},T3=_e,jL=(e,t,n)=>n3(t,e,n,Rs,Ps,T3),qL=(e,t,n)=>s3(t,e,n,r=>Rs(r)||u2(r),r=>Ps(r)||L1(r),T3),KL=e=>{const t=e.dom.create(mt(e));return t.innerHTML='<br data-mce-bogus="1">',t},R3=(e,t,n)=>{const s=zn(e.getBody()),o=K(Ju,t===1?s.next:s.prev);if(n.collapsed){const r=e.dom.getParent(n.startContainer,"PRE");if(!r)return;if(!o(A.fromRangeStart(n))){const l=b.fromDom(KL(e));t===1?ns(b.fromDom(r),l):Ot(b.fromDom(r),l),e.selection.select(l.dom,!0),e.selection.collapse()}}},GL=(e,t)=>{const n=t?1:-1,s=e.selection.getRng();return jL(n,e,s).orThunk(()=>(R3(e,n,s),m.none()))},YL=(e,t)=>{const n=t?1:-1,s=e.selection.getRng();return qL(n,e,s).orThunk(()=>(R3(e,n,s),m.none()))},XL=(e,t)=>{const n=t?e.getEnd(!0):e.getStart(!0);return P2(n)?!t:t},P3=(e,t)=>GL(e,XL(e.selection,t)).exists(n=>(us(e,n),!0)),M3=(e,t)=>YL(e,t).exists(n=>(us(e,n),!0)),D3=(e,t)=>o3(e,t,t?Ps:Rs),Vi=(e,t)=>Gd(e,!t).map(n=>{const s=n.toRange(),o=e.selection.getRng();return t?s.setStart(o.startContainer,o.startOffset):s.setEnd(o.endContainer,o.endOffset),s}).exists(n=>(us(e,n),!0)),QL=e=>Ee(["figcaption"],pe(e)),JL=(e,t,n)=>{const s=K(Ce,t);return vs(b.fromDom(e.container()),o=>n.isBlock(pe(o)),s).filter(QL)},eH=(e,t,n)=>t?Kb(e.dom,n):qb(e.dom,n),tH=(e,t)=>{const n=b.fromDom(e.getBody()),s=A.fromRangeStart(e.selection.getRng());return JL(s,n,e.schema).exists(()=>{if(eH(n,t,s)){const r=_3(e,n,t?Ve:Xc);return e.selection.setRng(r),!0}else return!1})},O3=(e,t)=>e.selection.isCollapsed()?tH(e,t):!1,nH=(e,t,n)=>{const s=e.selection.getRng(),o=A.fromRangeStart(s);return e.getBody().firstChild===t&&qb(n,o)?(e.execCommand("InsertNewBlockBefore"),!0):!1},sH=(e,t)=>{const n=e.selection.getRng(),s=A.fromRangeStart(n);return e.getBody().lastChild===t&&Kb(t,s)?(e.execCommand("InsertNewBlockAfter"),!0):!1},oH=(e,t)=>t?m.from(e.dom.getParent(e.selection.getNode(),"details")).map(n=>sH(e,n)).getOr(!1):m.from(e.dom.getParent(e.selection.getNode(),"summary")).bind(n=>m.from(e.dom.getParent(n,"details")).map(s=>nH(e,s,n))).getOr(!1),B3=(e,t)=>oH(e,t),L3={shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0},rH=e=>ge(e,t=>({...L3,...t})),aH=e=>ge(e,t=>({...L3,...t})),H3=(e,t)=>t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey,lH=(e,t)=>qt(rH(e),n=>H3(n,t)?[n]:[]),iH=(e,t)=>qt(aH(e),n=>H3(n,t)?[n]:[]),ne=(e,...t)=>()=>e.apply(null,t),ja=(e,t)=>Ke(lH(e,t),n=>n.action()),I3=(e,t)=>xo(iH(e,t),n=>n.action()),$3=(e,t)=>{const n=t?1:-1,s=e.selection.getRng();return n3(e,n,s,_a,Aa,In).exists(o=>(us(e,o),!0))},Z3=(e,t)=>{const n=t?1:-1,s=e.selection.getRng();return s3(e,n,s,_a,Aa,In).exists(o=>(us(e,o),!0))},F3=(e,t)=>o3(e,t,t?Aa:_a),z3=$n.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),qa={...z3,none:e=>z3.none(e)},cH=(e,t)=>V3(e,t,$e),V3=(e,t,n)=>qt(ut(e),s=>vn(s,t)?n(s)?[s]:[]:V3(s,t,n)),uH=(e,t,n=Pe)=>{if(n(t))return m.none();if(Ee(e,pe(t)))return m.some(t);const s=o=>vn(o,"table")||n(o);return Wr(t,e.join(","),s)},dH=(e,t)=>uH(["td","th"],e,t),fH=e=>cH(e,"th,td"),U3=(e,t)=>Do(e,"table",t),gf=(e,t,n,s,o=$e)=>{const r=s===1;if(!r&&n<=0)return qa.first(e[0]);if(r&&n>=e.length-1)return qa.last(e[e.length-1]);{const a=n+s,l=e[a];return o(l)?qa.middle(t,l):gf(e,t,a,s,o)}},W3=(e,t)=>U3(e,t).bind(n=>{const s=fH(n);return Ar(s,r=>Ce(e,r)).map(r=>({index:r,all:s}))}),mH=(e,t,n)=>W3(e,n).fold(()=>qa.none(e),o=>gf(o.all,e,o.index,1,t)),hH=(e,t,n)=>W3(e,n).fold(()=>qa.none(),o=>gf(o.all,e,o.index,-1,t)),gH=e=>Aw(e).filter(t=>t.trim().length!==0||t.indexOf(Ye)>-1).isSome(),pH=e=>Lr(e)&&Ft(e,"contenteditable")==="false",vH=["img","br"],bH=e=>gH(e)||Ee(vH,pe(e))||pH(e),CH=e=>Gc(e,bH),yH=(e,t)=>({left:e.left-t,top:e.top-t,right:e.right+t*2,bottom:e.bottom+t*2,width:e.width+t,height:e.height+t}),EH=(e,t)=>qt(t,n=>{const s=yH(eo(n.getBoundingClientRect()),-1);return[{x:s.left,y:e(s),cell:n},{x:s.right,y:e(s),cell:n}]}),wH=(e,t,n)=>Mt(e,(s,o)=>s.fold(()=>m.some(o),r=>{const a=Math.sqrt(Math.abs(r.x-t)+Math.abs(r.y-n)),l=Math.sqrt(Math.abs(o.x-t)+Math.abs(o.y-n));return m.some(l<a?o:r)}),m.none()),j3=(e,t,n,s,o)=>{const r=dt(b.fromDom(n),"td,th,caption").map(l=>l.dom),a=se(EH(e,r),l=>t(l,o));return wH(a,s,o).map(l=>l.cell)},SH=e=>e.bottom,kH=e=>e.top,xH=(e,t)=>e.y<t,_H=(e,t)=>e.y>t,AH=K(j3,SH,xH),NH=K(j3,kH,_H),TH=(e,t)=>_t(t.getClientRects()).bind(n=>AH(e,n.left,n.top)).bind(n=>Zi(RB(n),t)),RH=(e,t)=>ms(t.getClientRects()).bind(n=>NH(e,n.left,n.top)).bind(n=>Zi(TB(n),t)),PH=(e,t,n)=>n.breakAt.exists(s=>e(t,s).breakAt.isSome()),MH=e=>e.breakType===qn.Wrap&&e.positions.length===0,DH=e=>e.breakType===qn.Br&&e.positions.length===1,q3=(e,t,n)=>{const s=e(t,n);return MH(s)||!De(n.getNode())&&DH(s)?!PH(e,t,s):s.breakAt.isNone()},OH=K(q3,Va),BH=K(q3,Ua),LH=(e,t,n)=>{const s=A.fromRangeStart(t);return Go(!e,n).exists(o=>o.isEqual(s))},HH=(e,t,n,s)=>{const o=e.selection.getRng(),r=t?1:-1;return Ag()&&LH(t,o,n)?(cs(r,e,n,!t,!1).each(a=>{us(e,a)}),!0):!1},IH=(e,t,n)=>TH(t,n).orThunk(()=>_t(n.getClientRects()).bind(s=>sf(Wb(e,A.before(t)),s.left))).getOr(A.before(t)),$H=(e,t,n)=>RH(t,n).orThunk(()=>_t(n.getClientRects()).bind(s=>sf(jb(e,A.after(t)),s.left))).getOr(A.after(t)),K3=(e,t)=>{const n=t.getNode(e);return Hn(n)?m.some(n):m.none()},ZH=(e,t,n)=>{t.undoManager.transact(()=>{const s=e?ns:Ot,o=_3(t,b.fromDom(n),s);us(t,o)})},G3=(e,t,n)=>{const s=K3(!!t,n),o=t===!1;s.fold(()=>us(e,n.toRange()),r=>Go(o,e.getBody()).filter(a=>a.isEqual(n)).fold(()=>us(e,n.toRange()),a=>ZH(t,e,r)))},FH=(e,t,n,s)=>{const o=e.selection.getRng(),r=A.fromRangeStart(o),a=e.getBody();if(!t&&OH(s,r)){const l=IH(a,n,r);return G3(e,t,l),!0}else if(t&&BH(s,r)){const l=$H(a,n,r);return G3(e,t,l),!0}else return!1},Y3=(e,t,n)=>m.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(s=>m.from(e.dom.getParent(s,"table")).map(o=>n(e,t,o,s))).getOr(!1),X3=(e,t)=>Y3(e,t,HH),pf=(e,t)=>Y3(e,t,FH),zH=e=>{const t=Jo.exact(e,0,e,0);return z_(t)},Q3=(e,t,n)=>n.fold(m.none,m.none,(s,o)=>CH(o).map(r=>zH(r)),s=>e.mode.isReadOnly()||!VH(s)?m.none():(e.execCommand("mceTableInsertRowAfter"),J3(e,t,s))),VH=e=>vs(e,Hr("table")).exists(bs),J3=(e,t,n)=>Q3(e,t,mH(n,eC)),UH=(e,t,n)=>Q3(e,t,hH(n,eC)),eC=e=>bs(e)||tu(e,WH),WH=e=>Lr(e)&&bs(e),tC=(e,t)=>{const n=["table","li","dl"],s=b.fromDom(e.getBody()),o=l=>{const i=pe(l);return Ce(l,s)||Ee(n,i)},r=e.selection.getRng(),a=b.fromDom(t?r.endContainer:r.startContainer);return dH(a,o).map(l=>(U3(l,o).each(u=>{e.model.table.clearSelectedCells(u.dom)}),e.selection.collapse(!t),(t?J3:UH)(e,o,l).each(u=>{e.selection.setRng(u)}),!0)).getOr(!1)},jH=(e,t,n)=>{const s=ve.os.isMacOS()||ve.os.isiOS();ja([{keyCode:W.RIGHT,action:ne(P3,e,!0)},{keyCode:W.LEFT,action:ne(P3,e,!1)},{keyCode:W.UP,action:ne(M3,e,!1)},{keyCode:W.DOWN,action:ne(M3,e,!0)},...s?[{keyCode:W.UP,action:ne(Vi,e,!1),metaKey:!0,shiftKey:!0},{keyCode:W.DOWN,action:ne(Vi,e,!0),metaKey:!0,shiftKey:!0}]:[],{keyCode:W.RIGHT,action:ne(X3,e,!0)},{keyCode:W.LEFT,action:ne(X3,e,!1)},{keyCode:W.UP,action:ne(pf,e,!1)},{keyCode:W.DOWN,action:ne(pf,e,!0)},{keyCode:W.UP,action:ne(pf,e,!1)},{keyCode:W.UP,action:ne(B3,e,!1)},{keyCode:W.DOWN,action:ne(B3,e,!0)},{keyCode:W.RIGHT,action:ne($3,e,!0)},{keyCode:W.LEFT,action:ne($3,e,!1)},{keyCode:W.UP,action:ne(Z3,e,!1)},{keyCode:W.DOWN,action:ne(Z3,e,!0)},{keyCode:W.RIGHT,action:ne(l3,e,t,!0)},{keyCode:W.LEFT,action:ne(l3,e,t,!1)},{keyCode:W.RIGHT,ctrlKey:!s,altKey:s,action:ne(KB,e,t)},{keyCode:W.LEFT,ctrlKey:!s,altKey:s,action:ne(GB,e,t)},{keyCode:W.UP,action:ne(O3,e,!1)},{keyCode:W.DOWN,action:ne(O3,e,!0)}],n).each(o=>{n.preventDefault()})},qH=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||jH(e,t,n)})},xn=(e,t)=>({container:e,offset:t}),Ui=ke.DOM,Wi=e=>t=>e===t?-1:0,KH=e=>t=>e.isBlock(t)||Ee(["BR","IMG","HR","INPUT"],t.nodeName)||e.getContentEditable(t)==="false",vf=(e,t,n)=>{if(O(e)&&t>=0)return m.some(xn(e,t));{const s=Qs(Ui);return m.from(s.backwards(e,t,Wi(e),n)).map(o=>xn(o.container,o.container.data.length))}},GH=(e,t,n)=>{if(O(e)&&t>=e.length)return m.some(xn(e,t));{const s=Qs(Ui);return m.from(s.forwards(e,t,Wi(e),n)).map(o=>xn(o.container,0))}},bf=(e,t,n)=>{if(!O(e))return m.none();const s=e.data;if(t>=0&&t<=s.length)return m.some(xn(e,t));{const o=Qs(Ui);return m.from(o.backwards(e,t,Wi(e),n)).bind(r=>{const a=r.container.data;return bf(r.container,t+a.length,n)})}},nC=(e,t,n)=>{if(!O(e))return m.none();const s=e.data;if(t<=s.length)return m.some(xn(e,t));{const o=Qs(Ui);return m.from(o.forwards(e,t,Wi(e),n)).bind(r=>nC(r.container,t-s.length,n))}},Cf=(e,t,n,s,o)=>{const r=Qs(e,KH(e));return m.from(r.backwards(t,n,s,o))},YH=e=>e.collapsed&&O(e.startContainer),XH=e=>zt(e.toString().replace(/\u00A0/g," ")),sC=e=>e!==""&&` \xA0\uFEFF\f
\r	\v`.indexOf(e)!==-1,QH=(e,t)=>e.substring(t.length),JH=(e,t,n,s=!1)=>{let o;const r=n.charAt(0);for(o=t-1;o>=0;o--){const a=e.charAt(o);if(!s&&sC(a))return m.none();if(r===a&&it(e,n,o,t))break}return m.some(o)},yf=(e,t,n,s=!1)=>{if(!YH(t))return m.none();const o={text:"",offset:0},r=(l,i,c)=>(o.text=c+o.text,o.offset+=i,JH(o.text,o.offset,n,s).getOr(i)),a=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return Cf(e,t.startContainer,t.startOffset,r,a).bind(l=>{const i=t.cloneRange();if(i.setStart(l.container,l.offset),i.setEnd(t.endContainer,t.endOffset),i.collapsed)return m.none();const c=XH(i);return c.lastIndexOf(n)!==0?m.none():m.some({text:QH(c,n),range:i,trigger:n})})},eI=e=>e.nodeType===Wm,tI=e=>e.nodeType===Br,oC=e=>{if(eI(e))return xn(e,e.data.length);{const t=e.childNodes;return t.length>0?oC(t[t.length-1]):xn(e,t.length)}},rC=(e,t)=>{const n=e.childNodes;return n.length>0&&t<n.length?rC(n[t],0):n.length>0&&tI(e)&&n.length===t?oC(n[n.length-1]):xn(e,t)},nI=(e,t)=>{var n;const s=(n=e.getParent(t.container,e.isBlock))!==null&&n!==void 0?n:e.getRoot();return Cf(e,t.container,t.offset,(o,r)=>r===0?-1:r,s).filter(o=>{const r=o.container.data.charAt(o.offset-1);return!sC(r)}).isSome()},sI=e=>t=>{const n=rC(t.startContainer,t.startOffset);return!nI(e,n)},oI=(e,t,n)=>xo(n.triggers,s=>yf(e,t,s)),rI=(e,t)=>{const n=t(),s=e.selection.getRng();return oI(e.dom,s,n).bind(o=>aC(e,t,o))},aC=(e,t,n,s={})=>{var o;const r=t(),l=(o=e.selection.getRng().startContainer.nodeValue)!==null&&o!==void 0?o:"",i=se(r.lookupByTrigger(n.trigger),u=>n.text.length>=u.minChars&&u.matches.getOrThunk(()=>sI(e.dom))(n.range,l,n.text));if(i.length===0)return m.none();const c=Promise.all(ge(i,u=>u.fetch(n.text,u.maxResults,s).then(f=>({matchText:n.text,items:f,columns:u.columns,onAction:u.onAction,highlightOn:u.highlightOn}))));return m.some({lookupData:c,context:n})};var nn;(function(e){e[e.Error=0]="Error",e[e.Value=1]="Value"})(nn||(nn={}));const Ef=(e,t,n)=>e.stype===nn.Error?t(e.serror):n(e.svalue),aI=e=>{const t=[],n=[];return R(e,s=>{Ef(s,o=>n.push(o),o=>t.push(o))}),{values:t,errors:n}},lI=(e,t)=>e.stype===nn.Error?{stype:nn.Error,serror:t(e.serror)}:e,iI=(e,t)=>e.stype===nn.Value?{stype:nn.Value,svalue:t(e.svalue)}:e,cI=(e,t)=>e.stype===nn.Value?t(e.svalue):e,uI=(e,t)=>e.stype===nn.Error?t(e.serror):e,lC=e=>({stype:nn.Value,svalue:e}),iC=e=>({stype:nn.Error,serror:e}),at={fromResult:e=>e.fold(iC,lC),toResult:e=>Ef(e,Nt.error,Nt.value),svalue:lC,partition:aI,serror:iC,bind:cI,bindError:uI,map:iI,mapError:lI,fold:Ef},wf=e=>nt(e)&&Dt(e).length>100?" removed due to size":JSON.stringify(e,null,2),dI=e=>{const t=e.length>10?e.slice(0,10).concat([{path:[],getErrorInfo:j("... (only showing first ten failures)")}]):e;return ge(t,n=>"Failed path: ("+n.path.join(" > ")+`)
`+n.getErrorInfo())},ji=(e,t)=>at.serror([{path:e,getErrorInfo:t}]),fI=(e,t,n)=>ji(e,()=>'Could not find valid *required* value for "'+t+'" in '+wf(n)),mI=(e,t)=>ji(e,()=>'Choice schema did not contain choice key: "'+t+'"'),hI=(e,t,n)=>ji(e,()=>'The chosen schema: "'+n+'" did not exist in branches: '+wf(t)),gI=(e,t)=>ji(e,j(t)),pI=(e,t,n,s)=>Ae(n,s).fold(()=>hI(e,n,s),r=>r.extract(e.concat(["branch: "+s]),t)),vI=(e,t)=>({extract:(o,r)=>Ae(r,e).fold(()=>mI(o,e),l=>pI(o,r,t,l)),toString:()=>"chooseOn("+e+"). Possible values: "+Dt(t)}),bI=(e,t)=>t,CI=(e,t)=>fl(e)&&fl(t)?qi(e,t):t,cC=e=>(...t)=>{if(t.length===0)throw new Error("Can't merge zero objects");const n={};for(let s=0;s<t.length;s++){const o=t[s];for(const r in o)oe(o,r)&&(n[r]=e(n[r],o[r]))}return n},qi=cC(CI),uC=cC(bI),Sf=()=>({tag:"required",process:{}}),yI=e=>({tag:"defaultedThunk",process:e}),dC=e=>yI(j(e)),EI=()=>({tag:"option",process:{}}),wI=(e,t)=>e.length>0?at.svalue(qi(t,uC.apply(void 0,e))):at.svalue(t),fC=e=>pn(at.serror,Sm)(e),mC={consolidateObj:(e,t)=>{const n=at.partition(e);return n.errors.length>0?fC(n.errors):wI(n.values,t)},consolidateArr:e=>{const t=at.partition(e);return t.errors.length>0?fC(t.errors):at.svalue(t.values)}},SI=(e,t,n,s)=>({tag:"field",key:e,newKey:t,presence:n,prop:s}),kI=(e,t)=>({tag:"custom",newKey:e,instantiator:t}),hC=(e,t,n)=>{switch(e.tag){case"field":return t(e.key,e.newKey,e.presence,e.prop);case"custom":return n(e.newKey,e.instantiator)}},kf=e=>{const t=(s,o)=>at.bindError(e(o),r=>gI(s,r)),n=j("val");return{extract:t,toString:n}},xI=kf(at.svalue),_I=(e,t,n,s)=>Ae(t,n).fold(()=>fI(e,n,t),s),gC=(e,t,n,s)=>{const o=Ae(e,t).getOrThunk(()=>n(e));return s(o)},AI=(e,t,n)=>n(Ae(e,t)),NI=(e,t,n,s)=>{const o=Ae(e,t).map(r=>r===!0?n(e):r);return s(o)},TI=(e,t,n,s,o)=>{const r=l=>o.extract(t.concat([s]),l),a=l=>l.fold(()=>at.svalue(m.none()),i=>{const c=o.extract(t.concat([s]),i);return at.map(c,m.some)});switch(e.tag){case"required":return _I(t,n,s,r);case"defaultedThunk":return gC(n,s,e.process,r);case"option":return AI(n,s,a);case"defaultedOptionThunk":return NI(n,s,e.process,a);case"mergeWithThunk":return gC(n,s,j({}),l=>{const i=qi(e.process(n),l);return r(i)})}},RI=(e,t,n)=>{const s={},o=[];for(const r of n)hC(r,(a,l,i,c)=>{const u=TI(i,e,t,a,c);at.fold(u,d=>{o.push(...d)},d=>{s[l]=d})},(a,l)=>{s[a]=l(t)});return o.length>0?at.serror(o):at.svalue(s)},Ka=e=>({extract:(s,o)=>RI(s,o,e),toString:()=>`obj{
`+ge(e,o=>hC(o,(r,a,l,i)=>r+" -> "+i.toString(),(r,a)=>"state("+r+")")).join(`
`)+"}"}),xf=e=>({extract:(s,o)=>{const r=ge(o,(a,l)=>e.extract(s.concat(["["+l+"]"]),a));return mC.consolidateArr(r)},toString:()=>"array("+e.toString()+")"}),PI=(e,t)=>{const n=bt;return{extract:(r,a)=>{const l=[];for(const i of e){const c=i.extract(r,a);if(c.stype===nn.Value)return{stype:nn.Value,svalue:n(c.svalue)};l.push(c)}return mC.consolidateArr(l)},toString:()=>"oneOf("+ge(e,r=>r.toString()).join(", ")+")"}},MI=pn(xf,Ka),DI=e=>kf(t=>e(t).fold(at.serror,at.svalue)),OI=(e,t,n)=>{const s=t.extract([e],n);return at.mapError(s,o=>({input:n,errors:o}))},BI=(e,t,n)=>at.toResult(OI(e,t,n)),LI=e=>`Errors: 
`+dI(e.errors).join(`
`)+`

Input object: `+wf(e.input),_f=(e,t)=>vI(e,Rr(t,Ka)),HI=j(xI),Ki=(e,t)=>kf(n=>{const s=typeof n;return e(n)?at.svalue(n):at.serror(`Expected type: ${t} but got: ${s}`)}),II=Ki(an,"number"),ir=Ki(J,"string"),$I=Ki(Nn,"boolean"),Af=Ki(we,"function"),cr=SI,pC=kI,vC=e=>DI(t=>Ee(e,t)?Nt.value(t):Nt.error(`Unsupported value: "${t}", choose one of "${e.join(", ")}".`)),Nf=(e,t)=>cr(e,e,Sf(),t),bC=e=>Nf(e,ir),Tf=(e,t)=>cr(e,e,Sf(),vC(t)),CC=e=>Nf(e,Af),yC=(e,t)=>cr(e,e,Sf(),xf(t)),Gi=(e,t)=>cr(e,e,EI(),t),bo=e=>Gi(e,ir),ZI=e=>Gi(e,Af),FI=(e,t)=>Gi(e,Ka(t)),zI=(e,t)=>cr(e,e,dC(t),HI()),ur=(e,t,n)=>cr(e,e,dC(t),n),EC=(e,t)=>ur(e,t,II),Yi=(e,t)=>ur(e,t,ir),wC=(e,t,n)=>ur(e,t,vC(n)),Rf=(e,t)=>ur(e,t,$I),ds=(e,t)=>ur(e,t,Af),VI=(e,t,n)=>ur(e,t,xf(n)),UI=bC("type"),WI=CC("fetch"),Pf=CC("onAction"),jI=ds("onSetup",()=>ie),qI=bo("text"),KI=bo("icon"),GI=bo("tooltip"),YI=bo("label"),XI=Rf("active",!1),QI=Rf("enabled",!0),SC=Rf("primary",!1),JI=e=>zI("columns",e),dr=e=>Yi("type",e),e$=Ka([UI,bC("trigger"),EC("minChars",1),JI(1),EC("maxResults",10),ZI("matches"),WI,Pf,VI("highlightOn",[],ir)]),t$=e=>BI("Autocompleter",e$,e),Xi=[QI,GI,KI,qI,jI,Yi("context","mode:design")],kC=[XI].concat(Xi),Qi=[ds("predicate",Pe),wC("scope","node",["node","editor"]),wC("position","selection",["node","selection","line"])],n$=Xi.concat([dr("contextformbutton"),Yi("align","end"),SC,Pf,pC("original",bt)]),s$=kC.concat([dr("contextformbutton"),Yi("align","end"),SC,Pf,pC("original",bt)]),o$=Xi.concat([dr("contextformbutton")]),r$=kC.concat([dr("contextformtogglebutton")]),a$=_f("type",{contextformbutton:n$,contextformtogglebutton:s$}),Mf=[YI,yC("commands",a$),Gi("launch",_f("type",{contextformbutton:o$,contextformtogglebutton:r$})),ds("onInput",ie),ds("onSetup",ie)],l$=[...Qi,...Mf,Tf("type",["contextform"]),ds("initValue",j("")),bo("placeholder")],i$=[...Qi,...Mf,Tf("type",["contextsliderform"]),ds("initValue",j(0)),ds("min",j(0)),ds("max",j(100))],c$=[...Qi,...Mf,Tf("type",["contextsizeinputform"]),ds("initValue",j({width:"",height:""}))];_f("type",{contextform:l$,contextsliderform:i$,contextsizeinputform:c$});const u$=Xi.concat([dr("contexttoolbarbutton")]);Ka([dr("contexttoolbar"),FI("launch",u$),Nf("items",PI([ir,MI([bo("name"),bo("label"),yC("items",ir)])]))].concat(Qi));const d$=e=>{const t=e.ui.registry.getAll().popups,n=Rr(t,a=>t$(a).fold(l=>{throw new Error(LI(l))},bt)),s=_m(hl(n,a=>a.trigger)),o=Oc(n);return{dataset:n,triggers:s,lookupByTrigger:a=>se(o,l=>l.trigger===a)}},f$=(e,t)=>{const n=Nu(t.load,50);e.on("input",s=>{s.inputType==="insertCompositionText"&&!e.composing||n.throttle()}),e.on("keydown",s=>{const o=s.which;o===8?n.throttle():o===27?(n.cancel(),t.cancelIfNecessary()):(o===38||o===40)&&n.cancel()},!0),e.on("remove",n.cancel)},m$=e=>{const t=os(),n=et(!1),s=t.isSet,o=()=>{s()&&(G7(e),n.set(!1),t.clear())},r=d=>{s()||t.set({trigger:d.trigger,matchLength:d.text.length})},a=Tn(()=>d$(e)),l=d=>t.get().map(f=>yf(e.dom,e.selection.getRng(),f.trigger,!0).bind(h=>aC(e,a,h,d))).getOrThunk(()=>rI(e,a)),i=d=>{l(d).fold(o,f=>{r(f.context),f.lookupData.then(h=>{t.get().map(p=>{const g=f.context;p.trigger===g.trigger&&(t.set({...p,matchLength:g.text.length}),n.get()?(Uu(e,{range:g.range}),K7(e,{lookupData:h})):(n.set(!0),Uu(e,{range:g.range}),q7(e,{lookupData:h})))})})})},c=(d,f)=>{const h=d.compareBoundaryPoints(window.Range.START_TO_START,f),p=d.compareBoundaryPoints(window.Range.END_TO_END,f);return h>=0&&p<=0},u=()=>t.get().bind(({trigger:d})=>{const f=e.selection.getRng();return yf(e.dom,f,d,n.get()).filter(({range:h})=>c(f,h)).map(({range:h})=>h)});e.addCommand("mceAutocompleterReload",(d,f)=>{const h=nt(f)?f.fetchOptions:{};i(h)}),e.addCommand("mceAutocompleterClose",o),e.addCommand("mceAutocompleterRefreshActiveRange",()=>{u().each(d=>{Uu(e,{range:d})})}),e.editorCommands.addQueryStateHandler("mceAutoCompleterInRange",()=>u().isSome()),f$(e,{cancelIfNecessary:o,load:i})},h$=Pn().browser.isSafari(),xC=e=>ws(b.fromDom(e)),_C=(e,t)=>{var n;return e.startOffset===0&&e.endOffset===((n=t.textContent)===null||n===void 0?void 0:n.length)},Ji=(e,t)=>m.from(e.getParent(t.container(),"details")),AC=(e,t)=>Ji(e,t).isSome(),g$=(e,t)=>{const n=m.from(e.getParent(t.startContainer,"details")),s=m.from(e.getParent(t.endContainer,"details"));if(n.isSome()||s.isSome()){const o=n.bind(r=>m.from(e.select("summary",r)[0]));return m.some({startSummary:o,startDetails:n,endDetails:s})}else return m.none()},p$=(e,t)=>ht(t).exists(n=>n.isEqual(e)),v$=(e,t)=>cn(t).exists(n=>De(n.getNode())&&Bt(t,n).exists(s=>s.isEqual(e))||n.isEqual(e)),b$=(e,t)=>t.startSummary.exists(n=>p$(e,n)),C$=(e,t)=>t.startSummary.exists(n=>v$(e,n)),y$=(e,t)=>t.startDetails.exists(n=>Bt(n,e).forall(s=>t.startSummary.exists(o=>!o.contains(e.container())&&o.contains(s.container())))),E$=(e,t,n)=>n.startDetails.exists(s=>Tt(e,t).forall(o=>!s.contains(o.container()))),NC=(e,t)=>{const n=t.getNode();st(n)||e.selection.setCursorLocation(n,t.offset())},TC=(e,t,n)=>{const s=e.dom.getParent(t.container(),"details");if(s&&!s.open){const o=e.dom.select("summary",s)[0];o&&(n?ht(o):cn(o)).each(a=>NC(e,a))}else NC(e,t)},w$=(e,t)=>{const n=i=>i.contains(e.startContainer),s=i=>i.contains(e.endContainer),o=t.startSummary.exists(n),r=t.startSummary.exists(s),a=t.startDetails.forall(i=>t.endDetails.forall(c=>i!==c));return(o||r)&&!(o&&r)||a},RC=(e,t,n)=>{const{dom:s,selection:o}=e,r=e.getBody();if(n==="character"){const a=A.fromRangeStart(o.getRng()),l=s.getParent(a.container(),s.isBlock),i=Ji(s,a),c=l&&s.isEmpty(l),u=vt(l?.previousSibling),d=vt(l?.nextSibling);return c&&(t?d:u)&&Ko(!t,r,a).exists(p=>AC(s,p)&&!Fm(i,Ji(s,p)))?!0:Ko(t,r,a).fold(Pe,f=>{const h=Ji(s,f);if(AC(s,f)&&!Fm(i,h)){if(t||TC(e,f,!1),l&&c){if(t&&u)return!0;if(!t&&d)return!0;TC(e,f,t),e.dom.remove(l)}return!0}else return!1})}else return!1},S$=(e,t,n,s)=>{const r=e.selection.getRng(),a=A.fromRangeStart(r),l=e.getBody();return s==="selection"?w$(r,t):n?C$(a,t)||E$(l,a,t):b$(a,t)||y$(a,t)},k$=(e,t,n)=>g$(e.dom,e.selection.getRng()).fold(()=>RC(e,t,n),s=>S$(e,s,t,n)||RC(e,t,n)),x$=(e,t,n)=>{const s=e.selection,o=s.getNode(),r=s.getRng(),a=A.fromRangeStart(r);return s8(o)?(n==="selection"&&_C(r,o)||L2(t,a,o)?xC(o):e.undoManager.transact(()=>{const l=s.getSel();let{anchorNode:i,anchorOffset:c,focusNode:u,focusOffset:d}=l??{};const f=()=>{$(i)&&$(c)&&$(u)&&$(d)&&l?.setBaseAndExtent(i,c,u,d)},h=()=>{i=l?.anchorNode,c=l?.anchorOffset,u=l?.focusNode,d=l?.focusOffset},p=(v,C)=>{R(v.childNodes,y=>{Ea(y)&&C.appendChild(y)})},g=e.dom.create("span",{"data-mce-bogus":"1"});p(o,g),o.appendChild(g),f(),(n==="word"||n==="line")&&l?.modify("extend",t?"right":"left",n),!s.isCollapsed()&&_C(s.getRng(),g)?xC(o):(e.execCommand(t?"ForwardDelete":"Delete"),h(),p(g,o),f()),e.dom.remove(g)}),!0):!1},Co=(e,t,n)=>k$(e,t,n)||h$&&x$(e,t,n)?m.some(ie):m.none(),PC=e=>(t,n,s={})=>{const o=t.getBody(),r={bubbles:!0,composed:!0,data:null,isComposing:!1,detail:0,view:null,target:o,currentTarget:o,eventPhase:Event.AT_TARGET,originalTarget:o,explicitOriginalTarget:o,isTrusted:!1,srcElement:o,cancelable:!1,preventDefault:ie,inputType:n},a=Qh(new InputEvent(e));return t.dispatch(e,{...a,...r,...s})},Ga=PC("input"),ec=PC("beforeinput"),MC=Pn(),DC=MC.os,OC=DC.isMacOS()||DC.isiOS(),_$=MC.browser.isFirefox(),A$=(e,t,n)=>{const s=n.keyCode===W.BACKSPACE?"deleteContentBackward":"deleteContentForward",o=e.selection.isCollapsed(),r=o?"character":"selection",a=l=>o?l?"word":"line":"selection";I3([{keyCode:W.BACKSPACE,action:ne(w3,e)},{keyCode:W.BACKSPACE,action:ne(Xd,e,!1)},{keyCode:W.DELETE,action:ne(Xd,e,!0)},{keyCode:W.BACKSPACE,action:ne(Kd,e,!1)},{keyCode:W.DELETE,action:ne(Kd,e,!0)},{keyCode:W.BACKSPACE,action:ne(lf,e,t,!1)},{keyCode:W.DELETE,action:ne(lf,e,t,!0)},{keyCode:W.BACKSPACE,action:ne(Q1,e,!1)},{keyCode:W.DELETE,action:ne(Q1,e,!0)},{keyCode:W.BACKSPACE,action:ne(Co,e,!1,r)},{keyCode:W.DELETE,action:ne(Co,e,!0,r)},...OC?[{keyCode:W.BACKSPACE,altKey:!0,action:ne(Co,e,!1,a(!0))},{keyCode:W.DELETE,altKey:!0,action:ne(Co,e,!0,a(!0))},{keyCode:W.BACKSPACE,metaKey:!0,action:ne(Co,e,!1,a(!1))}]:[{keyCode:W.BACKSPACE,ctrlKey:!0,action:ne(Co,e,!1,a(!0))},{keyCode:W.DELETE,ctrlKey:!0,action:ne(Co,e,!0,a(!0))}],{keyCode:W.BACKSPACE,action:ne(Jd,e,!1)},{keyCode:W.DELETE,action:ne(Jd,e,!0)},{keyCode:W.BACKSPACE,action:ne(df,e,!1)},{keyCode:W.DELETE,action:ne(df,e,!0)},{keyCode:W.BACKSPACE,action:ne(jd,e,!1)},{keyCode:W.DELETE,action:ne(jd,e,!0)},{keyCode:W.BACKSPACE,action:ne(Wd,e,!1)},{keyCode:W.DELETE,action:ne(Wd,e,!0)},{keyCode:W.BACKSPACE,action:ne(cf,e,!1)},{keyCode:W.DELETE,action:ne(cf,e,!0)},{keyCode:W.BACKSPACE,action:ne(Qd,e,!1)},{keyCode:W.DELETE,action:ne(Qd,e,!0)}],n).filter(l=>e.selection.isEditable()).each(l=>{n.preventDefault(),ec(e,s).isDefaultPrevented()||(l(),Ga(e,s))})},N$=(e,t,n)=>ja([{keyCode:W.BACKSPACE,action:ne(Ab,e)},{keyCode:W.DELETE,action:ne(Ab,e)},...OC?[{keyCode:W.BACKSPACE,altKey:!0,action:ne(Wa,e)},{keyCode:W.DELETE,altKey:!0,action:ne(Wa,e)},...n?[{keyCode:_$?224:91,action:ne(Wa,e)}]:[]]:[{keyCode:W.BACKSPACE,ctrlKey:!0,action:ne(Wa,e)},{keyCode:W.DELETE,ctrlKey:!0,action:ne(Wa,e)}]],t),T$=(e,t)=>{let n=!1;e.on("keydown",s=>{n=s.keyCode===W.BACKSPACE,s.isDefaultPrevented()||A$(e,t,s)}),e.on("keyup",s=>{s.isDefaultPrevented()||N$(e,s,n),n=!1})},R$=e=>{for(;e;){if(q(e)||O(e)&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}return null},fr=(e,t)=>{const n=e.dom,s=e.schema.getMoveCaretBeforeOnEnterElements();if(!t)return;if(/^(LI|DT|DD)$/.test(t.nodeName)){const r=R$(t.firstChild);r&&/^(UL|OL|DL)$/.test(r.nodeName)&&t.insertBefore(n.doc.createTextNode(Ye),t.firstChild)}const o=n.createRng();if(t.normalize(),t.hasChildNodes()){const r=new Je(t,t);let a=t,l;for(;l=r.current();){if(O(l)){o.setStart(l,0),o.setEnd(l,0);break}if(s[l.nodeName.toLowerCase()]){o.setStartBefore(l),o.setEndBefore(l);break}a=l,l=r.next()}l||(o.setStart(a,0),o.setEnd(a,0))}else De(t)?t.nextSibling&&n.isBlock(t.nextSibling)?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)):(o.setStart(t,0),o.setEnd(t,0));e.selection.setRng(o),xa(e,o)},Ya=(e,t)=>{const n=e.getRoot();let s,o=t;for(;o!==n&&o&&e.getContentEditable(o)!=="false";){if(e.getContentEditable(o)==="true"){s=o;break}o=o.parentNode}return o!==n?s:n},Df=e=>m.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock)),P$=e=>Df(e).fold(j(""),t=>t.nodeName.toUpperCase()),M$=e=>Df(e).filter(t=>Zo(b.fromDom(t))).isSome(),Of=e=>{e.innerHTML='<br data-mce-bogus="1">'},D$=(e,t,n)=>{const s=e.dom;m.from(n.style).map(s.parseStyle).each(i=>{const u={...Yc(b.fromDom(t)),...i};s.setStyles(t,u)});const o=m.from(n.class).map(i=>i.split(/\s+/)),r=m.from(t.className).map(i=>se(i.split(/\s+/),c=>c!==""));ct(o,r,(i,c)=>{const u=se(c,f=>!Ee(i,f)),d=[...i,...u];s.setAttrib(t,"class",d.join(" "))});const a=["style","class"],l=Pr(n,(i,c)=>!Ee(a,c));s.setAttribs(t,l)},Xa=(e,t)=>{if(mt(e).toLowerCase()===t.tagName.toLowerCase()){const s=fa(e);D$(e,t,s)}},BC=(e,t,n,s,o=!0,r,a)=>{const l=e.dom,i=e.schema,c=mt(e),u=n?n.nodeName.toUpperCase():"";let d=t;const f=i.getTextInlineElements();let h;r||u==="TABLE"||u==="HR"?h=l.create(r||c,a||{}):h=n.cloneNode(!1);let p=h;if(!o)l.setAttrib(h,"style",null),l.setAttrib(h,"class",null);else do if(f[d.nodeName]){if(Yt(d)||Xt(d))continue;const g=d.cloneNode(!1);l.setAttrib(g,"id",""),h.hasChildNodes()?(g.appendChild(h.firstChild),h.appendChild(g)):(p=g,h.appendChild(g))}while((d=d.parentNode)&&d!==s);return Xa(e,h),Of(p),h},O$=(e,t)=>e.dom.getParent(t,au),B$=(e,t,n)=>{let s=t;for(;s&&s!==e&&vt(s.nextSibling);){const o=s.parentElement;if(!o||!n(o))return au(o);s=o}return!1},L$=(e,t,n)=>!t&&n.nodeName.toLowerCase()===mt(e)&&e.dom.isEmpty(n)&&B$(e.getBody(),n,s=>oe(e.schema.getTextBlockElements(),s.nodeName.toLowerCase())),H$=(e,t,n)=>{var s,o,r;const a=t(mt(e)),l=O$(e,n);l&&(e.dom.insertAfter(a,l),fr(e,a),((r=(o=(s=n.parentElement)===null||s===void 0?void 0:s.childNodes)===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0)>1&&e.dom.remove(n))},I$=(e,t)=>e.firstChild&&e.firstChild.nodeName===t,$$=e=>{var t;return((t=e.parentNode)===null||t===void 0?void 0:t.firstChild)===e},LC=(e,t)=>{const n=e?.parentNode;return $(n)&&n.nodeName===t},HC=e=>$(e)&&/^(OL|UL|LI)$/.test(e.nodeName),Bf=e=>$(e)&&/^(LI|DT|DD)$/.test(e.nodeName),Z$=e=>HC(e)&&HC(e.parentNode),tc=e=>{const t=e.parentNode;return Bf(t)?t:e},nc=(e,t,n)=>{let s=e[n?"firstChild":"lastChild"];for(;s&&!q(s);)s=s[n?"nextSibling":"previousSibling"];return s===t},IC=e=>Mt(hl(Yc(b.fromDom(e)),(t,n)=>`${n}: ${t};`),(t,n)=>t+n,""),F$=(e,t,n,s,o)=>{const r=e.dom,a=e.selection.getRng(),l=n.parentNode;if(n===e.getBody()||!l)return;Z$(n)&&(o="LI");const i=Bf(s)?IC(s):void 0;let c=Bf(s)&&i?t(o,{style:IC(s)}):t(o);if(nc(n,s,!0)&&nc(n,s,!1))if(LC(n,"LI")){const u=tc(n);r.insertAfter(c,u),$$(n)?r.remove(u):r.remove(n)}else r.replace(c,n);else if(nc(n,s,!0))LC(n,"LI")?(r.insertAfter(c,tc(n)),c.appendChild(r.doc.createTextNode(" ")),c.appendChild(n)):l.insertBefore(c,n),r.remove(s);else if(nc(n,s,!1))r.insertAfter(c,tc(n)),r.remove(s);else{n=tc(n);const u=a.cloneRange();u.setStartAfter(s),u.setEndAfter(n);const d=u.extractContents();if(o==="LI"&&I$(d,"LI")){const f=se(ge(c.children,b.fromDom),kr(Hr("br")));c=d.firstChild,r.insertAfter(d,n),R(f,h=>Xc(b.fromDom(c),h)),i&&c.setAttribute("style",i)}else r.insertAfter(d,n),r.insertAfter(c,n);r.remove(s)}fr(e,c)},z$=e=>{R(bh(b.fromDom(e),At),t=>{const n=t.dom;n.nodeValue=zt(n.data)})},V$=(e,t)=>{const n=e.dom.getParent(t,"ol,ul,dl");return n!==null&&e.dom.getContentEditableParent(n)==="false"},U$=(e,t)=>t&&t.nodeName==="A"&&e.isEmpty(t),Lf=(e,t)=>e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t,W$=(e,t)=>e.nodeName===t||e.nextSibling&&e.nextSibling.nodeName===t,Hf=(e,t)=>$(t)&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&e.isEditable(t.parentNode)&&e.getContentEditable(t)!=="false",j$=(e,t,n)=>{var s;const o=[];if(!n)return;let r=n;for(;r=r.firstChild;){if(e.isBlock(r))return;q(r)&&!t[r.nodeName.toLowerCase()]&&o.push(r)}let a=o.length;for(;a--;)r=o[a],(!r.hasChildNodes()||r.firstChild===r.lastChild&&((s=r.firstChild)===null||s===void 0?void 0:s.nodeValue)===""||U$(e,r))&&e.remove(r)},If=(e,t,n)=>O(t)?e?n===1&&t.data.charAt(n-1)===Xe?0:n:n===t.data.length-1&&t.data.charAt(n)===Xe?t.data.length:n:n,q$=e=>{const t=e.cloneRange();return t.setStart(e.startContainer,If(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,If(!1,e.endContainer,e.endOffset)),t},K$=e=>{let t=e;do O(t)&&(t.data=t.data.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},G$=(e,t,n,s,o)=>{var r,a;const l=e.dom,i=(r=Ya(l,s))!==null&&r!==void 0?r:l.getRoot();let c=l.getParent(s,l.isBlock);if(!c||!Hf(l,c)){if(c=c||i,!c.hasChildNodes()){const h=l.create(t);return Xa(e,h),c.appendChild(h),n.setStart(h,0),n.setEnd(h,0),h}let u=s;for(;u&&u.parentNode!==c;)u=u.parentNode;let d;for(;u&&!l.isBlock(u);)d=u,u=u.previousSibling;const f=(a=d?.parentElement)===null||a===void 0?void 0:a.nodeName;if(d&&f&&e.schema.isValidChild(f,t.toLowerCase())){const h=d.parentNode,p=l.create(t);for(Xa(e,p),h.insertBefore(p,d),u=d;u&&!l.isBlock(u);){const g=u.nextSibling;p.appendChild(u),u=g}n.setStart(s,o),n.setEnd(s,o)}}return s},Y$=(e,t)=>{t.normalize();const n=t.lastChild;(!n||q(n)&&/^(left|right)$/gi.test(e.getStyle(n,"float",!0)))&&e.add(t,"br")},X$=(e,t)=>{const n=mS(e);return ze(t)?!1:J(n)?Ee(L.explode(n),t.nodeName.toLowerCase()):n},$C={insert:(e,t)=>{let n,s,o,r,a=!1;const l=e.dom,i=e.schema,c=i.getNonEmptyElements(),u=e.selection.getRng(),d=mt(e),f=b.fromDom(u.startContainer),h=Po(f,u.startOffset),p=h.exists(P=>Lr(P)&&!bs(P)),g=u.collapsed&&p,v=(P,F)=>BC(e,n,D,T,fS(e),P,F),C=P=>{const F=If(P,n,s);if(O(n)&&(P?F>0:F<n.data.length))return!1;if((n.parentNode===D||n===D)&&a&&!P||P&&q(n)&&n===D.firstChild)return!0;if(Lf(n,"TABLE")||Lf(n,"HR"))return W$(n,"BR")?!P:a&&!P||!a&&P;const G=new Je(n,D);O(n)&&(P&&F===0?G.prev():!P&&F===n.data.length&&G.next());let re;for(;re=G.current();){if(q(re)){if(!re.getAttribute("data-mce-bogus")){const le=re.nodeName.toLowerCase();if(c[le]&&le!=="br")return!1}}else if(O(re)&&!Lo(re.data))return!1;P?G.prev():G.next()}return!0},y=()=>{let P;return/^(H[1-6]|PRE|FIGURE)$/.test(o)&&V!=="HGROUP"?P=v(d):P=v(),X$(e,r)&&Hf(l,r)&&l.isEmpty(D,void 0,{includeZwsp:!0})?P=l.split(r,D):l.insertAfter(P,D),fr(e,P),P};ui(l,u).each(P=>{u.setStart(P.startContainer,P.startOffset),u.setEnd(P.endContainer,P.endOffset)}),n=u.startContainer,s=u.startOffset;const E=!!(t&&t.shiftKey),S=!!(t&&t.ctrlKey);q(n)&&n.hasChildNodes()&&!g&&(a=s>n.childNodes.length-1,n=n.childNodes[Math.min(s,n.childNodes.length-1)]||n,a&&O(n)?s=n.data.length:s=0);const T=Ya(l,n);if(!T||V$(e,n))return;E||(n=G$(e,d,u,n,s));let D=l.getParent(n,l.isBlock)||l.getRoot();r=$(D?.parentNode)?l.getParent(D.parentNode,l.isBlock):null,o=D?D.nodeName.toUpperCase():"";const V=r?r.nodeName.toUpperCase():"";if(V==="LI"&&!S){const P=r;D=P,r=P.parentNode,o=V}if(q(r)&&L$(e,E,D))return H$(e,v,D);if(/^(LI|DT|DD)$/.test(o)&&q(r)&&l.isEmpty(D)){F$(e,v,r,D,d);return}if(!g&&(D===e.getBody()||!Hf(l,D)))return;const N=D.parentNode;let _;if(g)_=v(d),h.fold(()=>{Ve(f,b.fromDom(_))},P=>{Ot(P,b.fromDom(_))}),e.selection.setCursorLocation(_,0);else if(Vo(D))_=Du(D),l.isEmpty(D)&&Of(D),Xa(e,_),fr(e,_);else if(C(!1))_=y();else if(C(!0)&&N){const P=A.fromRangeStart(u),F=L1(P),G=b.fromDom(D),le=gi(G,P,e.schema)?p2(G,P,e.schema).bind(be=>m.from(be.getNode())):m.none();_=N.insertBefore(v(),D);const he=Lf(D,"HR")||F?_:le.getOr(D);fr(e,he)}else{const P=q$(u).cloneRange();P.setEndAfter(D);const F=P.extractContents();z$(F),K$(F),_=F.firstChild,l.insertAfter(F,D),j$(l,c,_),Y$(l,D),l.isEmpty(D)&&Of(D),_.normalize(),l.isEmpty(_)?(l.remove(_),y()):(Xa(e,_),fr(e,_))}l.setAttrib(_,"id",""),e.dispatch("NewBlock",{newBlock:_})},fakeEventName:"insertParagraph"},Q$=(e,t,n)=>{const s=new Je(t,n);let o;const r=e.getNonEmptyElements();for(;o=s.next();)if(r[o.nodeName.toLowerCase()]||O(o)&&o.length>0)return!0;return!1},ZC=(e,t,n)=>{const s=e.dom.createRng();n?(s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)),e.selection.setRng(s),xa(e,s)},J$=(e,t)=>{const n=e.selection,s=e.dom,o=n.getRng();let r,a=!1;ui(s,o).each(h=>{o.setStart(h.startContainer,h.startOffset),o.setEnd(h.endContainer,h.endOffset)});let l=o.startOffset,i=o.startContainer;if(q(i)&&i.hasChildNodes()){const h=l>i.childNodes.length-1;i=i.childNodes[Math.min(l,i.childNodes.length-1)]||i,h&&O(i)?l=i.data.length:l=0}let c=s.getParent(i,s.isBlock);const u=c&&c.parentNode?s.getParent(c.parentNode,s.isBlock):null,d=u?u.nodeName.toUpperCase():"",f=!!(t&&t.ctrlKey);d==="LI"&&!f&&(c=u),O(i)&&l>=i.data.length&&(Q$(e.schema,i,c||s.getRoot())||(r=s.create("br"),o.insertNode(r),o.setStartAfter(r),o.setEndAfter(r),a=!0)),r=s.create("br"),$u(s,o,r),ZC(e,r,a),e.undoManager.add()},eZ=(e,t)=>{const n=b.fromTag("br");Ot(b.fromDom(t),n),e.undoManager.add()},tZ=(e,t)=>{sZ(e.getBody(),t)||ns(b.fromDom(t),b.fromTag("br"));const n=b.fromTag("br");ns(b.fromDom(t),n),ZC(e,n.dom,!1),e.undoManager.add()},nZ=e=>De(e.getNode()),sZ=(e,t)=>nZ(A.after(t))?!0:Tt(e,A.after(t)).map(n=>De(n.getNode())).getOr(!1),FC=e=>e&&e.nodeName==="A"&&"href"in e,oZ=e=>e.fold(Pe,FC,FC,Pe),rZ=e=>{const t=K(uo,e),n=A.fromRangeStart(e.selection.getRng());return jn(t,e.getBody(),n).filter(oZ)},aZ=(e,t)=>{t.fold(ie,K(eZ,e),K(tZ,e),ie)},zC={insert:(e,t)=>{const n=rZ(e);n.isSome()?n.each(K(aZ,e)):J$(e,t)},fakeEventName:"insertLineBreak"},VC=(e,t)=>Df(e).filter(n=>t.length>0&&vn(b.fromDom(n),t)).isSome(),lZ=e=>VC(e,uS(e)),iZ=e=>VC(e,dS(e)),Ut=$n.generate([{br:[]},{block:[]},{none:[]}]),cZ=(e,t)=>iZ(e),UC=e=>(t,n)=>M$(t)===e,WC=(e,t)=>(n,s)=>P$(n)===e.toUpperCase()===t,uZ=e=>{const t=Ya(e.dom,e.selection.getStart());return ze(t)},Qa=e=>WC("pre",e),dZ=()=>WC("summary",!0),sc=e=>(t,n)=>iS(t)===e,fZ=(e,t)=>lZ(e),oc=(e,t)=>t,mZ=e=>{const t=mt(e),n=Ya(e.dom,e.selection.getStart());return $(n)&&e.schema.isValidChild(n.nodeName,t)},hZ=e=>{const t=e.selection.getRng(),n=b.fromDom(t.startContainer),o=Po(n,t.startOffset).map(r=>Lr(r)&&!bs(r));return t.collapsed&&o.getOr(!0)},sn=(e,t)=>(n,s)=>Mt(e,(r,a)=>r&&a(n,s),!0)?m.some(t):m.none(),gZ=(e,t)=>Hb([sn([cZ],Ut.none()),sn([Qa(!0),uZ],Ut.none()),sn([dZ()],Ut.br()),sn([Qa(!0),sc(!1),oc],Ut.br()),sn([Qa(!0),sc(!1)],Ut.block()),sn([Qa(!0),sc(!0),oc],Ut.block()),sn([Qa(!0),sc(!0)],Ut.br()),sn([UC(!0),oc],Ut.br()),sn([UC(!0)],Ut.block()),sn([fZ],Ut.br()),sn([oc],Ut.br()),sn([mZ],Ut.block()),sn([hZ],Ut.block())],[e,!!(t&&t.shiftKey)]).getOr(Ut.none()),rc=(e,t,n)=>{t.mode.isReadOnly()||(t.selection.isCollapsed()||kN(t),!($(n)&&ec(t,e.fakeEventName).isDefaultPrevented())&&(e.insert(t,n),$(n)&&Ga(t,e.fakeEventName)))},jC=(e,t)=>{if(e.mode.isReadOnly())return;const n=()=>rc(zC,e,t),s=()=>rc($C,e,t),o=gZ(e,t);switch(cS(e)){case"linebreak":o.fold(n,n,ie);break;case"block":o.fold(s,s,ie);break;case"invert":o.fold(s,n,ie);break;default:o.fold(n,s,ie);break}},qC=Pn(),pZ=qC.os.isiOS()&&qC.browser.isSafari(),KC=(e,t)=>{t.isDefaultPrevented()||(t.preventDefault(),BM(e.undoManager),e.undoManager.transact(()=>{jC(e,t)}))},vZ=e=>{if(!e.collapsed)return!1;const t=e.startContainer;if(O(t)){const n=/^[\uAC00-\uD7AF\u1100-\u11FF\u3130-\u318F\uA960-\uA97F\uD7B0-\uD7FF]$/,s=t.data.charAt(e.startOffset-1);return n.test(s)}else return!1},bZ=e=>{let t=m.none();const n=o=>{t=m.some(o.selection.getBookmark()),o.undoManager.add()},s=(o,r)=>{o.undoManager.undo(),t.fold(ie,a=>o.selection.moveToBookmark(a)),KC(o,r),t=m.none()};e.on("keydown",o=>{o.keyCode===W.ENTER&&(pZ&&vZ(e.selection.getRng())?n(e):KC(e,o))}),e.on("keyup",o=>{o.keyCode===W.ENTER&&t.each(()=>s(e,o))})},CZ=(e,t,n)=>{const s=ve.os.isMacOS()||ve.os.isiOS();ja([{keyCode:W.END,action:ne(D3,e,!0)},{keyCode:W.HOME,action:ne(D3,e,!1)},...s?[]:[{keyCode:W.HOME,action:ne(Vi,e,!1),ctrlKey:!0,shiftKey:!0},{keyCode:W.END,action:ne(Vi,e,!0),ctrlKey:!0,shiftKey:!0}],{keyCode:W.END,action:ne(F3,e,!0)},{keyCode:W.HOME,action:ne(F3,e,!1)},{keyCode:W.END,action:ne(zi,e,!0,t)},{keyCode:W.HOME,action:ne(zi,e,!1,t)}],n).each(o=>{n.preventDefault()})},yZ=(e,t)=>{e.on("keydown",n=>{n.isDefaultPrevented()||CZ(e,t,n)})},EZ=e=>{e.on("input",t=>{t.isComposing||sN(e)})},wZ=Pn(),SZ=(e,t,n)=>{ja([{keyCode:W.PAGE_UP,action:ne(zi,e,!1,t)},{keyCode:W.PAGE_DOWN,action:ne(zi,e,!0,t)}],n)},GC=e=>e.stopImmediatePropagation(),YC=e=>e.keyCode===W.PAGE_UP||e.keyCode===W.PAGE_DOWN,XC=(e,t,n)=>{n&&!e.get()?t.on("NodeChange",GC,!0):!n&&e.get()&&t.off("NodeChange",GC),e.set(n)},kZ=(e,t)=>{if(wZ.os.isMacOS())return;const n=et(!1);e.on("keydown",s=>{YC(s)&&XC(n,e,!0)}),e.on("keyup",s=>{s.isDefaultPrevented()||SZ(e,t,s),YC(s)&&n.get()&&(XC(n,e,!1),e.nodeChanged())})},QC=(e,t)=>e===t||e.contains(t),xZ=(e,t)=>!QC(e.getBody(),t.startContainer)||!QC(e.getBody(),t.endContainer)?!0:Fp(e.dom,t),_Z=e=>{e.on("beforeinput",t=>{(!e.selection.isEditable()||Le(t.getTargetRanges(),n=>!xZ(e,n)))&&t.preventDefault()})},JC=(e,t)=>{const n=t.container(),s=t.offset();return O(n)?(n.insertData(s,e),m.some(A(n,s+e.length))):Gl(t).map(o=>{const r=b.fromText(e);return t.isAtEnd()?ns(o,r):Ot(o,r),A(r.dom,e.length)})},ey=K(JC,Ye),ty=K(JC," "),AZ=(e,t,n)=>w2(e,t,n)?ey(t):ty(t),NZ=e=>t=>t.fold(n=>Bt(e.dom,A.before(n)),n=>ht(n),n=>cn(n),n=>Tt(e.dom,A.after(n))),TZ=(e,t,n)=>s=>w2(e,s,n)?ey(t):ty(t),ny=e=>t=>{e.selection.setRng(t.toRange()),e.nodeChanged()},RZ=(e,t)=>e.isEditable(e.getParent(t,"summary")),PZ=e=>{const t=A.fromRangeStart(e.selection.getRng()),n=b.fromDom(e.getBody());if(e.selection.isCollapsed()){const s=K(uo,e),o=A.fromRangeStart(e.selection.getRng());return jn(s,e.getBody(),o).bind(NZ(n)).map(r=>()=>TZ(n,t,e.schema)(r).each(ny(e)))}else return m.none()},MZ=e=>{const t=()=>{const n=b.fromDom(e.getBody());e.selection.isCollapsed()||e.getDoc().execCommand("Delete");const s=A.fromRangeStart(e.selection.getRng());AZ(n,s,e.schema).each(ny(e))};return To(ve.browser.isFirefox()&&e.selection.isEditable()&&RZ(e.dom,e.selection.getRng().startContainer),t)},DZ=(e,t)=>{I3([{keyCode:W.SPACEBAR,action:ne(PZ,e)},{keyCode:W.SPACEBAR,action:ne(MZ,e)}],t).each(n=>{t.preventDefault(),ec(e,"insertText",{data:" "}).isDefaultPrevented()||(n(),Ga(e,"insertText",{data:" "}))})},OZ=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||DZ(e,t)})},BZ=e=>wk(e)?[{keyCode:W.TAB,action:ne(tC,e,!0)},{keyCode:W.TAB,shiftKey:!0,action:ne(tC,e,!1)}]:[],LZ=(e,t)=>{ja([...BZ(e)],t).each(n=>{t.preventDefault()})},HZ=e=>{e.on("keydown",t=>{t.isDefaultPrevented()||LZ(e,t)})},IZ=e=>{if(e.addShortcut("Meta+P","","mcePrint"),m$(e),Wn(e))return et(null);{const t=qB(e);return _Z(e),WL(e),qH(e,t),T$(e,t),bZ(e),OZ(e),EZ(e),HZ(e),yZ(e,t),kZ(e,t),t}};class $Z{constructor(t){this.lastPath=[],this.editor=t;let n;const s=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",o=>{const r=t.selection.getRng(),a={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset};(o.type==="nodechange"||!T1(a,n))&&t.dispatch("SelectionChange"),n=a}),t.on("contextmenu",()=>{ri(t),t.dispatch("SelectionChange")}),t.on("SelectionChange",()=>{const o=t.selection.getStart(!0);o&&ei(t)&&!s.isSameElementPath(o)&&t.dom.isChildOf(o,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",o=>{!o.isDefaultPrevented()&&ei(t)&&(t.selection.getNode().nodeName==="IMG"?Jt.setEditorTimeout(t,()=>{t.nodeChanged()}):t.nodeChanged())})}nodeChanged(t={}){const n=this.editor,s=n.selection;let o;if(n.initialized&&s&&!zS(n)&&!ql(n)){const r=n.getBody();o=s.getStart(!0)||r,(o.ownerDocument!==n.getDoc()||!n.dom.isChildOf(o,r))&&(o=r);const a=[];n.dom.getParent(o,l=>l===r?!0:(a.push(l),!1)),n.dispatch("NodeChange",{...t,element:o,parents:a})}}isSameElementPath(t){let n;const s=this.editor,o=Nr(s.dom.getParents(t,$e,s.getBody()));if(o.length===this.lastPath.length){for(n=o.length;n>=0&&o[n]===this.lastPath[n];n--);if(n===-1)return this.lastPath=o,!0}return this.lastPath=o,!1}}const sy=ra("image"),ZZ=e=>{const t=e;return m.from(t[sy])},FZ=(e,t)=>{const n=e;n[sy]=t},$f=ra("event"),zZ=e=>{const t=e;return m.from(t[$f])},ac=e=>t=>{const n=t;n[$f]=e},VZ=(e,t)=>ac(t)(e),oy=ac(0),UZ=ac(2),WZ=ac(1),jZ=(e=>t=>{const n=t;return m.from(n[$f]).exists(s=>s===e)})(0),qZ=()=>Object.freeze({length:0,item:e=>null}),Zf=ra("mode"),KZ=e=>{const t=e;return m.from(t[Zf])},lc=e=>t=>{const n=t;n[Zf]=e},ry=(e,t)=>lc(t)(e),ay=lc(0),Ff=lc(2),GZ=lc(1),ly=e=>t=>{const n=t;return m.from(n[Zf]).exists(s=>s===e)},mr=ly(0),iy=ly(1),YZ=(e,t)=>({...t,get length(){return t.length},add:(n,s)=>{if(mr(e))if(J(n)){if(!st(s))return t.add(n,s)}else return t.add(n);return null},remove:n=>{mr(e)&&t.remove(n)},clear:()=>{mr(e)&&t.clear()}}),XZ=["none","copy","link","move"],QZ=["none","copy","copyLink","copyMove","link","linkMove","move","all","uninitialized"],zf=()=>{const e=new window.DataTransfer;let t="move",n="all";const s={get dropEffect(){return t},set dropEffect(o){Ee(XZ,o)&&(t=o)},get effectAllowed(){return n},set effectAllowed(o){jZ(s)&&Ee(QZ,o)&&(n=o)},get items(){return YZ(s,e.items)},get files(){return iy(s)?qZ():e.files},get types(){return e.types},setDragImage:(o,r,a)=>{mr(s)&&(FZ(s,{image:o,x:r,y:a}),e.setDragImage(o,r,a))},getData:o=>iy(s)?"":e.getData(o),setData:(o,r)=>{mr(s)&&e.setData(o,r)},clearData:o=>{mr(s)&&e.clearData(o)}};return ay(s),s},JZ=e=>{const t=zf(),n=KZ(e);return Ff(e),oy(t),t.dropEffect=e.dropEffect,t.effectAllowed=e.effectAllowed,ZZ(e).each(s=>t.setDragImage(s.image,s.x,s.y)),R(e.types,s=>{s!=="Files"&&t.setData(s,e.getData(s))}),R(e.files,s=>t.items.add(s)),zZ(e).each(s=>{VZ(t,s)}),n.each(s=>{ry(e,s),ry(t,s)}),t},eF=e=>{const t=e.getData("text/html");return t===""?m.none():m.some(t)},cy=(e,t)=>e.setData("text/html",t),uy="x-tinymce/html",ic=j(uy),Vf="<!-- "+uy+" -->",tF=e=>Vf+e,nF=e=>e.replace(Vf,""),dy=e=>e.indexOf(Vf)!==-1,sF=e=>!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e),oF=(e,t)=>{let n="<"+e;const s=hl(t,(o,r)=>r+'="'+Ks.encodeAllRaw(o)+'"');return s.length&&(n+=" "+s.join(" ")),n+">"},rF=(e,t,n)=>{const s=e.split(/\n\n/),o=oF(t,n),r="</"+t+">",a=ge(s,i=>i.split(/\n/).join("<br />")),l=i=>o+i+r;return a.length===1?a[0]:ge(a,l).join("")},fy="%MCEPASTEBIN%",aF=(e,t)=>{const{dom:n,selection:s}=e,o=e.getBody();t.set(s.getRng());const r=n.add(e.getBody(),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},fy);ve.browser.isFirefox()&&n.setStyle(r,"left",n.getStyle(o,"direction",!0)==="rtl"?65535:-65535),n.bind(r,"beforedeactivate focusin focusout",a=>{a.stopPropagation()}),r.focus(),s.select(r,!0)},lF=(e,t)=>{const n=e.dom;if(Uf(e)){let s;const o=t.get();for(;s=Uf(e);)n.remove(s),n.unbind(s);o&&e.selection.setRng(o)}t.set(null)},Uf=e=>e.dom.get("mcepastebin"),iF=e=>$(e)&&e.id==="mcepastebin",cF=e=>{const t=e.dom,n=(a,l)=>{a.appendChild(l),t.remove(l,!0)},[s,...o]=se(e.getBody().childNodes,iF);R(o,a=>{n(s,a)});const r=t.select("div[id=mcepastebin]",s);for(let a=r.length-1;a>=0;a--){const l=t.create("div");s.insertBefore(l,r[a]),n(l,r[a])}return s?s.innerHTML:""},my=e=>e===fy,uF=e=>{const t=et(null);return{create:()=>aF(e,t),remove:()=>lF(e,t),getEl:()=>Uf(e),getHtml:()=>cF(e),getLastRng:t.get}},hy=(e,t)=>(L.each(t,n=>{dl(n,RegExp)?e=e.replace(n,""):e=e.replace(n[0],n[1])}),e),dF=e=>{const t=Es(),n=sr({},t);let s="";const o=t.getVoidElements(),r=L.makeMap("script noscript style textarea video audio iframe object"," "),a=t.getBlockElements(),l=i=>{const c=i.name,u=i;if(c==="br"){s+=`
`;return}if(c!=="wbr"){if(o[c]&&(s+=" "),r[c]){s+=" ";return}if(i.type===3&&(s+=i.value),!(i.name in t.getVoidElements())){let d=i.firstChild;if(d)do l(d);while(d=d.next)}a[c]&&u.next&&(s+=`
`,c==="p"&&(s+=`
`))}};return e=hy(e,[/<!\[[^\]]+\]>/g]),l(n.parse(e)),s},gy=e=>(e=hy(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,(n,s,o)=>!s&&!o?" ":Ye],/<br class="Apple-interchange-newline">/g,/<br>$/i]),e),fF=e=>{let t=0;return()=>e+t++},mF=e=>{const t=e.toLowerCase(),n={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return L.hasOwn(n,t)?"image/"+n[t]:"image/"+t},hF=(e,t)=>{const n=sr({sanitize:bg(e),sandbox_iframes:yg(e),sandbox_iframes_exclusions:Gu(e),convert_unsafe_embeds:xk(e)},e.schema);n.addNodeFilter("meta",o=>{L.each(o,r=>{r.remove()})});const s=n.parse(t,{forced_root_block:!1,isRootContent:!0});return Ns({validate:!0},e.schema).serialize(s)},py=(e,t)=>({content:e,cancelled:t}),gF=(e,t,n)=>{const s=e.dom.create("div",{style:"display:none"},t),o=X7(e,s,n);return py(o.node.innerHTML,o.isDefaultPrevented())},pF=(e,t,n)=>{const s=Y7(e,t,n),o=hF(e,s.content);return e.hasEventListeners("PastePostProcess")&&!s.isDefaultPrevented()?gF(e,o,n):py(o,s.isDefaultPrevented())},vF=(e,t,n)=>pF(e,t,n),Wf=(e,t)=>(e.insertContent(t,{merge:ak(e),paste:!0}),!0),jf=e=>/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(e),bF=(e,t)=>jf(t)&&Le(Cg(e),n=>Ic(t.toLowerCase(),`.${n.toLowerCase()}`)),CF=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.insertContent('<img src="'+t+'">')}),!0),yF=(e,t,n)=>(e.undoManager.extra(()=>{n(e,t)},()=>{e.execCommand("mceInsertLink",!1,t)}),!0),EF=(e,t,n)=>!e.selection.isCollapsed()&&jf(t)?yF(e,t,n):!1,wF=(e,t,n)=>bF(e,t)?CF(e,t,n):!1,SF=(e,t)=>{L.each([EF,wF,Wf],n=>!n(e,t,Wf))},kF=(e,t,n)=>{n||!lk(e)?Wf(e,t):SF(e,t)},xF=fF("mceclip"),_F=e=>{const t=zf();return cy(t,e),Ff(t),t},vy=(e,t,n,s,o)=>{const r=vF(e,t,n);if(!r.cancelled){const a=r.content,l=()=>kF(e,a,s);o?ec(e,"insertFromPaste",{dataTransfer:_F(a)}).isDefaultPrevented()||(l(),Ga(e,"insertFromPaste")):l()}},cc=(e,t,n,s)=>{const o=n||dy(t);vy(e,nF(t),o,!1,s)},qf=(e,t,n)=>{const s=e.dom.encode(t).replace(/\r\n/g,`
`),o=Eh(s,ck(e)),r=rF(o,mt(e),fa(e));vy(e,r,!1,!0,n)},by=e=>{const t={};if(e&&e.types)for(let n=0;n<e.types.length;n++){const s=e.types[n];try{t[s]=e.getData(s)}catch{t[s]=""}}return t},Ds=(e,t)=>t in e&&e[t].length>0,Cy=e=>Ds(e,"text/html")||Ds(e,"text/plain"),AF=(e,t)=>{const n=t.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return $(n)?e.dom.encode(n[1]):void 0},NF=(e,t,n,s)=>{const o=xF(),r=ag(e)&&$(n.name),a=r?AF(e,n.name):o,l=r?n.name:void 0,i=t.create(o,n,s,a,l);return t.add(i),i},TF=(e,t)=>{yd(t.uri).each(({data:n,type:s,base64Encoded:o})=>{const r=o?n:btoa(n),a=t.file,l=e.editorUpload.blobCache,i=l.getByData(r,s),c=i??NF(e,l,a,r);cc(e,`<img src="${c.blobUri()}">`,!1,!0)})},RF=e=>e.type==="paste",PF=e=>Promise.all(ge(e,t=>jv(t).then(n=>({file:t,uri:n})))),MF=e=>{const t=Cg(e);return n=>Ge(n.type,"image/")&&Le(t,s=>mF(s)===n.type)},DF=(e,t)=>{const n=t.items?qt($t(t.items),o=>o.kind==="file"?[o.getAsFile()]:[]):[],s=t.files?$t(t.files):[];return se(n.length>0?n:s,MF(e))},yy=(e,t,n)=>{const s=RF(t)?t.clipboardData:t.dataTransfer;if(jl(e)&&s){const o=DF(e,s);if(o.length>0)return t.preventDefault(),PF(o).then(r=>{n&&e.selection.setRng(n),R(r,a=>{TF(e,a)})}),!0}return!1},OF=e=>{var t,n;return ve.os.isAndroid()&&((n=(t=e.clipboardData)===null||t===void 0?void 0:t.items)===null||n===void 0?void 0:n.length)===0},BF=e=>W.metaKeyPressed(e)&&e.keyCode===86||e.shiftKey&&e.keyCode===45,Kf=(e,t,n,s,o)=>{let r=gy(n);const a=Ds(t,ic())||dy(n),l=!a&&sF(r),i=jf(r);(my(r)||!r.length||l&&!i)&&(s=!0),(s||i)&&(Ds(t,"text/plain")&&l?r=t["text/plain"]:r=dF(r)),!my(r)&&(s?qf(e,r,o):cc(e,r,a,o))},LF=(e,t,n)=>{let s;const o=()=>t.getLastRng()||e.selection.getRng();e.on("keydown",r=>{BF(r)&&!r.isDefaultPrevented()&&(s=r.shiftKey&&r.keyCode===86)}),e.on("paste",r=>{if(r.isDefaultPrevented()||OF(r))return;const a=n.get()==="text"||s;s=!1;const l=by(r.clipboardData);!Cy(l)&&yy(e,r,o())||(Ds(l,"text/html")?(r.preventDefault(),Kf(e,l,l["text/html"],a,!0)):Ds(l,"text/plain")&&Ds(l,"text/uri-list")?(r.preventDefault(),Kf(e,l,l["text/plain"],a,!0)):(t.create(),Jt.setEditorTimeout(e,()=>{const i=t.getHtml();t.remove(),Kf(e,l,i,a,!1)},0)))})},HF=e=>{const t=o=>Ge(o,"webkit-fake-url"),n=o=>Ge(o,"data:"),s=o=>{var r;return((r=o.data)===null||r===void 0?void 0:r.paste)===!0};e.parser.addNodeFilter("img",(o,r,a)=>{if(!jl(e)&&s(a))for(const l of o){const i=l.attr("src");J(i)&&!l.attr("data-mce-object")&&i!==ve.transparentSrc&&(t(i)||!uk(e)&&n(i))&&l.remove()}})},IF=(e,t,n)=>{LF(e,t,n),HF(e)},$F=(e,t)=>{t.get()==="text"?(t.set("html"),eg(e,!1)):(t.set("text"),eg(e,!0)),e.focus()},ZF=(e,t)=>{e.addCommand("mceTogglePlainTextPaste",()=>{$F(e,t)}),e.addCommand("mceInsertClipboardContent",(n,s)=>{s.html&&cc(e,s.html,s.internal,!1),s.text&&qf(e,s.text,!1)})},FF=(e,t,n)=>{if(e)try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(ic(),t),!0}catch{return!1}else return!1},Ey=(e,t,n,s)=>{FF(e.clipboardData,t.html,t.text)?(e.preventDefault(),s()):n(t.html,s)},wy=e=>(t,n)=>{const{dom:s,selection:o}=e,r=s.create("div",{contenteditable:"false","data-mce-bogus":"all"}),a=s.create("div",{contenteditable:"true"},t);s.setStyles(r,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),r.appendChild(a),s.add(e.getBody(),r);const l=o.getRng();a.focus();const i=s.createRng();i.selectNodeContents(a),o.setRng(i),Jt.setEditorTimeout(e,()=>{o.setRng(l),s.remove(r),n()},0)},Sy=e=>({html:tF(e.selection.getContent({contextual:!0})),text:e.selection.getContent({format:"text"})}),zF=e=>!!e.dom.getParent(e.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",e.getBody()),ky=e=>!e.selection.isCollapsed()||zF(e),VF=e=>t=>{!t.isDefaultPrevented()&&ky(e)&&e.selection.isEditable()&&Ey(t,Sy(e),wy(e),()=>{if(ve.browser.isChromium()||ve.browser.isFirefox()){const n=e.selection.getRng();Jt.setEditorTimeout(e,()=>{e.selection.setRng(n),e.execCommand("Delete")},0)}else e.execCommand("Delete")})},UF=e=>t=>{!t.isDefaultPrevented()&&ky(e)&&Ey(t,Sy(e),wy(e),ie)},WF=e=>{e.on("cut",VF(e)),e.on("copy",UF(e))},xy=(e,t)=>{var n,s;return io.getCaretRangeFromPoint((n=t.clientX)!==null&&n!==void 0?n:0,(s=t.clientY)!==null&&s!==void 0?s:0,e.getDoc())},jF=e=>{const t=e["text/plain"];return t?t.indexOf("file://")===0:!1},_y=(e,t)=>{e.focus(),t&&e.selection.setRng(t)},qF=e=>Le(e.files,t=>/^image\//.test(t.type)),KF=(e,t,n,s)=>{const o=e.getParent(n,a=>js(t,a));if(!vt(e.getParent(n,"summary")))return!0;if(o&&oe(s,"text/html")){const a=new DOMParser().parseFromString(s["text/html"],"text/html").body;return!vt(a.querySelector(o.nodeName.toLowerCase()))}else return!1},GF=e=>{e.on("input",t=>{const n=s=>vt(s.querySelector("summary"));if(t.inputType==="deleteByDrag"){const s=se(e.dom.select("details"),n);R(s,o=>{De(o.firstChild)&&o.firstChild.remove();const r=e.dom.create("summary");r.appendChild(Fo().dom),o.prepend(r)})}})},YF=(e,t)=>{ek(e)&&e.on("dragend dragover draggesture dragdrop drop drag",n=>{n.preventDefault(),n.stopPropagation()}),jl(e)||e.on("drop",n=>{const s=n.dataTransfer;s&&qF(s)&&n.preventDefault()}),e.on("drop",n=>{if(n.isDefaultPrevented())return;const s=xy(e,n);if(ze(s))return;const o=by(n.dataTransfer),r=Ds(o,ic());if((!Cy(o)||jF(o))&&yy(e,n,s))return;const a=o[ic()],l=a||o["text/html"]||o["text/plain"],i=KF(e.dom,e.schema,s.startContainer,o),c=t.get();c&&!i||l&&(n.preventDefault(),Jt.setEditorTimeout(e,()=>{e.undoManager.transact(()=>{(a||c&&i)&&e.execCommand("Delete"),_y(e,s);const u=gy(l);o["text/html"]?cc(e,u,r,!0):qf(e,u,!0)})}))}),e.on("dragstart",n=>{t.set(!0)}),e.on("dragover dragend",n=>{jl(e)&&!t.get()&&(n.preventDefault(),_y(e,xy(e,n))),n.type==="dragend"&&t.set(!1)}),GF(e)},XF=e=>{const t=o=>r=>{o(e,r)},n=tk(e);we(n)&&e.on("PastePreProcess",t(n));const s=nk(e);we(s)&&e.on("PastePostProcess",t(s))},QF=(e,t)=>{e.on("PastePreProcess",n=>{n.content=t(e,n.content,n.internal)})},JF=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,Ay=e=>L.trim(e).replace(JF,Xr).toLowerCase(),ez=(e,t,n)=>{const s=ok(e);if(n||s==="all"||!rk(e))return t;const o=s?s.split(/[, ]/):[];if(o&&s!=="none"){const r=e.dom,a=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(l,i,c,u)=>{const d=r.parseStyle(r.decode(c)),f={};for(let p=0;p<o.length;p++){const g=d[o[p]];let v=g,C=r.getStyle(a,o[p],!0);/color/.test(o[p])&&(v=Ay(v),C=Ay(C)),C!==v&&(f[o[p]]=g)}const h=r.serializeStyle(f,"span");return h?i+' style="'+h+'"'+u:i+u})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(r,a,l,i)=>a+' style="'+l+'"'+i),t},tz=e=>{(ve.browser.isChromium()||ve.browser.isSafari())&&QF(e,ez)},nz=e=>{const t=et(!1),n=et(ik(e)?"text":"html"),s=uF(e);tz(e),ZF(e,n),XF(e),e.addQueryStateHandler("mceTogglePlainTextPaste",()=>n.get()==="text"),e.on("PreInit",()=>{WF(e),YF(e,t),IF(e,s,n)})},sz=e=>{e.on("click",t=>{e.dom.getParent(t.target,"details")&&t.preventDefault()})},oz=e=>{e.parser.addNodeFilter("details",t=>{const n=Sk(e);R(t,s=>{n==="expanded"?s.attr("open","open"):n==="collapsed"&&s.attr("open",null)})}),e.serializer.addNodeFilter("details",t=>{const n=kk(e);R(t,s=>{n==="expanded"?s.attr("open","open"):n==="collapsed"&&s.attr("open",null)})})},rz=e=>{sz(e),oz(e)},az=De,Ny=O,lz=e=>_e(e.dom),iz=e=>ln(e.dom),Ty=e=>t=>Ce(b.fromDom(e),t),cz=(e,t,n)=>vs(b.fromDom(e),s=>iz(s)||n.isBlock(pe(s)),Ty(t)).getOr(b.fromDom(t)).dom,Ry=(e,t)=>vs(b.fromDom(e),lz,Ty(t)),Py=(e,t,n)=>{const s=new Je(e,t),o=n?s.next.bind(s):s.prev.bind(s);let r=e;for(let a=n?e:o();a&&!az(a);a=o())wn(a)&&(r=a);return r},uz=(e,t,n)=>{const o=A.fromRangeStart(e).getNode(),r=cz(o,t,n),a=Py(o,r,!1),l=Py(o,r,!0),i=document.createRange();return Ry(a,r).fold(()=>{Ny(a)?i.setStart(a,0):i.setStartBefore(a)},c=>i.setStartBefore(c.dom)),Ry(l,r).fold(()=>{Ny(l)?i.setEnd(l,l.data.length):i.setEndAfter(l)},c=>i.setEndAfter(c.dom)),i},dz=e=>{const t=uz(e.selection.getRng(),e.getBody(),e.schema);e.selection.setRng(od(t))},fz=e=>{e.on("mousedown",t=>{t.detail>=3&&(t.preventDefault(),dz(e))})};var hr;(function(e){e.Before="before",e.After="after"})(hr||(hr={}));const mz=(e,t)=>Math.abs(e.left-t),hz=(e,t)=>Math.abs(e.right-t),gz=(e,t)=>e>=t.top&&e<=t.bottom,pz=(e,t)=>e.top<t.bottom&&e.bottom>t.top,vz=(e,t)=>{const n=qw(e,t)/Math.min(e.height,t.height);return pz(e,t)&&n>.5},bz=(e,t)=>{const n=se(e,s=>gz(t,s));return jw(n).fold(()=>[[],e],s=>{const{pass:o,fail:r}=ko(e,a=>vz(a,s));return[o,r]})},Cz=(e,t)=>({node:e.node,position:mz(e,t)<hz(e,t)?hr.Before:hr.After}),yz=(e,t,n)=>t>e.left&&t<e.right?0:Math.min(Math.abs(e.left-t),Math.abs(e.right-t)),Gf=(e,t,n,s)=>{const o=d=>wn(d.node)?m.some(d):q(d.node)?Gf($t(d.node.childNodes),t,n,!1):m.none(),r=(d,f,h)=>o(f).filter(p=>Math.abs(h(d,t,n)-h(p,t,n))<2&&O(p.node)),a=(d,f)=>{const h=$s(d,(p,g)=>f(p,t,n)-f(g,t,n));return xo(h,o).map(p=>s&&!O(p.node)&&h.length>1?r(p,h[1],f).getOr(p):p)},[l,i]=bz(Qb(e),n),{pass:c,fail:u}=ko(i,d=>d.top<n);return a(l,yz).orThunk(()=>a(u,y0)).orThunk(()=>a(c,y0))},Ez=(e,t,n,s)=>{const o=(r,a)=>{const l=c=>q(c)&&c.classList.contains("mce-drag-container"),i=se(r.dom.childNodes,kr(l));return a.fold(()=>Gf(i,n,s,!0),c=>{const u=se(i,d=>d!==c.dom);return Gf(u,n,s,!0)}).orThunk(()=>(Ce(r,e)?m.none():Vr(r)).bind(u=>o(u,m.some(r))))};return o(t,m.none())},wz=(e,t,n)=>{const s=b.fromDom(e),o=hs(s),a=b.fromPoint(o,t,n).filter(l=>bn(s,l)).getOr(s);return Ez(s,a,t,n)},My=(e,t,n)=>wz(e,t,n).filter(s=>ga(s.node)).map(s=>Cz(s,t)),Dy=e=>{var t,n;const s=e.getBoundingClientRect(),o=e.ownerDocument,r=o.documentElement,a=o.defaultView;return{top:s.top+((t=a?.scrollY)!==null&&t!==void 0?t:0)-r.clientTop,left:s.left+((n=a?.scrollX)!==null&&n!==void 0?n:0)-r.clientLeft}},Sz=e=>e.inline?Dy(e.getBody()):{left:0,top:0},kz=e=>{const t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},xz=e=>{const t=e.getBody(),n=e.getDoc().documentElement,s={left:t.scrollLeft,top:t.scrollTop},o={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?s:o},_z=(e,t)=>{if(t.target.ownerDocument!==e.getDoc()){const n=Dy(e.getContentAreaContainer()),s=xz(e);return{left:t.pageX-n.left+s.left,top:t.pageY-n.top+s.top}}return{left:t.pageX,top:t.pageY}},Az=(e,t,n)=>({pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}),Nz=(e,t)=>Az(Sz(e),kz(e),_z(e,t)),Oy=e=>({target:e,srcElement:e}),Tz=(e,t,n,s)=>({...t,dataTransfer:s,type:e,...Oy(n)}),Rz=(e,t,n)=>{const s=Cm("Function not supported on simulated event.");return{bubbles:!0,cancelBubble:!1,cancelable:!0,composed:!1,currentTarget:null,defaultPrevented:!1,eventPhase:0,isTrusted:!0,returnValue:!1,timeStamp:0,type:e,composedPath:s,initEvent:s,preventDefault:ie,stopImmediatePropagation:ie,stopPropagation:ie,AT_TARGET:window.Event.AT_TARGET,BUBBLING_PHASE:window.Event.BUBBLING_PHASE,CAPTURING_PHASE:window.Event.CAPTURING_PHASE,NONE:window.Event.NONE,altKey:!1,button:0,buttons:0,clientX:0,clientY:0,ctrlKey:!1,layerX:0,layerY:0,metaKey:!1,movementX:0,movementY:0,offsetX:0,offsetY:0,pageX:0,pageY:0,relatedTarget:null,screenX:0,screenY:0,shiftKey:!1,x:0,y:0,detail:0,view:null,which:0,initUIEvent:s,initMouseEvent:s,getModifierState:s,dataTransfer:n,...Oy(t)}},Pz=(e,t)=>{const n=JZ(e);return t==="dragstart"?(oy(n),ay(n)):t==="drop"?(UZ(n),Ff(n)):(WZ(n),GZ(n)),n},Mz=(e,t,n,s)=>{const o=Pz(n,e);return st(s)?Rz(e,t,o):Tz(e,s,t,o)},By=32,Dz=100,uc=8,dc=16,Ly=_e,Oz=Yw(Ly,ln),Bz=(e,t,n)=>Ly(n)&&n!==t&&e.isEditable(n.parentElement),Lz=(e,t,n)=>ze(t)||t===n||e.dom.isChildOf(t,n)?!1:e.dom.isEditable(t),Hz=(e,t,n,s)=>{const o=e.dom,r=t.cloneNode(!0);o.setStyles(r,{width:n,height:s}),o.setAttrib(r,"data-mce-selected",null);const a=o.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return o.setStyles(a,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:s}),o.setStyles(r,{margin:0,boxSizing:"border-box"}),a.appendChild(r),a},Iz=(e,t)=>{e.parentNode!==t&&t.appendChild(e)},fc=(e,t)=>n=>()=>{const s=e==="left"?n.scrollX:n.scrollY;n.scroll({[e]:s+t,behavior:"smooth"})},Hy=fc("left",-32),Iy=fc("left",By),$y=fc("top",-32),Zy=fc("top",By),$z=(e,t,n,s,o,r,a,l,i,c,u,d)=>{let f=0,h=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>o&&(f=t.pageX+n-o),t.pageY+s>r&&(h=t.pageY+s-r),e.style.width=n-f+"px",e.style.height=s-h+"px";const p=i.clientHeight,g=i.clientWidth,v=a+i.getBoundingClientRect().top,C=l+i.getBoundingClientRect().left;u.on(y=>{y.intervalId.clear(),y.dragging&&d&&(a+uc>=p?y.intervalId.set(Zy(c)):a-uc<=0?y.intervalId.set($y(c)):l+uc>=g?y.intervalId.set(Iy(c)):l-uc<=0?y.intervalId.set(Hy(c)):v+dc>=window.innerHeight?y.intervalId.set(Zy(window)):v-dc<=0?y.intervalId.set($y(window)):C+dc>=window.innerWidth?y.intervalId.set(Iy(window)):C-dc<=0&&y.intervalId.set(Hy(window)))})},Fy=e=>{e&&e.parentNode&&e.parentNode.removeChild(e)},Zz=(e,t)=>{const n=e.getParent(t.parentNode,e.isBlock);Fy(t),n&&n!==e.getRoot()&&e.isEmpty(n)&&ws(b.fromDom(n))},Fz=e=>e.button===0,zz=(e,t)=>({pageX:t.pageX-e.relX,pageY:t.pageY+5}),Vz=(e,t)=>n=>{if(Fz(n)){const s=Ke(t.dom.getParents(n.target),Oz).getOr(null);if($(s)&&Bz(t.dom,t.getBody(),s)){const o=t.dom.getPos(s),r=t.getBody(),a=t.getDoc().documentElement;e.set({element:s,dataTransfer:zf(),dragging:!1,screenX:n.screenX,screenY:n.screenY,maxX:(t.inline?r.scrollWidth:a.offsetWidth)-2,maxY:(t.inline?r.scrollHeight:a.offsetHeight)-2,relX:n.pageX-o.x,relY:n.pageY-o.y,width:s.offsetWidth,height:s.offsetHeight,ghost:Hz(t,s,s.offsetWidth,s.offsetHeight),intervalId:f8(Dz)})}}},Uz=(e,t,n)=>{e._selectionOverrides.hideFakeCaret(),My(e.getBody(),t,n).fold(()=>e.selection.placeCaretAt(t,n),s=>{const o=e._selectionOverrides.showCaret(1,s.node,s.position===hr.Before,!1);o?e.selection.setRng(o):e.selection.placeCaretAt(t,n)})},Ja=(e,t,n,s,o)=>{t==="dragstart"&&cy(s,e.dom.getOuterHTML(n));const r=Mz(t,n,s,o);return e.dispatch(t,r)},Wz=(e,t)=>{const n=Bl((o,r)=>Uz(t,o,r),0);t.on("remove",n.cancel);const s=e;return o=>e.on(r=>{const a=Math.max(Math.abs(o.screenX-r.screenX),Math.abs(o.screenY-r.screenY));if(!r.dragging&&a>10){const l=Ja(t,"dragstart",r.element,r.dataTransfer,o);if($(l.dataTransfer)&&(r.dataTransfer=l.dataTransfer),l.isDefaultPrevented())return;r.dragging=!0,t.focus()}if(r.dragging){const l=o.currentTarget===t.getDoc().documentElement,i=zz(r,Nz(t,o));Iz(r.ghost,t.getBody()),$z(r.ghost,i,r.width,r.height,r.maxX,r.maxY,o.clientY,o.clientX,t.getContentAreaContainer(),t.getWin(),s,l),n.throttle(o.clientX,o.clientY)}})},jz=e=>{const t=e.getSel();if($(t)){const s=t.getRangeAt(0).startContainer;return O(s)?s.parentNode:s}else return null},qz=(e,t)=>n=>{e.on(s=>{var o;if(s.intervalId.clear(),s.dragging){if(Lz(t,jz(t.selection),s.element)){const r=(o=t.getDoc().elementFromPoint(n.clientX,n.clientY))!==null&&o!==void 0?o:t.getBody();Ja(t,"drop",r,s.dataTransfer,n).isDefaultPrevented()||t.undoManager.transact(()=>{Zz(t.dom,s.element),eF(s.dataTransfer).each(l=>t.insertContent(l)),t._selectionOverrides.hideFakeCaret()})}Ja(t,"dragend",t.getBody(),s.dataTransfer,n)}}),Vy(e)},zy=(e,t,n)=>{e.on(s=>{s.intervalId.clear(),s.dragging&&n.fold(()=>Ja(t,"dragend",s.element,s.dataTransfer),o=>Ja(t,"dragend",s.element,s.dataTransfer,o))}),Vy(e)},Kz=(e,t)=>n=>zy(e,t,m.some(n)),Vy=e=>{e.on(t=>{t.intervalId.clear(),Fy(t.ghost)}),e.clear()},Gz=e=>{const t=os(),n=ke.DOM,s=document,o=Vz(t,e),r=Wz(t,e),a=qz(t,e),l=Kz(t,e);e.on("mousedown",o),e.on("mousemove",r),e.on("mouseup",a),n.bind(s,"mousemove",r),n.bind(s,"mouseup",l),e.on("remove",()=>{n.unbind(s,"mousemove",r),n.unbind(s,"mouseup",l)}),e.on("keydown",i=>{i.keyCode===W.ESC&&zy(t,e,m.none())})},Yz=e=>{const t=o=>{if(!o.isDefaultPrevented()){const r=o.dataTransfer;r&&(Ee(r.types,"Files")||r.files.length>0)&&(o.preventDefault(),o.type==="drop"&&Oi(e,"Dropped file type is not supported"))}},n=o=>{ai(e,o.target)&&t(o)},s=()=>{const o=ke.DOM,r=e.dom,a=document,l=e.inline?e.getBody():e.getDoc(),i=["drop","dragover"];R(i,c=>{o.bind(a,c,n),r.bind(l,c,t)}),e.on("remove",()=>{R(i,c=>{o.unbind(a,c,n),r.unbind(l,c,t)})})};e.on("init",()=>{Jt.setEditorTimeout(e,s,0)})},Xz=e=>{Gz(e),WS(e)&&Yz(e)},Qz=e=>{const t=Bl(()=>{if(!e.removed&&e.getBody().contains(document.activeElement)){const n=e.selection.getRng();if(n.collapsed){const s=qd(e,n,!1);e.selection.setRng(s)}}},0);e.on("focus",()=>{t.throttle()}),e.on("blur",()=>{t.cancel()})},Jz=e=>{e.on("init",()=>{e.on("focusin",t=>{const n=t.target;if(In(n)){const s=fo(e.getBody(),n),o=_e(s)?s:n;e.selection.getNode()!==o&&za(e,o).each(r=>e.selection.setRng(r))}})})},el=_e,Uy=(e,t)=>fo(e.getBody(),t),eV=e=>{const t=e.selection,n=e.dom,s=e.getBody(),o=$k(e,s,n.isBlock,()=>tr(e)),r="sel-"+n.uniqueId(),a="data-mce-selected";let l;const i=V=>$(V)&&n.hasClass(V,"mce-offscreen-selection"),c=V=>V!==s&&(el(V)||In(V))&&n.isChildOf(V,s)&&n.isEditable(V.parentNode),u=V=>{V&&t.setRng(V)},d=(V,N,_,P=!0)=>e.dispatch("ShowCaret",{target:N,direction:V,before:_}).isDefaultPrevented()?null:(P&&t.scrollIntoView(N,V===-1),o.show(_,N)),f=V=>{V.hasAttribute("data-mce-caret")&&(Du(V),t.scrollIntoView(V))},h=()=>{e.on("click",N=>{n.isEditable(N.target)||(N.preventDefault(),e.focus())}),e.on("blur NewBlock",S),e.on("ResizeWindow FullscreenStateChanged",o.reposition),e.on("tap",N=>{const _=N.target,P=Uy(e,_);el(P)?(N.preventDefault(),za(e,P).each(E)):c(_)&&za(e,_).each(E)},!0),e.on("mousedown",N=>{const _=N.target;if(_!==s&&_.nodeName!=="HTML"&&!n.isChildOf(_,s)||!y9(e,N.clientX,N.clientY))return;S(),D();const P=Uy(e,_);el(P)?(N.preventDefault(),za(e,P).each(E)):My(s,N.clientX,N.clientY).each(F=>{N.preventDefault();const G=d(1,F.node,F.position===hr.Before,!1);u(G),Ln(P)?P.focus():e.getBody().focus()})}),e.on("keypress",N=>{W.modifierPressed(N)||el(t.getNode())&&N.preventDefault()}),e.on("GetSelectionRange",N=>{let _=N.range;if(l){if(!l.parentNode){l=null;return}_=_.cloneRange(),_.selectNode(l),N.range=_}}),e.on("SetSelectionRange",N=>{N.range=v(N.range);const _=E(N.range,N.forward);_&&(N.range=_)});const V=N=>q(N)&&N.id==="mcepastebin";e.on("AfterSetSelectionRange",N=>{const _=N.range,P=_.startContainer.parentElement;!g(_)&&!V(P)&&D(),i(P)||S()}),Xz(e),Qz(e),Jz(e)},p=V=>Kt(V)||Il(V)||$l(V),g=V=>p(V.startContainer)||p(V.endContainer),v=V=>{const N=e.schema.getVoidElements(),_=n.createRng(),P=V.startContainer,F=V.startOffset,G=V.endContainer,re=V.endOffset;return oe(N,P.nodeName.toLowerCase())?F===0?_.setStartBefore(P):_.setStartAfter(P):_.setStart(P,F),oe(N,G.nodeName.toLowerCase())?re===0?_.setEndBefore(G):_.setEndAfter(G):_.setEnd(G,re),_},C=(V,N)=>{const _=b.fromDom(e.getBody()),P=e.getDoc(),F=yl(_,"#"+r).getOrThunk(()=>{const le=b.fromHtml('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>',P);return ot(le,"id",r),Ve(_,le),le}),G=n.createRng();Oo(F),zs(F,[b.fromText(Ye,P),b.fromDom(N),b.fromText(Ye,P)]),G.setStart(F.dom.firstChild,1),G.setEnd(F.dom.lastChild,0),wl(F,{top:n.getPos(V,e.getBody()).y+"px"}),pp(F);const re=t.getSel();return re&&(re.removeAllRanges(),re.addRange(G)),G},y=V=>{const N=V.cloneNode(!0),_=e.dispatch("ObjectSelected",{target:V,targetClone:N});if(_.isDefaultPrevented())return null;const P=C(V,_.targetClone),F=b.fromDom(V);return R(dt(b.fromDom(e.getBody()),`*[${a}]`),G=>{Ce(F,G)||rt(G,a)}),n.getAttrib(V,a)||V.setAttribute(a,"1"),l=V,D(),P},E=(V,N)=>{if(!V)return null;if(V.collapsed){if(!g(V)){const G=N?1:-1,re=Ca(G,s,V),le=re.getNode(!N);if($(le)){if(ga(le))return d(G,le,N?!re.isAtEnd():!1,!1);if(Ss(le)&&_e(le.nextSibling)){const be=n.createRng();return be.setStart(le,0),be.setEnd(le,0),be}}const he=re.getNode(N);if($(he)){if(ga(he))return d(G,he,N?!1:!re.isAtEnd(),!1);if(Ss(he)&&_e(he.previousSibling)){const be=n.createRng();return be.setStart(he,1),be.setEnd(he,1),be}}}return null}let _=V.startContainer,P=V.startOffset;const F=V.endOffset;if(O(_)&&P===0&&el(_.parentNode)&&(_=_.parentNode,P=n.nodeIndex(_),_=_.parentNode),!q(_))return null;if(F===P+1&&_===V.endContainer){const G=_.childNodes[P];if(c(G))return y(G)}return null},S=()=>{l&&l.removeAttribute(a),yl(b.fromDom(e.getBody()),"#"+r).each(Ne),l=null},T=()=>{o.destroy(),l=null},D=()=>{o.hide()};return Wn(e)||h(),{showCaret:d,showBlockCaretContainer:f,hideFakeCaret:D,destroy:T}},tV=(e,t)=>{let n=t;for(let s=e.previousSibling;O(s);s=s.previousSibling)n+=s.data.length;return n},Wy=(e,t,n,s,o)=>{if(O(n)&&(s<0||s>n.data.length))return[];const r=o&&O(n)?[tV(n,s)]:[s];let a=n;for(;a!==t&&a.parentNode;)r.push(e.nodeIndex(a,o)),a=a.parentNode;return a===t?r.reverse():[]},Yf=(e,t,n,s,o,r,a=!1)=>{const l=Wy(e,t,n,s,a),i=Wy(e,t,o,r,a);return{start:l,end:i}},jy=(e,t)=>{const n=t.slice(),s=n.pop();return an(s)?Mt(n,(r,a)=>r.bind(l=>m.from(l.childNodes[a])),m.some(e)).bind(r=>O(r)&&(s<0||s>r.data.length)?m.none():m.some({node:r,offset:s})):m.none()},qy=(e,t)=>jy(e,t.start).bind(({node:n,offset:s})=>jy(e,t.end).map(({node:o,offset:r})=>{const a=document.createRange();return a.setStart(n,s),a.setEnd(o,r),a})),nV=(e,t,n,s=!1)=>Yf(e,t,n.startContainer,n.startOffset,n.endContainer,n.endOffset,s),gr=(e,t,n)=>{if(t&&e.isEmpty(t)&&!n(t)){const s=t.parentNode;e.remove(t,O(t.firstChild)&&Lo(t.firstChild.data)),gr(e,s,n)}},mc=(e,t,n,s=!0)=>{const o=t.startContainer.parentNode,r=t.endContainer.parentNode;t.deleteContents(),s&&!n(t.startContainer)&&(O(t.startContainer)&&t.startContainer.data.length===0&&e.remove(t.startContainer),O(t.endContainer)&&t.endContainer.data.length===0&&e.remove(t.endContainer),gr(e,o,n),o!==r&&gr(e,r,n))},hc=(e,t)=>m.from(e.dom.getParent(t.startContainer,e.dom.isBlock)),Xf=(e,t,n)=>{const s=e.dynamicPatternsLookup({text:n,block:t});return{...e,blockPatterns:j0(s).concat(e.blockPatterns),inlinePatterns:q0(s).concat(e.inlinePatterns)}},Qf=(e,t,n,s)=>{const o=e.createRng();return o.setStart(t,0),o.setEnd(n,s),o.toString()},Ky=(e,t)=>e.create("span",{"data-mce-type":"bookmark",id:t}),gc=(e,t)=>{const n=e.createRng();return n.setStartAfter(t.start),n.setEndBefore(t.end),n},Gy=(e,t,n)=>{const s=qy(e.getRoot(),n).getOrDie("Unable to resolve path range"),o=s.startContainer,r=s.endContainer,a=s.endOffset===0?r:r.splitText(s.endOffset),l=s.startOffset===0?o:o.splitText(s.startOffset),i=l.parentNode,c=a.parentNode;return{prefix:t,end:c.insertBefore(Ky(e,t+"-end"),a),start:i.insertBefore(Ky(e,t+"-start"),l)}},Yy=(e,t,n)=>{gr(e,e.get(t.prefix+"-end"),n),gr(e,e.get(t.prefix+"-start"),n)},Jf=e=>e.start.length===0,sV=e=>(t,n)=>{const o=t.data.substring(0,n),r=o.lastIndexOf(e.charAt(e.length-1)),a=o.lastIndexOf(e);return a!==-1?a+e.length:r!==-1?r+1:-1},Xy=(e,t,n,s)=>{const o=t.start;return Cf(e,s.container,s.offset,sV(o),n).bind(a=>{var l,i;const c=(i=(l=n.textContent)===null||l===void 0?void 0:l.indexOf(o))!==null&&i!==void 0?i:-1;if(c!==-1&&a.offset>=c+o.length){const d=e.createRng();return d.setStart(a.container,a.offset-o.length),d.setEnd(a.container,a.offset),m.some(d)}else{const d=a.offset-o.length;return bf(a.container,d,n).map(f=>{const h=e.createRng();return h.setStart(f.container,f.offset),h.setEnd(a.container,a.offset),h}).filter(f=>f.toString()===o).orThunk(()=>Xy(e,t,n,xn(a.container,0)))}})},oV=(e,t,n,s,o,r=!1)=>{if(t.start.length===0&&!r){const a=e.createRng();return a.setStart(n,s),a.setEnd(n,s),m.some(a)}return vf(n,s,o).bind(a=>Xy(e,t,o,a).bind(i=>{var c;if(r){if(i.endContainer===a.container&&i.endOffset===a.offset)return m.none();if(a.offset===0&&((c=i.endContainer.textContent)===null||c===void 0?void 0:c.length)===i.endOffset)return m.none()}return m.some(i)}))},rV=(e,t,n,s)=>{const o=e.dom,r=o.getRoot(),a=n.pattern,l=n.position.container,i=n.position.offset;return bf(l,i-n.pattern.end.length,t).bind(c=>{const u=Yf(o,r,c.container,c.offset,l,i,s);if(Jf(a))return m.some({matches:[{pattern:a,startRng:u,endRng:u}],position:c});{const d=pc(e,n.remainingPatterns,c.container,c.offset,t,s),f=d.getOr({matches:[],position:c}),h=f.position;return oV(o,a,h.container,h.offset,t,d.isNone()).map(g=>{const v=nV(o,r,g,s);return{matches:f.matches.concat([{pattern:a,startRng:v,endRng:u}]),position:xn(g.startContainer,g.startOffset)}})}})},pc=(e,t,n,s,o,r)=>{const a=e.dom;return vf(n,s,a.getRoot()).bind(l=>{const i=Qf(a,o,n,s);for(let c=0;c<t.length;c++){const u=t[c];if(!Ic(i,u.end))continue;const d=t.slice();d.splice(c,1);const f=rV(e,o,{pattern:u,remainingPatterns:d,position:l},r);if(f.isNone()&&s>0)return pc(e,t,n,s-1,o,r);if(f.isSome())return f}return m.none()})},Qy=(e,t,n)=>{e.selection.setRng(n),t.type==="inline-format"?R(t.format,s=>{e.formatter.apply(s)}):e.execCommand(t.cmd,!1,t.value)},aV=(e,t,n,s)=>{const o=gc(e.dom,n);mc(e.dom,o,s),Qy(e,t,o)},lV=(e,t,n,s,o)=>{const r=e.dom,a=gc(r,s),l=gc(r,n);mc(r,l,o),mc(r,a,o);const i={prefix:n.prefix,start:n.end,end:s.start},c=gc(r,i);Qy(e,t,c)},iV=(e,t)=>{const n=ra("mce_textpattern"),s=_r(t,(o,r)=>{const a=Gy(e,n+`_end${o.length}`,r.endRng);return o.concat([{...r,endMarker:a}])},[]);return _r(s,(o,r)=>{const a=s.length-o.length-1,l=Jf(r.pattern)?r.endMarker:Gy(e,n+`_start${a}`,r.startRng);return o.concat([{...r,startMarker:l}])},[])},cV=e=>$s(e,(t,n)=>n.end.length-t.end.length),uV=(e,t)=>{const n=Xn(e,s=>Le(t,o=>s.pattern.start===o.pattern.start&&s.pattern.end===o.pattern.end));return e.length===t.length?n?e:t:e.length>t.length?e:t},Jy=(e,t,n,s,o,r)=>{const a=pc(e,o.inlinePatterns,n,s,t,r).fold(()=>[],i=>i.matches),l=pc(e,cV(o.inlinePatterns),n,s,t,r).fold(()=>[],i=>i.matches);return uV(a,l)},e5=(e,t)=>{if(t.length===0)return;const n=e.dom,s=e.selection.getBookmark(),o=iV(n,t);R(o,r=>{const a=n.getParent(r.startMarker.start,n.isBlock),l=i=>i===a;Jf(r.pattern)?aV(e,r.pattern,r.endMarker,l):lV(e,r.pattern,r.startMarker,r.endMarker,l),Yy(n,r.endMarker,l),Yy(n,r.startMarker,l)}),e.selection.moveToBookmark(s)},t5=(e,t,n)=>GH(t,0,t).map(s=>{const o=s.container;return nC(o,n.start.length,t).each(r=>{const a=e.createRng();a.setStart(o,0),a.setEnd(r.container,r.offset),mc(e,a,l=>l===t)}),o}),n5=e=>(t,n)=>{const s=t.dom,o=n.pattern,r=qy(s.getRoot(),n.range).getOrDie("Unable to resolve path range"),a=(l,i)=>{const c=i.get(l);return Me(c)&&_t(c).exists(u=>oe(u,"block"))};return hc(t,r).each(l=>{o.type==="block-format"?a(o.format,t.formatter)&&t.undoManager.transact(()=>{e(t.dom,l,o),t.formatter.apply(o.format)}):o.type==="block-command"&&t.undoManager.transact(()=>{e(t.dom,l,o),t.execCommand(o.cmd,!1,o.value)})}),!0},dV=e=>$s(e,(t,n)=>n.start.length-t.start.length),s5=e=>(t,n)=>{const s=dV(t),o=n.replace(Ye," ");return Ke(s,r=>e(r,n,o))},o5=(e,t)=>(n,s,o,r,a)=>{var l;a===void 0&&(a=(l=s.textContent)!==null&&l!==void 0?l:"");const i=n.dom,c=mt(n);return i.is(s,c)?e(o.blockPatterns,a).map(u=>t&&L.trim(a).length===u.start.length?[]:[{pattern:u,range:Yf(i,i.getRoot(),s,0,s,0,r)}]).getOr([]):[]},fV=e=>/^\s[^\s]/.test(e),mV=n5((e,t,n)=>{t5(e,t,n).each(s=>{const o=b.fromDom(s),r=aa(o);fV(r)&&h0(o,r.slice(1))})}),hV=s5((e,t,n)=>t.indexOf(e.start)===0||n.indexOf(e.start)===0),gV=o5(hV,!0),pV=(e,t)=>{const n=e.selection.getRng();return hc(e,n).map(s=>{var o;const r=Math.max(0,n.startOffset),a=Xf(t,s,(o=s.textContent)!==null&&o!==void 0?o:""),l=Jy(e,s,n.startContainer,r,a,!0),i=gV(e,s,a,!0);return{inlineMatches:l,blockMatches:i}}).filter(({inlineMatches:s,blockMatches:o})=>o.length>0||s.length>0)},vV=(e,t)=>{if(t.length===0)return;const n=e.selection.getBookmark();R(t,s=>mV(e,s)),e.selection.moveToBookmark(n)},bV=n5(t5),CV=s5((e,t,n)=>t===e.start||n===e.start),yV=o5(CV,!1),EV=(e,t)=>{const n=e.selection.getRng();return hc(e,n).map(s=>{const o=Math.max(0,n.startOffset),r=Qf(e.dom,s,n.startContainer,o),a=Xf(t,s,r);return yV(e,s,a,!1,r)}).filter(s=>s.length>0)},wV=(e,t)=>{R(t,n=>bV(e,n))},SV=(e,t)=>pV(e,t).fold(Pe,({inlineMatches:n,blockMatches:s})=>(e.undoManager.add(),e.undoManager.extra(()=>{e.execCommand("mceInsertNewLine")},()=>{$w(e),e5(e,n),vV(e,s);const o=e.selection.getRng(),r=vf(o.startContainer,o.startOffset,e.dom.getRoot());e.execCommand("mceInsertNewLine"),r.each(a=>{const l=a.container;l.data.charAt(a.offset-1)===qr&&(l.deleteData(a.offset-1,1),gr(e.dom,l.parentNode,i=>i===e.dom.getRoot()))})}),!0)),kV=(e,t)=>{const n=e.selection.getRng();hc(e,n).map(s=>{const o=Math.max(0,n.startOffset-1),r=Qf(e.dom,s,n.startContainer,o),a=Xf(t,s,r),l=Jy(e,s,n.startContainer,o,a,!1);l.length>0&&e.undoManager.transact(()=>{e5(e,l)})})},xV=(e,t)=>EV(e,t).fold(Pe,n=>(e.undoManager.transact(()=>{wV(e,n)}),!0)),r5=(e,t,n)=>{for(let s=0;s<e.length;s++)if(n(e[s],t))return!0;return!1},_V=(e,t)=>r5(e,t,(n,s)=>n===s.keyCode&&!W.modifierPressed(s)),AV=(e,t)=>r5(e,t,(n,s)=>n.charCodeAt(0)===s.charCode),NV=e=>{const t=[",",".",";",":","!","?"],n=[32],s=()=>M7(dk(e).filter(a=>a.type==="inline-command"||a.type==="block-command"?e.queryCommandSupported(a.cmd):!0),fk(e)),o=()=>bk(e);e.on("keydown",a=>{if(a.keyCode===13&&!W.modifierPressed(a)&&e.selection.isCollapsed()&&e.selection.isEditable()){const l=Vu(s(),"enter");(l.inlinePatterns.length>0||l.blockPatterns.length>0||o())&&SV(e,l)&&a.preventDefault()}},!0),e.on("keydown",a=>{if(a.keyCode===32&&e.selection.isCollapsed()&&e.selection.isEditable()){const l=Vu(s(),"space");(l.blockPatterns.length>0||o())&&xV(e,l)&&a.preventDefault()}},!0);const r=()=>{if(e.selection.isCollapsed()&&e.selection.isEditable()){const a=Vu(s(),"space");(a.inlinePatterns.length>0||o())&&kV(e,a)}};e.on("keyup",a=>{_V(n,a)&&r()}),e.on("keypress",a=>{AV(t,a)&&Jt.setEditorTimeout(e,r)})},TV=e=>{NV(e)},RV=e=>{const t=L.each,n=W.BACKSPACE,s=W.DELETE,o=e.dom,r=e.selection,a=e.parser,l=ve.browser,i=l.isFirefox(),c=l.isChromium()||l.isSafari(),u=ve.deviceType.isiPhone()||ve.deviceType.isiPad(),d=ve.os.isMacOS()||ve.os.isiOS(),f=(z,M)=>{try{e.getDoc().execCommand(z,!1,String(M))}catch{}},h=z=>z.isDefaultPrevented(),p=()=>{const z=Z=>{const te=o.create("body"),ye=Z.cloneContents();return te.appendChild(ye),r.serializer.serialize(te,{format:"html"})},M=Z=>{const te=z(Z),ye=o.createRng();ye.selectNode(e.getBody());const ce=z(ye);return te===ce};e.on("keydown",Z=>{const te=Z.keyCode;if(!h(Z)&&(te===s||te===n)&&e.selection.isEditable()){const ye=e.selection.isCollapsed(),ce=e.getBody();if(ye&&!ss(e.schema,ce)||!ye&&!M(e.selection.getRng()))return;Z.preventDefault(),e.setContent(""),ce.firstChild&&o.isBlock(ce.firstChild)?e.selection.setCursorLocation(ce.firstChild,0):e.selection.setCursorLocation(ce,0),e.nodeChanged()}})},g=()=>{e.shortcuts.add("meta+a",null,"SelectAll")},v=()=>{e.inline||o.bind(e.getDoc(),"mousedown mouseup",z=>{let M;if(z.target===e.getDoc().documentElement)if(M=r.getRng(),e.getBody().focus(),z.type==="mousedown"){if(Kt(M.startContainer))return;r.placeCaretAt(z.clientX,z.clientY)}else r.setRng(M)})},C=()=>{e.on("keydown",z=>{if(!h(z)&&z.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(r.isCollapsed()&&r.getRng().startOffset===0){const M=r.getNode(),Z=M.previousSibling;if(M.nodeName==="HR"){o.remove(M),z.preventDefault();return}Z&&Z.nodeName&&Z.nodeName.toLowerCase()==="hr"&&(o.remove(Z),z.preventDefault())}}})},y=()=>{Range.prototype.getClientRects||e.on("mousedown",z=>{if(!h(z)&&z.target.nodeName==="HTML"){const M=e.getBody();M.blur(),Jt.setEditorTimeout(e,()=>{M.focus()})}})},E=()=>{const z=gg(e);e.on("click",M=>{const Z=M.target;/^(IMG|HR)$/.test(Z.nodeName)&&o.isEditable(Z)&&(M.preventDefault(),e.selection.select(Z),e.nodeChanged()),Z.nodeName==="A"&&o.hasClass(Z,z)&&Z.childNodes.length===0&&o.isEditable(Z.parentNode)&&(M.preventDefault(),r.select(Z))})},S=()=>{const z=()=>{const Z=o.getAttribs(r.getStart().cloneNode(!1));return()=>{const te=r.getStart();te!==e.getBody()&&(o.setAttrib(te,"style",null),t(Z,ye=>{te.setAttributeNode(ye.cloneNode(!0))}))}},M=()=>!r.isCollapsed()&&o.getParent(r.getStart(),o.isBlock)!==o.getParent(r.getEnd(),o.isBlock);e.on("keypress",Z=>{let te;return!h(Z)&&(Z.keyCode===8||Z.keyCode===46)&&M()?(te=z(),e.getDoc().execCommand("delete",!1),te(),Z.preventDefault(),!1):!0}),o.bind(e.getDoc(),"cut",Z=>{if(!h(Z)&&M()){const te=z();Jt.setEditorTimeout(e,()=>{te()})}})},T=()=>{e.on("keydown",z=>{if(!h(z)&&z.keyCode===n&&r.isCollapsed()&&r.getRng().startOffset===0){const M=r.getNode().previousSibling;if(M&&M.nodeName&&M.nodeName.toLowerCase()==="table")return z.preventDefault(),!1}return!0})},D=()=>{e.on("keydown",z=>{if(h(z)||z.keyCode!==W.BACKSPACE)return;let M=r.getRng();const Z=M.startContainer,te=M.startOffset,ye=o.getRoot();let ce=Z;if(!(!M.collapsed||te!==0)){for(;ce.parentNode&&ce.parentNode.firstChild===ce&&ce.parentNode!==ye;)ce=ce.parentNode;ce.nodeName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",void 0,ce),M=o.createRng(),M.setStart(Z,0),M.setEnd(Z,0),r.setRng(M))}})},V=()=>{const z=()=>{f("StyleWithCSS",!1),f("enableInlineTableEditing",!1),dg(e)||f("enableObjectResizing",!1)};mg(e)||e.on("BeforeExecCommand mousedown",z)},N=()=>{const z=()=>{t(o.select("a:not([data-mce-block])"),M=>{var Z;let te=M.parentNode;const ye=o.getRoot();if(te?.lastChild===M){for(;te&&!o.isBlock(te);){if(((Z=te.parentNode)===null||Z===void 0?void 0:Z.lastChild)!==te||te===ye)return;te=te.parentNode}o.add(te,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",M=>{(M.type==="setcontent"||M.command==="mceInsertLink")&&z()})},_=()=>{e.on("init",()=>{f("DefaultParagraphSeparator",mt(e))})},P=z=>{const M=z.getBody(),Z=z.selection.getRng();return Z.startContainer===Z.endContainer&&Z.startContainer===M&&Z.startOffset===0&&Z.endOffset===M.childNodes.length},F=()=>{e.on("keyup focusin mouseup",z=>{!W.modifierPressed(z)&&!P(e)&&r.normalize()},!0)},G=()=>{e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},re=()=>{e.inline||e.on("keydown",()=>{document.activeElement===document.body&&e.getWin().focus()})},le=()=>{e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",z=>{let M;z.target.nodeName==="HTML"&&(M=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(M),e.selection.normalize(),e.nodeChanged())}))},he=()=>{d&&e.on("keydown",z=>{W.metaKeyPressed(z)&&!z.shiftKey&&(z.keyCode===37||z.keyCode===39)&&(z.preventDefault(),e.selection.getSel().modify("move",z.keyCode===37?"backward":"forward","lineboundary"))})},be=()=>{e.on("click",z=>{let M=z.target;do if(M.tagName==="A"){z.preventDefault();return}while(M=M.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},He=()=>{e.on("init",()=>{e.dom.bind(e.getBody(),"submit",z=>{z.preventDefault()})})},We=()=>{a.addNodeFilter("br",z=>{let M=z.length;for(;M--;)z[M].attr("class")==="Apple-interchange-newline"&&z[M].remove()})},je=ie,I=()=>{if(!i||e.removed)return!1;const z=e.selection.getSel();return!z||!z.rangeCount||z.rangeCount===0},Y=()=>{c&&(v(),E(),He(),g(),u&&(re(),le(),be())),i&&(y(),V(),G(),he())},me=()=>{D(),p(),ve.windowsPhone||F(),c&&(v(),E(),_(),He(),T(),We(),u?(re(),le(),be()):g()),i&&(C(),y(),S(),V(),N(),G(),he(),T())};return Wn(e)?Y():me(),{refreshContentEditable:je,isHidden:I}},PV=e=>e.toLowerCase()==="gpl",MV=e=>e.length>=64&&e.length<=255,DV=e=>PV(e)||MV(e)?"VALID":"INVALID",OV=e=>{const t=_k(e);!J(Ak(e))&&(st(t)||DV(t)==="INVALID")&&console.warn("TinyMCE is running in evaluation mode. Provide a valid license key or add license_key: 'gpl' to the init config to agree to the open source license terms. Read more at https://www.tiny.cloud/license-key/")},em=ke.DOM,BV=(e,t)=>{const n=b.fromDom(e.getBody()),s=Kc(ps(n)),o=b.fromTag("style");ot(o,"type","text/css"),Ve(o,b.fromText(t)),Ve(s,o),e.on("remove",()=>{Ne(o)})},LV=e=>e.inline?e.getElement().nodeName.toLowerCase():void 0,tm=e=>Pr(e,t=>st(t)===!1),a5=e=>{const t=e.options.get,n=e.editorUpload.blobCache;return tm({allow_conditional_comments:t("allow_conditional_comments"),allow_html_data_urls:t("allow_html_data_urls"),allow_svg_data_urls:t("allow_svg_data_urls"),allow_html_in_named_anchor:t("allow_html_in_named_anchor"),allow_script_urls:t("allow_script_urls"),allow_mathml_annotation_encodings:t("allow_mathml_annotation_encodings"),allow_unsafe_link_target:t("allow_unsafe_link_target"),convert_unsafe_embeds:t("convert_unsafe_embeds"),convert_fonts_to_spans:t("convert_fonts_to_spans"),extended_mathml_attributes:t("extended_mathml_attributes"),extended_mathml_elements:t("extended_mathml_elements"),fix_list_elements:t("fix_list_elements"),font_size_legacy_values:t("font_size_legacy_values"),forced_root_block:t("forced_root_block"),forced_root_block_attrs:t("forced_root_block_attrs"),preserve_cdata:t("preserve_cdata"),inline_styles:t("inline_styles"),root_name:LV(e),sandbox_iframes:t("sandbox_iframes"),sandbox_iframes_exclusions:Gu(e),sanitize:t("xss_sanitization"),validate:!0,blob_cache:n,document:e.getDoc()})},l5=e=>{const t=e.options.get;return tm({custom_elements:t("custom_elements"),extended_valid_elements:t("extended_valid_elements"),invalid_elements:t("invalid_elements"),invalid_styles:t("invalid_styles"),schema:t("schema"),valid_children:t("valid_children"),valid_classes:t("valid_classes"),valid_elements:t("valid_elements"),valid_styles:t("valid_styles"),verify_html:t("verify_html"),padd_empty_block_inline_children:t("format_empty_lines")})},HV=e=>{const t=e.options.get;return{...a5(e),...l5(e),...tm({remove_trailing_brs:t("remove_trailing_brs"),pad_empty_with_br:t("pad_empty_with_br"),url_converter:t("url_converter"),url_converter_scope:t("url_converter_scope"),element_format:t("element_format"),entities:t("entities"),entity_encoding:t("entity_encoding"),indent:t("indent"),indent_after:t("indent_after"),indent_before:t("indent_before")})}},IV=e=>{const t=sr(a5(e),e.schema);return t.addAttributeFilter("src,href,style,tabindex",(n,s)=>{const o=e.dom,r="data-mce-"+s;let a=n.length;for(;a--;){const l=n[a];let i=l.attr(s);if(i&&!l.attr(r)){if(i.indexOf("data:")===0||i.indexOf("blob:")===0)continue;s==="style"?(i=o.serializeStyle(o.parseStyle(i),l.name),i.length||(i=null),l.attr(r,i),l.attr(s,i)):s==="tabindex"?(l.attr(r,i),l.attr(s,null)):l.attr(r,e.convertURL(i,s,l.name))}}}),t.addNodeFilter("script",n=>{let s=n.length;for(;s--;){const o=n[s],r=o.attr("type")||"no/type";r.indexOf("mce-")!==0&&o.attr("type","mce-"+r)}}),gk(e)&&t.addNodeFilter("#cdata",n=>{var s;let o=n.length;for(;o--;){const r=n[o];r.type=8,r.name="#comment",r.value="[CDATA["+e.dom.encode((s=r.value)!==null&&s!==void 0?s:"")+"]]"}}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",n=>{let s=n.length;const o=e.schema.getNonEmptyElements();for(;s--;){const r=n[s];r.isEmpty(o)&&r.getAll("br").length===0&&r.append(new yt("br",1))}}),t},$V=e=>{const t=XS(e);t&&Jt.setEditorTimeout(e,()=>{let n;t===!0?n=e:n=e.editorManager.get(t),n&&!n.destroyed&&(n.focus(),n.selection.scrollIntoView())},100)},ZV=e=>{const t=e.dom.getRoot();!e.inline&&(!ei(e)||e.selection.getStart(!0)===t)&&ht(t).each(n=>{const s=n.getNode(),o=Hn(s)?ht(s).getOr(n):n;e.selection.setRng(o.toRange())})},FV=e=>{e.bindPendingEventDelegates(),e.initialized=!0,V7(e),e.focus(!0),ZV(e),e.nodeChanged({initial:!0});const t=GS(e);we(t)&&t.call(e,e),$V(e),is(e)&&nb(e,!0)},nm=e=>e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader,zV=(e,t,n)=>{const{pass:s,fail:o}=ko(t,l=>tinymce.Resource.has(zd(l))),a=[...s.map(l=>{const i=tinymce.Resource.get(zd(l));return J(i)?Promise.resolve(nm(e).loadRawCss(l,i)):Promise.resolve()}),nm(e).loadAll(o)];return e.inline?a:a.concat([e.ui.styleSheetLoader.loadAll(n)])},i5=e=>{const t=nm(e),n=ug(e),s=e.contentCSS,o=()=>{t.unloadAll(s),e.inline||e.ui.styleSheetLoader.unloadAll(n)},r=()=>{e.removed?o():e.on("remove",o)};if(e.contentStyles.length>0){let i="";L.each(e.contentStyles,c=>{i+=c+`\r
`}),e.dom.addStyle(i)}const a=Promise.all(zV(e,s,n)).then(r).catch(r),l=kS(e);return l&&BV(e,l),a},VV=e=>{const t=e.getDoc(),n=e.getBody();F7(e),QS(e)||(t.body.spellcheck=!1,em.setAttrib(n,"spellcheck","false")),e.quirks=RV(e),z7(e);const s=xS(e);s!==void 0&&(n.dir=s);const o=JS(e);o&&e.on("BeforeSetContent",r=>{L.each(o,a=>{r.content=r.content.replace(a,l=>"<!--mce:protected "+escape(l)+"-->")})}),e.on("SetContent",()=>{e.addVisual(e.getBody())}),e.on("compositionstart compositionend",r=>{e.composing=r.type==="compositionstart"})},UV=e=>{Wn(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},sm=e=>{e.removed!==!0&&(UV(e),FV(e))},WV=e=>{let t=!1;const n=setTimeout(()=>{t||e.setProgressState(!0)},500);return()=>{clearTimeout(n),t=!0,e.setProgressState(!1)}},c5=e=>{const t=e.getElement();let n=e.getDoc();e.inline&&(em.addClass(t,"mce-content-body"),e.contentDocument=n=document,e.contentWindow=window,e.bodyElement=t,e.contentAreaContainer=t);const s=e.getBody();s.disabled=!0,e.readonly=mg(e),e._editableRoot=VS(e),!ql(e)&&e.hasEditableRoot()&&(e.inline&&em.getStyle(s,"position",!0)==="static"&&(s.style.position="relative"),s.contentEditable="true"),s.disabled=!1,e.editorUpload=aO(e),e.schema=Es(l5(e)),e.dom=ke(n,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,update_styles:!0,root_element:e.inline?e.getBody():null,collect:e.inline,schema:e.schema,contentCssCors:yS(e),referrerPolicy:ju(e),onSetAttrib:a=>{e.dispatch("SetAttrib",a)}}),e.parser=IV(e),e.serializer=U4(HV(e),e),e.selection=V4(e.dom,e.getWin(),e.serializer,e),e.annotator=mp(e),e.formatter=ub(e),e.undoManager=fb(e),e._nodeChangeDispatcher=new $Z(e),e._selectionOverrides=eV(e),DL(e),rz(e),zL(e),Wn(e)||(fz(e),TV(e));const o=IZ(e);RL(e,o),IL(e),EO(e),nz(e);const r=XM(e);VV(e),OV(e),r.fold(()=>{const a=WV(e);i5(e).then(()=>{sm(e),a()})},a=>{e.setProgressState(!0),i5(e).then(()=>{a().then(l=>{e.setProgressState(!1),sm(e),I4(e)},l=>{e.notificationManager.open({type:"error",text:String(l)}),sm(e),I4(e)})})})},jV=$e,qV=(e,t,n)=>IE(e,t,jV,n),om=ke.DOM,KV=(e,t,n,s)=>{const o=b.fromTag("iframe");return s.each(r=>ot(o,"tabindex",r)),Jn(o,n),Jn(o,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),Ro(o,"tox-edit-area__iframe"),o},GV=e=>{let t=rS(e)+"<html><head>";sg(e)!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';const n=aS(e),s=lS(e),o=e.translate(pg(e));return og(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+og(e)+'" />'),t+=`</head><body id="${n}" class="mce-content-body ${s}" data-id="${e.id}" aria-label="${o}"><br></body></html>`,t},YV=(e,t)=>{const n=ve.browser.isFirefox()?pg(e):"Rich Text Area",s=e.translate(n),o=es(b.fromDom(e.getElement()),"tabindex").bind(vl),r=KV(e.id,s,oS(e),o).dom;r.onload=()=>{r.onload=null,e.dispatch("load")},e.contentAreaContainer=t.iframeContainer,e.iframeElement=r,e.iframeHTML=GV(e),om.add(t.iframeContainer,r)},XV=e=>{const t=e.iframeElement,n=()=>{e.contentDocument=t.contentDocument,c5(e)};if(vk(e)||ve.browser.isFirefox()){const s=e.getDoc();s.open(),s.write(e.iframeHTML),s.close(),n()}else{const s=qV(b.fromDom(t),"load",()=>{s.unbind(),n()});t.srcdoc=e.iframeHTML}},QV=(e,t)=>{YV(e,t),t.editorContainer&&(t.editorContainer.style.display=e.orgDisplay,e.hidden=om.isHidden(t.editorContainer)),e.getElement().style.display="none",om.setAttrib(e.id,"aria-hidden","true"),e.getElement().style.visibility=e.orgVisibility,XV(e)},u5=ke.DOM,JV=(e,t,n)=>{const s=rr.get(n),o=rr.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=L.trim(n),s&&L.inArray(t,n)===-1){if(e.plugins[n])return;try{const r=s(e,o)||{};e.plugins[n]=r,we(r.init)&&(r.init(e,o),t.push(n))}catch(r){P9(e,n,r)}}},eU=e=>e.replace(/^\-/,""),tU=e=>{const t=[];R(Wl(e),n=>{JV(e,t,eU(n))})},nU=e=>{const t=L.trim(lg(e)),n=e.ui.registry.getAll().icons,s={...Di.get("default").icons,...Di.get(t).icons};xe(s,(o,r)=>{oe(n,r)||e.ui.registry.addIcon(r,o)})},sU=e=>{const t=Wo(e);if(J(t)){const n=go.get(t);e.theme=n(e,go.urls[t])||{},we(e.theme.init)&&e.theme.init(e,go.urls[t]||e.documentBaseUrl.replace(/\/$/,""))}else e.theme={}},oU=e=>{const t=qu(e),n=or.get(t);e.model=n(e,or.urls[t])},rU=e=>{const t=e.theme.renderUI;return t?t():f5(e)},aU=e=>{const t=e.getElement(),s=Wo(e)(e,t);return s.editorContainer.nodeType&&(s.editorContainer.id=s.editorContainer.id||e.id+"_parent"),s.iframeContainer&&s.iframeContainer.nodeType&&(s.iframeContainer.id=s.iframeContainer.id||e.id+"_iframecontainer"),s.height=s.iframeHeight?s.iframeHeight:t.offsetHeight,s},d5=(e,t)=>({editorContainer:e,iframeContainer:t,api:{}}),lU=e=>{const t=u5.create("div");return u5.insertAfter(t,e),d5(t,t)},f5=e=>{const t=e.getElement();return e.inline?d5(null):lU(t)},iU=e=>{const t=e.getElement();return e.orgDisplay=t.style.display,J(Wo(e))?rU(e):we(Wo(e))?aU(e):f5(e)},cU=(e,t)=>{const n={show:m.from(t.show).getOr(ie),hide:m.from(t.hide).getOr(ie),isEnabled:m.from(t.isEnabled).getOr($e),setEnabled:s=>{s&&(e.mode.get()==="readonly"||is(e))||m.from(t.setEnabled).each(r=>r(s))}};e.ui={...e.ui,...n}},uU=async e=>{e.dispatch("ScriptsLoaded"),nU(e),sU(e),oU(e),tU(e);const t=await iU(e);cU(e,m.from(t.api).getOr({})),e.editorContainer=t.editorContainer,G9(e),e.inline?c5(e):QV(e,{editorContainer:t.editorContainer,iframeContainer:t.iframeContainer})},yo=ke.DOM,m5=e=>e.charAt(0)==="-",dU=(e,t)=>{const n=ig(t),s=ES(t);if(!En.hasCode(n)&&n!=="en"){const o=Rn(s)?s:`${t.editorManager.baseURL}/langs/${n}.js`;e.add(o).catch(()=>{N9(t,o,n)})}},fU=(e,t)=>{const n=Wo(e);if(J(n)&&!m5(n)&&!oe(go.urls,n)){const s=RS(e),o=s?e.documentBaseURI.toAbsolute(s):`themes/${n}/theme${t}.js`;go.load(n,o).catch(()=>{T9(e,o,n)})}},mU=(e,t)=>{const n=qu(e);if(n!=="plugin"&&!oe(or.urls,n)){const s=PS(e),o=J(s)?e.documentBaseURI.toAbsolute(s):`models/${n}/model${t}.js`;or.load(n,o).catch(()=>{R9(e,o,n)})}},hU=e=>m.from(gS(e)).filter(Rn).map(t=>({url:t,name:m.none()})),h5=(e,t,n)=>m.from(t).filter(s=>Rn(s)&&!Di.has(s)).map(s=>({url:`${e.editorManager.baseURL}/icons/${s}/icons${n}.js`,name:m.some(s)})),gU=(e,t,n)=>{const s=h5(t,"default",n),o=hU(t).orThunk(()=>h5(t,lg(t),""));R(Y6([s,o]),r=>{e.add(r.url).catch(()=>{A9(t,r.url,r.name.getOrUndefined())})})},pU=(e,t)=>{const n=(s,o)=>{rr.load(s,o).catch(()=>{_9(e,o,s)})};xe(US(e),(s,o)=>{n(o,s),e.options.set("plugins",Wl(e).concat(o))}),R(Wl(e),s=>{s=L.trim(s),s&&!rr.urls[s]&&!m5(s)&&n(s,`plugins/${s}/plugin${t}.js`)})},vU=e=>{const t=Wo(e);return!J(t)||$(go.get(t))},bU=e=>{const t=qu(e);return $(or.get(t))},CU=(e,t)=>{const n=rs.ScriptLoader,s=()=>{!e.removed&&vU(e)&&bU(e)&&uU(e)};fU(e,t),mU(e,t),dU(n,e),gU(n,e,t),pU(e,t),n.loadQueue().then(s,s)},yU=(e,t)=>Oh.forElement(e,{contentCssCors:hg(t),referrerPolicy:ju(t)}),EU=e=>{const t=e.id;En.setCode(ig(e));const n=()=>{yo.unbind(window,"ready",n),e.render()};if(!Gs.Event.domLoaded){yo.bind(window,"ready",n);return}if(!e.getElement())return;const s=b.fromDom(e.getElement()),o=Km(s);e.on("remove",()=>{Em(s.dom.attributes,a=>rt(s,a.name)),Jn(s,o)}),e.ui.styleSheetLoader=yU(s,e),Ku(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");const r=e.getElement().form||yo.getParent(t,"form");r&&(e.formElement=r,HS(e)&&!su(e.getElement())&&(yo.insertAfter(yo.create("input",{type:"hidden",name:t}),t),e.hasHiddenInput=!0),e.formEventDelegate=a=>{e.dispatch(a.type,a)},yo.bind(r,"submit reset",e.formEventDelegate),e.on("reset",()=>{e.resetContent()}),IS(e)&&!r.submit.nodeType&&!r.submit.length&&!r._mceOldSubmit&&(r._mceOldSubmit=r.submit,r.submit=()=>(e.editorManager.triggerSave(),e.setDirty(!1),r._mceOldSubmit(r)))),e.windowManager=X4(e),e.notificationManager=Y4(e),Ek(e)&&e.on("GetContent",a=>{a.save&&(a.content=yo.encode(a.content))}),$S(e)&&e.on("submit",()=>{e.initialized&&e.save()}),ZS(e)&&(e._beforeUnload=()=>{e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),CU(e,e.suffix)},wU=(e,t)=>{e._editableRoot!==t&&(e._editableRoot=t,is(e)||(e.getBody().contentEditable=String(e.hasEditableRoot()),e.nodeChanged()),Q7(e,t))},SU=e=>e._editableRoot,kU=(e,t)=>({sections:j(e),options:j(t)}),g5=Pn().deviceType,p5=g5.isPhone(),xU=g5.isTablet(),tl=e=>{if(ze(e))return[];{const t=Me(e)?e:e.split(/[ ,]/),n=ge(t,Ao);return se(n,Rn)}},_U=(e,t)=>{const n=i6(t,(s,o)=>Ee(e,o));return kU(n.t,n.f)},AU=(e,t,n={})=>{const s=e.sections(),o=Ae(s,t).getOr({});return L.extend({},n,o)},rm=(e,t)=>oe(e.sections(),t),NU=(e,t)=>rm(e,t)?e.sections()[t]:{},TU=(e,t)=>({...{table_grid:!1,object_resizing:!1,resize:!1,toolbar_mode:Ae(e,"toolbar_mode").getOr("scrolling"),toolbar_sticky:!1},...t?{menubar:!1}:{}}),RU=(e,t)=>{var n;const s=(n=t.external_plugins)!==null&&n!==void 0?n:{};return e&&e.external_plugins?L.extend({},e.external_plugins,s):s},PU=(e,t)=>[...tl(e),...tl(t)],MU=(e,t,n,s)=>e&&rm(t,"mobile")?s:n,DU=(e,t,n,s)=>{const o=tl(n.forced_plugins),r=tl(s.plugins),a=NU(t,"mobile"),l=a.plugins?tl(a.plugins):r,i=MU(e,t,r,l),c=PU(o,i);return L.extend(s,{forced_plugins:o,plugins:c})},OU=(e,t)=>e&&rm(t,"mobile"),BU=(e,t,n,s,o)=>{var r;const a=e?{mobile:TU((r=o.mobile)!==null&&r!==void 0?r:{},t)}:{},l=_U(["mobile"],qi(a,o)),i=L.extend(n,s,l.options(),OU(e,l)?AU(l,"mobile"):{},{external_plugins:RU(s,l.options())});return DU(e,l,s,i)},LU=(e,t)=>{const n=uC(t);return BU(p5||xU,p5,n,e,n)},HU=(e,t)=>wD(e,t),IU=e=>{const t=(s,o)=>{e.formatter.toggle(s,o),e.nodeChanged()},n=s=>()=>{R("left,center,right,justify".split(","),o=>{s!==o&&e.formatter.remove("align"+o)}),s!=="none"&&t("align"+s)};e.editorCommands.addCommands({JustifyLeft:n("left"),JustifyCenter:n("center"),JustifyRight:n("right"),JustifyFull:n("justify"),JustifyNone:n("none")})},$U=e=>{const t=n=>()=>{const s=e.selection,o=s.isCollapsed()?[e.dom.getParent(s.getNode(),e.dom.isBlock)]:s.getSelectedBlocks();return Le(o,r=>$(e.formatter.matchNode(r,n)))};e.editorCommands.addCommands({JustifyLeft:t("alignleft"),JustifyCenter:t("aligncenter"),JustifyRight:t("alignright"),JustifyFull:t("alignjustify")},"state")},ZU=e=>{IU(e),$U(e)},FU=e=>{e.editorCommands.addCommands({"Cut,Copy,Paste":t=>{const n=e.getDoc();let s;try{n.execCommand(t)}catch{s=!0}if(t==="paste"&&!n.queryCommandEnabled(t)&&(s=!0),s||!n.queryCommandSupported(t)){let o=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");(ve.os.isMacOS()||ve.os.isiOS())&&(o=o.replace(/Ctrl\+/g,"\u2318+")),e.notificationManager.open({text:o,type:"error"})}}})},zU=(e,t,n,s)=>{const o=b.fromDom(e.getRoot());return Na(o,A.fromRangeStart(t),s)?n=n.replace(/^ /,"&nbsp;"):n=n.replace(/^&nbsp;/," "),Ta(o,A.fromRangeEnd(t),s)?n=n.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):n=n.replace(/&nbsp;(<br( \/)?>)?$/," "),n},VU=e=>{if(typeof e!="string"){const t=L.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}return{content:e,details:{}}},UU=(e,t)=>{const n=e.selection,s=e.dom;return/^ | $/.test(t)?zU(s,n.getRng(),t,e.schema):t},vc=(e,t)=>{if(e.selection.isEditable()){const{content:n,details:s}=VU(t);Pd(e,{...s,content:UU(e,n),format:"html",set:!1,selection:!0}).each(o=>{const r=yD(e,o.content,s);Md(e,r,o),e.addVisual()})}},WU=e=>{e.editorCommands.addCommands({mceCleanup:()=>{const t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},insertImage:(t,n,s)=>{vc(e,e.dom.createHTML("img",{src:s}))},insertHorizontalRule:()=>{e.execCommand("mceInsertContent",!1,"<hr>")},insertText:(t,n,s)=>{vc(e,e.dom.encode(s))},insertHTML:(t,n,s)=>{vc(e,s)},mceInsertContent:(t,n,s)=>{vc(e,s)},mceSetContent:(t,n,s)=>{e.setContent(s)},mceReplaceContent:(t,n,s)=>{e.execCommand("mceInsertContent",!1,s.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceNewDocument:()=>{e.setContent(sk(e))}})},jU={"font-size":"size","font-family":"face"},qU=Hr("font"),KU=(e,t,n)=>{const s=r=>Sl(r,e).orThunk(()=>qU(r)?Ae(jU,e).bind(a=>es(r,a)):m.none()),o=r=>Ce(b.fromDom(t),r);return id(b.fromDom(n),r=>s(r),o)},GU=e=>e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,","),YU=(e,t)=>m.from(ke.DOM.getStyle(t,e,!0)),v5=e=>(t,n)=>m.from(n).map(b.fromDom).filter(Zt).bind(s=>KU(e,t,s.dom).or(YU(e,s.dom))).getOr(""),XU=v5("font-size"),QU=pn(GU,v5("font-family")),JU=e=>ht(e.getBody()).bind(t=>{const n=t.container();return m.from(O(n)?n.parentNode:n)}),eW=e=>m.from(e.selection.getRng()).bind(t=>{const n=e.getBody();return t.startContainer===n&&t.startOffset===0?m.none():m.from(e.selection.getStart(!0))}),tW=(e,t)=>eW(e).orThunk(K(JU,e)).map(b.fromDom).filter(Zt).bind(t),am=(e,t)=>tW(e,vm(m.some,t)),b5=(e,t)=>{if(/^[0-9.]+$/.test(t)){const n=parseInt(t,10);if(n>=1&&n<=7){const s=Ck(e),o=yk(e);return o.length>0?o[n-1]||t:s[n-1]||t}else return t}else return t},nW=e=>{const t=e.split(/\s*,\s*/);return ge(t,n=>n.indexOf(" ")!==-1&&!(Ge(n,'"')||Ge(n,"'"))?`'${n}'`:n).join(",")},sW=(e,t)=>{const n=b5(e,t);e.formatter.toggle("fontname",{value:nW(n)}),e.nodeChanged()},oW=e=>am(e,t=>QU(e.getBody(),t.dom)).getOr(""),rW=(e,t)=>{e.formatter.toggle("fontsize",{value:b5(e,t)}),e.nodeChanged()},aW=e=>am(e,t=>XU(e.getBody(),t.dom)).getOr(""),lW=e=>am(e,t=>{const n=b.fromDom(e.getBody()),s=id(t,r=>Sl(r,"line-height"),K(Ce,n)),o=()=>{const r=parseFloat(Bn(t,"line-height")),a=parseFloat(Bn(t,"font-size"));return String(r/a)};return s.getOrThunk(o)}).getOr(""),iW=(e,t)=>{e.formatter.toggle("lineheight",{value:String(t)}),e.nodeChanged()},cW=e=>{const t=(n,s)=>{e.formatter.toggle(n,s),e.nodeChanged()};e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>{t(n)},"ForeColor,HiliteColor":(n,s,o)=>{t(n,{value:o})},BackColor:(n,s,o)=>{t("hilitecolor",{value:o})},FontName:(n,s,o)=>{sW(e,o)},FontSize:(n,s,o)=>{rW(e,o)},LineHeight:(n,s,o)=>{iW(e,o)},Lang:(n,s,o)=>{var r;t(n,{value:o.code,customValue:(r=o.customCode)!==null&&r!==void 0?r:null})},RemoveFormat:n=>{e.formatter.remove(n)},mceBlockQuote:()=>{t("blockquote")},FormatBlock:(n,s,o)=>{t(J(o)?o:"p")},mceToggleFormat:(n,s,o)=>{t(o)}})},uW=e=>{const t=n=>e.formatter.match(n);e.editorCommands.addCommands({"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":n=>t(n),mceBlockQuote:()=>t("blockquote")},"state"),e.editorCommands.addQueryValueHandler("FontName",()=>oW(e)),e.editorCommands.addQueryValueHandler("FontSize",()=>aW(e)),e.editorCommands.addQueryValueHandler("LineHeight",()=>lW(e))},dW=e=>{cW(e),uW(e)},fW=e=>{e.editorCommands.addCommands({mceAddUndoLevel:()=>{e.undoManager.add()},mceEndUndoLevel:()=>{e.undoManager.add()},Undo:()=>{e.undoManager.undo()},Redo:()=>{e.undoManager.redo()}})},mW=e=>{e.editorCommands.addCommands({Indent:()=>{AL(e)},Outdent:()=>{E3(e)}}),e.editorCommands.addCommands({Outdent:()=>v3(e)},"state")},hW=e=>{const t=(n,s,o)=>{if(e.mode.isReadOnly())return;const r=J(o)?{href:o}:o,a=e.dom.getParent(e.selection.getNode(),"a");nt(r)&&J(r.href)&&(r.href=r.href.replace(/ /g,"%20"),(!a||!r.href)&&e.formatter.remove("link"),r.href&&e.formatter.apply("link",r,a))};e.editorCommands.addCommands({unlink:()=>{if(e.selection.isEditable()){if(e.selection.isCollapsed()){const n=e.dom.getParent(e.selection.getStart(),"a");n&&e.dom.remove(n,!0);return}e.formatter.remove("link")}},mceInsertLink:t,createLink:t})},gW=(e,t,n,s)=>{const o=e.dom,r=l=>o.isBlock(l)&&l.parentElement===n,a=r(t)?t:o.getParent(s,r,n);return m.from(a).map(b.fromDom)},C5=(e,t)=>{if(e.mode.isReadOnly())return;const n=e.dom,s=e.selection.getRng(),o=t?e.selection.getStart():e.selection.getEnd(),r=t?s.startContainer:s.endContainer,a=Ya(n,r);if(!a||!a.isContentEditable)return;const l=t?Ot:ns,i=mt(e);gW(e,o,a,r).each(c=>{const u=BC(e,r,c.dom,a,!1,i);l(c,b.fromDom(u)),e.selection.setCursorLocation(u,0),e.dispatch("NewBlock",{newBlock:u}),Ga(e,"insertParagraph")})},pW=e=>C5(e,!0),vW=e=>C5(e,!1),bW=e=>{e.editorCommands.addCommands({InsertNewBlockBefore:()=>{pW(e)},InsertNewBlockAfter:()=>{vW(e)}})},CW=e=>{e.editorCommands.addCommands({insertParagraph:()=>{rc($C,e)},mceInsertNewLine:(t,n,s)=>{jC(e,s)},InsertLineBreak:(t,n,s)=>{rc(zC,e)}})},yW=e=>{e.editorCommands.addCommands({mceSelectNodeDepth:(t,n,s)=>{let o=0;e.dom.getParent(e.selection.getNode(),r=>q(r)&&o++===s?(e.selection.select(r),!1):!0,e.getBody())},mceSelectNode:(t,n,s)=>{e.selection.select(s)},selectAll:()=>{const t=e.dom.getParent(e.selection.getStart(),ln);if(t){const n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}}})},EW=e=>{e.editorCommands.addCommands({mceRemoveNode:(t,n,s)=>{const o=s??e.selection.getNode();if(o!==e.getBody()){const r=e.selection.getBookmark();e.dom.remove(o,!0),e.selection.moveToBookmark(r)}},mcePrint:()=>{e.getWin().print()},mceFocus:(t,n,s)=>{N_(e,s===!0)},mceToggleVisualAid:()=>{e.hasVisual=!e.hasVisual,e.addVisual()}})},wW=e=>{ZU(e),FU(e),fW(e),yW(e),WU(e),hW(e),mW(e),bW(e),CW(e),dW(e),EW(e)},SW=["toggleview"],y5=e=>Ee(SW,e.toLowerCase());class E5{constructor(t){this.commands={state:{},exec:{},value:{}},this.editor=t}execCommand(t,n=!1,s,o){const r=this.editor,a=t.toLowerCase(),l=o?.skip_focus;if(r.removed||(a!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel)$/i.test(a)&&!l?r.focus():l_(r)),r.dispatch("BeforeExecCommand",{command:t,ui:n,value:s}).isDefaultPrevented()))return!1;const c=this.commands.exec[a];return we(c)?(c(a,n,s),r.dispatch("ExecCommand",{command:t,ui:n,value:s}),!0):!1}queryCommandState(t){if(!y5(t)&&this.editor.quirks.isHidden()||this.editor.removed)return!1;const n=t.toLowerCase(),s=this.commands.state[n];return we(s)?s(n):!1}queryCommandValue(t){if(!y5(t)&&this.editor.quirks.isHidden()||this.editor.removed)return"";const n=t.toLowerCase(),s=this.commands.value[n];return we(s)?s(n):""}addCommands(t,n="exec"){const s=this.commands;xe(t,(o,r)=>{R(r.toLowerCase().split(","),a=>{s[n][a]=o})})}addCommand(t,n,s){const o=t.toLowerCase();this.commands.exec[o]=(r,a,l)=>n.call(s??this.editor,a,l)}queryCommandSupported(t){const n=t.toLowerCase();return!!this.commands.exec[n]}addQueryStateHandler(t,n,s){this.commands.state[t.toLowerCase()]=()=>n.call(s??this.editor)}addQueryValueHandler(t,n,s){this.commands.value[t.toLowerCase()]=()=>n.call(s??this.editor)}}const kW=L.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," ");class lm{static isNative(t){return!!kW[t.toLowerCase()]}constructor(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Pe}fire(t,n){return this.dispatch(t,n)}dispatch(t,n){const s=t.toLowerCase(),o=Su(s,n??{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(o);const r=this.bindings[s];if(r)for(let a=0,l=r.length;a<l;a++){const i=r[a];if(!i.removed){if(i.once&&this.off(s,i.func),o.isImmediatePropagationStopped())return o;if(i.func.call(this.scope,o)===!1)return o.preventDefault(),o}}return o}on(t,n,s,o){if(n===!1&&(n=Pe),n){const r={func:n,removed:!1};o&&L.extend(r,o);const a=t.toLowerCase().split(" ");let l=a.length;for(;l--;){const i=a[l];let c=this.bindings[i];c||(c=[],this.toggleEvent(i,!0)),s?c=[r,...c]:c=[...c,r],this.bindings[i]=c}}return this}off(t,n){if(t){const s=t.toLowerCase().split(" ");let o=s.length;for(;o--;){const r=s[o];let a=this.bindings[r];if(!r)return xe(this.bindings,(l,i)=>{this.toggleEvent(i,!1),delete this.bindings[i]}),this;if(a){if(!n)a.length=0;else{const l=ko(a,i=>i.func===n);a=l.fail,this.bindings[r]=a,R(l.pass,i=>{i.removed=!0})}a.length||(this.toggleEvent(t,!1),delete this.bindings[r])}}}else xe(this.bindings,(s,o)=>{this.toggleEvent(o,!1)}),this.bindings={};return this}once(t,n,s){return this.on(t,n,s,{once:!0})}has(t){t=t.toLowerCase();const n=this.bindings[t];return!(!n||n.length===0)}}const nl=e=>(e._eventDispatcher||(e._eventDispatcher=new lm({scope:e,toggleEvent:(t,n)=>{lm.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher),im={fire(e,t,n){return this.dispatch(e,t,n)},dispatch(e,t,n){const s=this;if(s.removed&&e!=="remove"&&e!=="detach")return Su(e.toLowerCase(),t??{},s);const o=nl(s).dispatch(e,t);if(n!==!1&&s.parent){let r=s.parent();for(;r&&!o.isPropagationStopped();)r.dispatch(e,o,!1),r=r.parent?r.parent():void 0}return o},on(e,t,n){return nl(this).on(e,t,n)},off(e,t){return nl(this).off(e,t)},once(e,t){return nl(this).once(e,t)},hasEventListeners(e){return nl(this).has(e)}},bc=ke.DOM;let Eo;const Cc=(e,t)=>{if(t==="selectionchange")return e.getDoc();if(!e.inline&&/^(?:mouse|touch|click|contextmenu|drop|dragover|dragend)/.test(t))return e.getDoc().documentElement;const n=fg(e);return n?(e.eventRoot||(e.eventRoot=bc.select(n)[0]),e.eventRoot):e.getBody()},xW=e=>!e.hidden&&!is(e),w5=(e,t,n)=>{xW(e)?e.dispatch(t,n):is(e)&&z9(e,n)},S5=(e,t)=>{if(e.delegates||(e.delegates={}),e.delegates[t]||e.removed)return;const n=Cc(e,t);if(fg(e)){if(Eo||(Eo={},e.editorManager.on("removeEditor",()=>{e.editorManager.activeEditor||Eo&&(xe(Eo,(o,r)=>{e.dom.unbind(Cc(e,r))}),Eo=null)})),Eo[t])return;const s=o=>{const r=o.target,a=e.editorManager.get();let l=a.length;for(;l--;){const i=a[l].getBody();(i===r||bc.isChildOf(r,i))&&w5(a[l],t,o)}};Eo[t]=s,bc.bind(n,t,s)}else{const s=o=>{w5(e,t,o)};bc.bind(n,t,s),e.delegates[t]=s}},k5={...im,bindPendingEventDelegates(){const e=this;L.each(e._pendingNativeEvents,t=>{S5(e,t)})},toggleNativeEvent(e,t){const n=this;e==="focus"||e==="blur"||n.removed||(t?n.initialized?S5(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&n.delegates&&(n.dom.unbind(Cc(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents(){const e=this,t=e.getBody(),n=e.dom;e.delegates&&(xe(e.delegates,(s,o)=>{e.dom.unbind(Cc(e,o),o,s)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}},_W=e=>J(e)?{value:e.split(/[ ,]/),valid:!0}:Is(e,J)?{value:e,valid:!0}:{valid:!1,message:"The value must be a string[] or a comma/space separated string."},AW=e=>{const t=(()=>{switch(e){case"array":return Me;case"boolean":return Nn;case"function":return we;case"number":return an;case"object":return nt;case"string":return J;case"string[]":return _W;case"object[]":return n=>Is(n,nt);case"regexp":return n=>dl(n,RegExp);default:return $e}})();return n=>cm(n,t,`The value must be a ${e}.`)},NW=e=>J(e.processor),x5=(e,t)=>{const n=Or(t.message)?"":`. ${t.message}`;return e+n},_5=e=>e.valid,cm=(e,t,n="")=>{const s=t(e);return Nn(s)?s?{value:e,valid:!0}:{valid:!1,message:n}:s},TW=(e,t,n)=>{if(!st(t)){const s=cm(t,n);if(_5(s))return s.value;console.error(x5(`Invalid default value passed for the "${e}" option`,s))}},RW=(e,t,n=t)=>{const s={},o={},r=(h,p,g)=>{const v=cm(p,g);return _5(v)?(o[h]=v.value,!0):(console.warn(x5(`Invalid value passed for the ${h} option`,v)),!1)},a=(h,p)=>{const g=NW(p)?AW(p.processor):p.processor,v=TW(h,p.default,g);s[h]={...p,default:v,processor:g},Ae(o,h).orThunk(()=>Ae(t,h)).each(y=>r(h,y,g))},l=h=>oe(s,h);return{register:a,isRegistered:l,get:h=>Ae(o,h).orThunk(()=>Ae(s,h).map(p=>p.default)).getOrUndefined(),set:(h,p)=>{if(l(h)){const g=s[h];return g.immutable?(console.error(`"${h}" is an immutable option and cannot be updated`),!1):r(h,p,g.processor)}else return console.warn(`"${h}" is not a registered option. Ensure the option has been registered before setting a value.`),!1},unset:h=>{const p=l(h);return p&&delete o[h],p},isSet:h=>oe(o,h),debug:()=>{try{console.log(JSON.parse(JSON.stringify(n,(h,p)=>Nn(p)||an(p)||J(p)||vt(p)||Me(p)||fl(p)?p:Object.prototype.toString.call(p))))}catch(h){console.error(h)}}}},PW=(e,t)=>{e.dom.contentEditable="true"},MW=(e,t)=>{const n=b.fromDom(e.getBody());t?(e.readonly=!0,e.hasEditableRoot()&&PW(n),eb(e)):(e.readonly=!1,tb(e))},sl=e=>e.readonly,DW=e=>{e.on("beforeinput paste cut dragend dragover draggesture dragdrop drop drag",t=>{sl(e)&&t.preventDefault()}),e.on("BeforeExecCommand",t=>{(t.command==="Undo"||t.command==="Redo")&&sl(e)&&t.preventDefault()}),e.on("input",t=>{if(!t.isComposing&&sl(e)){const n=e.undoManager.add();$(n)&&e.undoManager.undo()}}),e.on("compositionend",()=>{if(sl(e)){const t=e.undoManager.add();$(t)&&e.undoManager.undo()}})},OW=["design","readonly"],A5=(e,t,n,s)=>{const o=n[t.get()],r=n[s];try{r.activate()}catch(a){console.error(`problem while activating editor mode ${s}:`,a);return}o.deactivate(),o.editorReadOnly!==r.editorReadOnly&&MW(e,r.editorReadOnly),t.set(s),I7(e,s)},BW=(e,t,n,s)=>{if(!(s===n.get()||e.initialized&&is(e))){if(!oe(t,s))throw new Error(`Editor mode '${s}' is invalid`);e.initialized?A5(e,n,t,s):e.on("init",()=>A5(e,n,t,s))}},LW=(e,t,n)=>{if(Ee(OW,t))throw new Error(`Cannot override default mode ${t}`);return{...e,[t]:{...n,deactivate:()=>{try{n.deactivate()}catch(s){console.error(`problem while deactivating editor mode ${t}:`,s)}}}}},HW=e=>{const t=et("design"),n=et({design:{activate:ie,deactivate:ie,editorReadOnly:!1},readonly:{activate:ie,deactivate:ie,editorReadOnly:!0}});return DW(e),U9(e),{isReadOnly:()=>sl(e),set:s=>BW(e,n.get(),t,s),get:()=>t.get(),register:(s,o)=>{n.set(LW(n.get(),s,o))}}},um=L.each,dm=L.explode,IW={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},N5=L.makeMap("alt,ctrl,shift,meta,access"),$W=e=>e in N5,ZW=e=>{const t={},n=ve.os.isMacOS()||ve.os.isiOS();um(dm(e.toLowerCase(),"+"),r=>{$W(r)?t[r]=!0:/^[0-9]{2,}$/.test(r)?t.keyCode=parseInt(r,10):(t.charCode=r.charCodeAt(0),t.keyCode=IW[r]||r.toUpperCase().charCodeAt(0))});const s=[t.keyCode];let o;for(o in N5)t[o]?s.push(o):t[o]=!1;return t.id=s.join(","),t.access&&(t.alt=!0,n?t.ctrl=!0:t.shift=!0),t.meta&&(n?t.meta=!0:(t.ctrl=!0,t.meta=!1)),t};class T5{constructor(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;const n=this;t.on("keyup keypress keydown",s=>{(n.hasModifier(s)||n.isFunctionKey(s))&&!s.isDefaultPrevented()&&(um(n.shortcuts,o=>{n.matchShortcut(s,o)&&(n.pendingPatterns=o.subpatterns.slice(0),s.type==="keydown"&&n.executeShortcutAction(o))}),n.matchShortcut(s,n.pendingPatterns[0])&&(n.pendingPatterns.length===1&&s.type==="keydown"&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}add(t,n,s,o){const r=this,a=r.normalizeCommandFunc(s);return um(dm(L.trim(t)),l=>{const i=r.createShortcut(l,n,a,o);r.shortcuts[i.id]=i}),!0}remove(t){const n=this.createShortcut(t);return this.shortcuts[n.id]?(delete this.shortcuts[n.id],!0):!1}normalizeCommandFunc(t){const n=this,s=t;return typeof s=="string"?()=>{n.editor.execCommand(s,!1,null)}:L.isArray(s)?()=>{n.editor.execCommand(s[0],s[1],s[2])}:s}createShortcut(t,n,s,o){const r=L.map(dm(t,">"),ZW);return r[r.length-1]=L.extend(r[r.length-1],{func:s,scope:o||this.editor}),L.extend(r[0],{desc:this.editor.translate(n),subpatterns:r.slice(1)})}hasModifier(t){return t.altKey||t.ctrlKey||t.metaKey}isFunctionKey(t){return t.type==="keydown"&&t.keyCode>=112&&t.keyCode<=123}matchShortcut(t,n){return!n||n.ctrl!==t.ctrlKey||n.meta!==t.metaKey||n.alt!==t.altKey||n.shift!==t.shiftKey?!1:t.keyCode===n.keyCode||t.charCode&&t.charCode===n.charCode?(t.preventDefault(),!0):!1}executeShortcutAction(t){return t.func?t.func.call(t.scope):null}}const FW=()=>{const e={},t={},n={},s={},o={},r={},a={},l={},i={},c=(h,p)=>(g,v)=>{h[g.toLowerCase()]={...v,type:p}},u=(h,p)=>(g,v)=>{h[g.toLowerCase()]={type:p,...v}},d=(h,p)=>s[h.toLowerCase()]=p,f=(h,p)=>a[h.toLowerCase()]=p;return{addButton:c(e,"button"),addGroupToolbarButton:c(e,"grouptoolbarbutton"),addToggleButton:c(e,"togglebutton"),addMenuButton:c(e,"menubutton"),addSplitButton:c(e,"splitbutton"),addMenuItem:c(t,"menuitem"),addNestedMenuItem:c(t,"nestedmenuitem"),addToggleMenuItem:c(t,"togglemenuitem"),addAutocompleter:c(n,"autocompleter"),addContextMenu:c(o,"contextmenu"),addContextToolbar:c(r,"contexttoolbar"),addContextForm:u(r,"contextform"),addSidebar:c(l,"sidebar"),addView:c(i,"views"),addIcon:d,addContext:f,getAll:()=>({buttons:e,menuItems:t,icons:s,popups:n,contextMenus:o,contextToolbars:r,sidebars:l,views:i,contexts:a})}},zW=()=>{const e=FW();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,addView:e.addView,addContext:e.addContext,getAll:e.getAll}},wo=ke.DOM,R5=L.extend,VW=L.each;class yc{constructor(t,n,s){this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.composing=!1,this.destroyed=!1,this.hasHiddenInput=!1,this.iframeElement=null,this.initialized=!1,this.readonly=!1,this.removed=!1,this.startContent="",this._pendingNativeEvents=[],this._skinLoaded=!1,this._editableRoot=!0,this.editorManager=s,this.documentBaseUrl=s.documentBaseURL,R5(this,k5);const o=this;this.id=t,this.hidden=!1;const r=LU(s.defaultOptions,n);this.options=RW(o,r,n),sS(o);const a=this.options.get;a("deprecation_warnings")&&l9(n,r);const l=a("suffix");l&&(s.suffix=l),this.suffix=s.suffix;const i=a("base_url");i&&s._setBaseUrl(i),this.baseUri=s.baseURI;const c=ju(o);c&&(rs.ScriptLoader._setReferrerPolicy(c),ke.DOM.styleSheetLoader._setReferrerPolicy(c));const u=hg(o);$(u)&&ke.DOM.styleSheetLoader._setContentCssCors(u),Ct.languageLoad=a("language_load"),Ct.baseURL=s.baseURL,this.setDirty(!1),this.documentBaseURI=new dn(sg(o),{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=Ku(o),this.hasVisual=jS(o),this.shortcuts=new T5(this),this.editorCommands=new E5(this),wW(this);const d=a("cache_suffix");d&&(ve.cacheSuffix=d.replace(/^[\?\&]+/,"")),this.ui={registry:zW(),styleSheetLoader:void 0,show:ie,hide:ie,setEnabled:ie,isEnabled:$e},this.mode=HW(o),s.dispatch("SetupEditor",{editor:this});const f=KS(o);we(f)&&f.call(o,o)}render(){EU(this)}focus(t){this.execCommand("mceFocus",!1,t)}hasFocus(){return tr(this)}translate(t){return En.translate(t)}getParam(t,n,s){const o=this.options;return o.isRegistered(t)||($(s)?o.register(t,{processor:s,default:n}):o.register(t,{processor:$e,default:n})),!o.isSet(t)&&!st(n)?n:o.get(t)}hasPlugin(t,n){return Ee(Wl(this),t)?n?rr.get(t)!==void 0:!0:!1}nodeChanged(t){this._nodeChangeDispatcher.nodeChanged(t)}addCommand(t,n,s){this.editorCommands.addCommand(t,n,s)}addQueryStateHandler(t,n,s){this.editorCommands.addQueryStateHandler(t,n,s)}addQueryValueHandler(t,n,s){this.editorCommands.addQueryValueHandler(t,n,s)}addShortcut(t,n,s,o){this.shortcuts.add(t,n,s,o)}execCommand(t,n,s,o){return this.editorCommands.execCommand(t,n,s,o)}queryCommandState(t){return this.editorCommands.queryCommandState(t)}queryCommandValue(t){return this.editorCommands.queryCommandValue(t)}queryCommandSupported(t){return this.editorCommands.queryCommandSupported(t)}show(){const t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable="true":(wo.show(t.getContainer()),wo.hide(t.id)),t.load(),t.dispatch("show"))}hide(){const t=this;t.hidden||(t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(wo.hide(t.getContainer()),wo.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.dispatch("hide"))}isHidden(){return this.hidden}setProgressState(t,n){this.dispatch("ProgressState",{state:t,time:n})}load(t={}){const n=this,s=n.getElement();if(n.removed)return"";if(s){const o={...t,load:!0},r=su(s)?s.value:s.innerHTML,a=n.setContent(r,o);return o.no_events||n.dispatch("LoadContent",{...o,element:s}),a}else return""}save(t={}){const n=this;let s=n.getElement();if(!s||!n.initialized||n.removed)return"";const o={...t,save:!0,element:s};let r=n.getContent(o);const a={...o,content:r};if(a.no_events||n.dispatch("SaveContent",a),a.format==="raw"&&n.dispatch("RawSaveContent",a),r=a.content,su(s))s.value=r;else{(t.is_removing||!n.inline)&&(s.innerHTML=r);const l=wo.getParent(n.id,"form");l&&VW(l.elements,i=>i.name===n.id?(i.value=r,!1):!0)}return a.element=o.element=s=null,a.set_dirty!==!1&&n.setDirty(!1),r}setContent(t,n){return Zd(this,t,n)}getContent(t){return KD(this,t)}insertContent(t,n){n&&(t=R5({content:t},n)),this.execCommand("mceInsertContent",!1,t)}resetContent(t){t===void 0?Zd(this,this.startContent,{format:"raw"}):Zd(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()}isDirty(){return!this.isNotDirty}setDirty(t){const n=!this.isNotDirty;this.isNotDirty=!t,t&&t!==n&&this.dispatch("dirty")}getContainer(){const t=this;return t.container||(t.container=t.editorContainer||wo.get(t.id+"_parent")),t.container}getContentAreaContainer(){return this.contentAreaContainer}getElement(){return this.targetElm||(this.targetElm=wo.get(this.id)),this.targetElm}getWin(){const t=this;if(!t.contentWindow){const n=t.iframeElement;n&&(t.contentWindow=n.contentWindow)}return t.contentWindow}getDoc(){const t=this;if(!t.contentDocument){const n=t.getWin();n&&(t.contentDocument=n.document)}return t.contentDocument}getBody(){var t,n;const s=this.getDoc();return(n=(t=this.bodyElement)!==null&&t!==void 0?t:s?.body)!==null&&n!==void 0?n:null}convertURL(t,n,s){const o=this,r=o.options.get,a=YS(o);if(we(a))return a.call(o,t,s,!0,n);if(!r("convert_urls")||s==="link"||nt(s)&&s.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0)return t;const l=new dn(t);return l.protocol!=="http"&&l.protocol!=="https"&&l.protocol!==""?t:r("relative_urls")?o.documentBaseURI.toRelative(t):(t=o.documentBaseURI.toAbsolute(t,r("remove_script_host")),t)}addVisual(t){HU(this,t)}setEditableRoot(t){wU(this,t)}hasEditableRoot(){return SU(this)}remove(){d9(this)}destroy(t){f9(this,t)}uploadImages(){return this.editorUpload.uploadImages()}_scanForImages(){return this.editorUpload.scanForImages()}}const pr=ke.DOM,Ec=L.each;let P5=!1,wc,Rt=[];const Sc=e=>{const t=e.type;Ec(Os.get(),n=>{switch(t){case"scroll":n.dispatch("ScrollWindow",e);break;case"resize":n.dispatch("ResizeWindow",e);break}})},M5=e=>{if(e!==P5){const t=ke.DOM;e?(t.bind(window,"resize",Sc),t.bind(window,"scroll",Sc)):(t.unbind(window,"resize",Sc),t.unbind(window,"scroll",Sc)),P5=e}},D5=e=>{const t=Rt;return Rt=se(Rt,n=>e!==n),Os.activeEditor===e&&(Os.activeEditor=Rt.length>0?Rt[0]:null),Os.focusedEditor===e&&(Os.focusedEditor=null),t.length!==Rt.length},UW=e=>{e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(D5(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0)},WW=document.compatMode!=="CSS1Compat",Os={...im,baseURI:null,baseURL:null,defaultOptions:{},documentBaseURL:null,suffix:null,majorVersion:"7",minorVersion:"8.0",releaseDate:"TBD",i18n:En,activeEditor:null,focusedEditor:null,setup(){const e=this;let t="",n="",s=dn.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(s)&&(s=s.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(s)||(s+="/"));const o=window.tinymce||window.tinyMCEPreInit;if(o)t=o.base||o.baseURL,n=o.suffix;else{const r=document.getElementsByTagName("script");for(let a=0;a<r.length;a++){const l=r[a].src||"";if(l==="")continue;const i=l.substring(l.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(l)){i.indexOf(".min")!==-1&&(n=".min"),t=l.substring(0,l.lastIndexOf("/"));break}}if(!t&&document.currentScript){const a=document.currentScript.src;a.indexOf(".min")!==-1&&(n=".min"),t=a.substring(0,a.lastIndexOf("/"))}}e.baseURL=new dn(s).toAbsolute(t),e.documentBaseURL=s,e.baseURI=new dn(e.baseURL),e.suffix=n,b_(e)},overrideDefaults(e){const t=e.base_url;t&&this._setBaseUrl(t);const n=e.suffix;n&&(this.suffix=n),this.defaultOptions=e;const s=e.plugin_base_urls;s!==void 0&&xe(s,(o,r)=>{Ct.PluginManager.urls[r]=o})},init(e){const t=this;let n;const s=L.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),o=(u,d)=>u.inline&&d.tagName.toLowerCase()in s,r=u=>{let d=u.id;return d||(d=Ae(u,"name").filter(f=>!pr.get(f)).getOrThunk(pr.uniqueId),u.setAttribute("id",d)),d},a=u=>{const d=e[u];if(d)return d.apply(t,[])},l=u=>ve.browser.isIE()||ve.browser.isEdge()?(Bi("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tiny.cloud/docs/tinymce/7/support/#supportedwebbrowsers"),[]):WW?(Bi("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[]):J(u.selector)?pr.select(u.selector):$(u.target)?[u.target]:[];let i=u=>{n=u};const c=()=>{let u=0;const d=[];let f;const h=(p,g,v)=>{const C=new yc(p,g,t);d.push(C),C.on("init",()=>{++u===f.length&&i(d)}),C.targetElm=C.targetElm||v,C.render()};pr.unbind(window,"ready",c),a("onpageload"),f=km(l(e)),L.each(f,p=>{UW(t.get(p.id))}),f=L.grep(f,p=>!t.get(p.id)),f.length===0?i([]):Ec(f,p=>{o(e,p)?Bi("Could not initialize inline editor on invalid inline target element",p):h(r(p),e,p)})};return pr.bind(window,"ready",c),new Promise(u=>{n?u(n):i=d=>{u(d)}})},get(e){return arguments.length===0?Rt.slice(0):J(e)?Ke(Rt,t=>t.id===e).getOr(null):an(e)&&Rt[e]?Rt[e]:null},add(e){const t=this,n=t.get(e.id);return n===e||(n===null&&Rt.push(e),M5(!0),t.activeEditor=e,t.dispatch("AddEditor",{editor:e}),wc||(wc=s=>{const o=t.dispatch("BeforeUnload");if(o.returnValue)return s.preventDefault(),s.returnValue=o.returnValue,o.returnValue},window.addEventListener("beforeunload",wc))),e},createEditor(e,t){return this.add(new yc(e,t,this))},remove(e){const t=this;let n;if(!e){for(let s=Rt.length-1;s>=0;s--)t.remove(Rt[s]);return}if(J(e)){Ec(pr.select(e),s=>{n=t.get(s.id),n&&t.remove(n)});return}return n=e,vt(t.get(n.id))?null:(D5(n)&&t.dispatch("RemoveEditor",{editor:n}),Rt.length===0&&window.removeEventListener("beforeunload",wc),n.remove(),M5(Rt.length>0),n)},execCommand(e,t,n){var s;const o=this,r=nt(n)?(s=n.id)!==null&&s!==void 0?s:n.index:n;switch(e){case"mceAddEditor":{if(!o.get(r)){const a=n.options;new yc(r,a,o).render()}return!0}case"mceRemoveEditor":{const a=o.get(r);return a&&a.remove(),!0}case"mceToggleEditor":{const a=o.get(r);return a?(a.isHidden()?a.show():a.hide(),!0):(o.execCommand("mceAddEditor",!1,n),!0)}}return o.activeEditor?o.activeEditor.execCommand(e,t,n):!1},triggerSave:()=>{Ec(Rt,e=>{e.save()})},addI18n:(e,t)=>{En.add(e,t)},translate:e=>En.translate(e),setActive(e){const t=this.activeEditor;this.activeEditor!==e&&(t&&t.dispatch("deactivate",{relatedTarget:e}),e.dispatch("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl(e){this.baseURL=new dn(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new dn(this.baseURL)}};Os.setup();const jW=(()=>{const e=os(),t=r=>({items:r,types:Dt(r),getType:a=>Ae(r,a).getOrUndefined()}),n=r=>{e.set(r)},s=()=>e.get().getOrUndefined(),o=e.clear;return{FakeClipboardItem:t,write:n,read:s,clear:o}})(),O5=Math.min,vr=Math.max,kc=Math.round,B5=(e,t,n)=>{let s=t.x,o=t.y;const r=e.w,a=e.h,l=t.w,i=t.h,c=(n||"").split("");return c[0]==="b"&&(o+=i),c[1]==="r"&&(s+=l),c[0]==="c"&&(o+=kc(i/2)),c[1]==="c"&&(s+=kc(l/2)),c[3]==="b"&&(o-=a),c[4]==="r"&&(s-=r),c[3]==="c"&&(o-=kc(a/2)),c[4]==="c"&&(s-=kc(r/2)),br(s,o,r,a)},qW=(e,t,n,s)=>{for(let o=0;o<s.length;o++){const r=B5(e,t,s[o]);if(r.x>=n.x&&r.x+r.w<=n.w+n.x&&r.y>=n.y&&r.y+r.h<=n.h+n.y)return s[o]}return null},KW=(e,t,n)=>br(e.x-t,e.y-n,e.w+t*2,e.h+n*2),GW=(e,t)=>{const n=vr(e.x,t.x),s=vr(e.y,t.y),o=O5(e.x+e.w,t.x+t.w),r=O5(e.y+e.h,t.y+t.h);return o-n<0||r-s<0?null:br(n,s,o-n,r-s)},YW=(e,t,n)=>{let s=e.x,o=e.y,r=e.x+e.w,a=e.y+e.h;const l=t.x+t.w,i=t.y+t.h,c=vr(0,t.x-s),u=vr(0,t.y-o),d=vr(0,r-l),f=vr(0,a-i);return s+=c,o+=u,n&&(r+=c,a+=u,s-=d,o-=f),r-=d,a-=f,br(s,o,r-s,a-o)},br=(e,t,n,s)=>({x:e,y:t,w:n,h:s}),XW={inflate:KW,relativePosition:B5,findBestRelativePosition:qW,intersect:GW,clamp:YW,create:br,fromClientRect:e=>br(e.left,e.top,e.width,e.height)},QW=(e,t,n=1e3)=>{let s=!1,o=null;const r=c=>(...u)=>{s||(s=!0,o!==null&&(window.clearTimeout(o),o=null),c.apply(null,u))},a=r(e),l=r(t);return{start:(...c)=>{!s&&o===null&&(o=window.setTimeout(()=>l.apply(null,c),n))},resolve:a,reject:l}},JW=(()=>{const e={},t={},n={};return{load:(i,c)=>{const u=`Script at URL "${c}" failed to load`,d=`Script at URL "${c}" did not call \`tinymce.Resource.add('${i}', data)\` within 1 second`;if(e[i]!==void 0)return e[i];{const f=new Promise((h,p)=>{const g=QW(h,p);t[i]=g.resolve,rs.ScriptLoader.loadScript(c).then(()=>g.start(d),()=>g.reject(u))});return e[i]=f,f}},add:(i,c)=>{t[i]!==void 0&&(t[i](c),delete t[i]),e[i]=Promise.resolve(c),n[i]=c},has:i=>i in n,get:i=>n[i],unload:i=>{delete e[i],delete n[i]}}})(),ej=()=>(()=>{let e={},t=[];const n={getItem:s=>{const o=e[s];return o||null},setItem:(s,o)=>{t.push(s),e[s]=String(o)},key:s=>t[s],removeItem:s=>{t=t.filter(o=>o===s),delete e[s]},clear:()=>{t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:()=>t.length,configurable:!1,enumerable:!1}),n})();let ol;try{const e="__storage_test__";ol=window.localStorage,ol.setItem(e,e),ol.removeItem(e)}catch{ol=ej()}var tj=ol;const nj={geom:{Rect:XW},util:{Delay:Jt,Tools:L,VK:W,URI:dn,EventDispatcher:lm,Observable:im,I18n:En,LocalStorage:tj,ImageUploader:sO},dom:{EventUtils:Gs,TreeWalker:Je,TextSeeker:Qs,DOMUtils:ke,ScriptLoader:rs,RangeUtils:io,Serializer:U4,StyleSheetLoader:Dh,ControlSelection:xp,BookmarkManager:Sa,Selection:V4,Event:Gs.Event},html:{Styles:wu,Entities:Ks,Node:yt,Schema:Es,DomParser:sr,Writer:n2,Serializer:Ns},Env:ve,AddOnManager:Ct,Annotator:mp,Formatter:ub,UndoManager:fb,EditorCommands:E5,WindowManager:X4,NotificationManager:Y4,EditorObservable:k5,Shortcuts:T5,Editor:yc,FocusManager:wp,EditorManager:Os,DOM:ke.DOM,ScriptLoader:rs.ScriptLoader,PluginManager:rr,ThemeManager:go,ModelManager:or,IconManager:Di,Resource:JW,FakeClipboard:jW,trim:L.trim,isArray:L.isArray,is:L.is,toArray:L.toArray,makeMap:L.makeMap,each:L.each,map:L.map,grep:L.grep,inArray:L.inArray,extend:L.extend,walk:L.walk,resolve:L.resolve,explode:L.explode,_addCacheSuffix:L._addCacheSuffix},L5=L.extend(Os,nj),sj=e=>{if(typeof module=="object")try{module.exports=e}catch{}};(e=>{window.tinymce=e,window.tinyMCE=e})(L5),sj(L5)})(),tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2Zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1Z" fill-rule="nonzero"/></svg>',"accordion-toggle":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 15c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1h-6a1 1 0 0 1-1-1Z"/><path opacity=".2" fill-rule="evenodd" clip-rule="evenodd" d="M4 19c0-.6.4-1 1-1h6c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1-1-1Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.3 7.3a1 1 0 0 1 1.4 0L16 9.6l2.3-2.3a1 1 0 1 1 1.4 1.4L16 12.4l-3.7-3.7a1 1 0 0 1 0-1.4ZM4.3 11.7a1 1 0 0 1 0-1.4L6.6 8 4.3 5.7a1 1 0 0 1 1.4-1.4L9.4 8l-3.7 3.7a1 1 0 0 1-1.4 0Z"/></svg>',accordion:'<svg width="24" height="24"><rect x="12" y="7" width="10" height="2" rx="1"/><rect x="12" y="11" width="10" height="2" rx="1"/><rect x="12" y="15" width="6" height="2" rx="1"/><path fill-rule="evenodd" clip-rule="evenodd" d="M2.3 7.3a1 1 0 0 1 1.4 0L6 9.6l2.3-2.3a1 1 0 0 1 1.4 1.4L6 12.4 2.3 8.7a1 1 0 0 1 0-1.4Z"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 0 0-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 1 0-1.4-1.4L12 13.6 5.7 7.3Z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 0 0 1.4-1.4L12 6.6l-7.7 7.7a1 1 0 0 0 1.4 1.4L12 9.4l6.3 6.3Z"/></svg>',addtag:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 5a2 2 0 0 1 1.6.8L21 12l-4.4 6.2a2 2 0 0 1-1.6.8h-3v-2h3l3.5-5L15 7H5v3H3V7c0-1.1.9-2 2-2h10Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M6 12a1 1 0 0 0-1 1v2H3a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2H7v-2c0-.6-.4-1-1-1Z"/></svg>',"ai-prompt":'<svg width="24" height="24"><g clip-path="url(#a)"><path fill-rule="evenodd" clip-rule="evenodd" d="M15 6.7a1 1 0 0 0-1.4 0l-9.9 10a1 1 0 0 0 0 1.3l2.1 2.1c.4.4 1 .4 1.4 0l10-9.9c.3-.3.3-1 0-1.4l-2.2-2Zm1.4 2.8-2-2-3 2.7 2.2 2.2 2.8-2.9Z"/><path d="m18.5 7.3-.7-1.5-1.5-.8 1.5-.7.7-1.5.7 1.5 1.5.7-1.5.8-.7 1.5ZM18.5 16.5l-.7-1.6-1.5-.7 1.5-.7.7-1.6.7 1.6 1.5.7-1.5.7-.7 1.6ZM9.7 7.3 9 5.8 7.5 5 9 4.3l.7-1.5.7 1.5L12 5l-1.5.8-.7 1.5Z"/></g><defs><clipPath id="a"><path d="M0 0h24v24H0z"/></clipPath></defs></svg>',ai:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M5 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H5Zm6.8 11.5.5 1.2a68.3 68.3 0 0 0 .7 1.1l.4.1c.3 0 .5 0 .7-.3.2-.1.3-.3.3-.6l-.3-1-2.6-6.2a20.4 20.4 0 0 0-.5-1.3l-.5-.4-.7-.2c-.2 0-.5 0-.6.2-.2 0-.4.2-.5.4l-.3.6-.3.7L5.7 15l-.2.6-.1.4c0 .3 0 .5.3.7l.6.2c.3 0 .5 0 .7-.2l.4-1 .5-1.2h3.9ZM9.8 9l1.5 4h-3l1.5-4Zm5.6-.9v7.6c0 .4 0 .7.2 1l.7.2c.3 0 .6 0 .8-.3l.2-.9V8.1c0-.4 0-.7-.2-.9a1 1 0 0 0-.8-.3c-.2 0-.5.1-.7.3l-.2 1Z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5 13 7H5a1 1 0 1 1 0-2h9.2Zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h6.8Zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2Zm-6.4 4-1.2 2H5a1 1 0 0 1 0-2h4.4Zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2ZM7 17l-1.2 2H5a1 1 0 0 1 0-2h2Zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2Zm5.2-13.5 1.3.7-9.7 16.3-1.3-.7 9.7-16.3Z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2Zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="m5.6 13 12 6a1 1 0 0 0 1.4-1V6a1 1 0 0 0-1.4-.9l-12 6a1 1 0 0 0 0 1.8Z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="m18.5 13-12 6A1 1 0 0 1 5 18V6a1 1 0 0 1 1.4-.9l12 6a1 1 0 0 1 0 1.8Z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8Zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4Zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4Z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1Z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12.7 18.3a1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7 1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7v-1a1 1 0 0 0-.3-.7ZM11.3 5.7a1 1 0 0 0 .7.3 1 1 0 0 0 .7-.3A1 1 0 0 0 13 5V4a1 1 0 0 0-.3-.7A1 1 0 0 0 12 3a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v1a1 1 0 0 0 .3.7Zm9.4 5.6a1 1 0 0 0-.7-.3h-1a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7Zm-15 1.4A1 1 0 0 0 6 12a1 1 0 0 0-.3-.7A1 1 0 0 0 5 11H4a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.7 1 1 0 0 0 .7.3h1a1 1 0 0 0 .7-.3Zm13 4.6-.7-.8a1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 .3.8l.7.7a1 1 0 0 0 .7.3 1 1 0 0 0 .8-.3 1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7ZM5.3 6.7l.7.8a1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3 1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.8l-.7-.7A1 1 0 0 0 6 5a1 1 0 0 0-.8.3 1 1 0 0 0-.3.8 1 1 0 0 0 .3.6Zm12 1a1 1 0 0 0 .7-.2l.7-.7A1 1 0 0 0 19 6a1 1 0 0 0-.3-.8 1 1 0 0 0-.8-.3 1 1 0 0 0-.7.3l-.7.7a1 1 0 0 0-.3.8 1 1 0 0 0 .3.7 1 1 0 0 0 .7.2ZM6.7 16.4a1 1 0 0 0-.8.2l-.7.7a1 1 0 0 0-.3.7 1 1 0 0 0 .3.8 1 1 0 0 0 .8.3 1 1 0 0 0 .7-.3l.7-.7a1 1 0 0 0 .3-.8 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3Z"/><path fill-rule="evenodd" d="M13.6 8.3A4 4 0 0 0 12 8a4 4 0 0 0-1.6.3A4 4 0 0 0 9 9.5a4 4 0 0 0-.6 1A4 4 0 0 0 8 12c0 .6.1 1 .3 1.6a4 4 0 0 0 2.1 2 4 4 0 0 0 1.6.4 4 4 0 0 0 1.6-.3 4 4 0 0 0 2-2.1A4 4 0 0 0 16 12a4 4 0 0 0-.3-1.6 4 4 0 0 0-2.1-2ZM14 12a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9.4-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6Z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8ZM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7Z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="m15.7 2 1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 0 1-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2ZM18 12l-4.5-4L9 12h9ZM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16Z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 0 1-2-2v-5h2zm8-7V4h6a2 2 0 0 1 2 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="m13 11-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="m18.4 8 1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 0 1-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8Zm1.6 7-3-3-3 3h6Z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 0 1-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 0 1-1 .7h-.2a.7.7 0 0 1-.7-1l4-12a1 1 0 0 1 2 0l4 12a.7.7 0 0 1-.8 1h-.2a1 1 0 0 1-1-.7l-.8-2.6zm-.3-1.5-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1Zm4.8-6.8V10H7.7V5.8h-1v-1h2ZM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1Zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1ZM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2V18.7l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1Zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6Zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4Zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8Zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1Z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2h-8a1 1 0 0 1 0-2ZM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 0 1 0-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8Z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11Z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8Z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3 4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1Z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3Z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8 5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0Z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2 13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5Z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11Zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2Zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2ZM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5Z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4Zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5Z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8Zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3Z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24" class="color-swatch-remove-color"><path stroke="#000" stroke-width="2" d="M21 3 3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/><path d="M13 10h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 0v-2H9a1 1 0 0 1 0-2h2V8a1 1 0 0 1 2 0v2Z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="m9 19 3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2Zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23Z"/></svg>',contrast:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 0 1 19.4 9c.4 1 .6 2 .6 3.1s-.2 2.1-.6 3.1a8 8 0 0 1-1.7 2.6 8 8 0 0 1-2.6 1.7 7.8 7.8 0 0 1-3.1.6 7.8 7.8 0 0 1-3.1-.6 8 8 0 0 1-2.6-1.7A8 8 0 0 1 4.6 15 7.8 7.8 0 0 1 4 12c0-1.1.2-2.1.6-3.1a8 8 0 0 1 1.7-2.6A8 8 0 0 1 9 4.6 7.8 7.8 0 0 1 12 4Zm-6 8a6 6 0 0 0 1.8 4.2 6 6 0 0 0 1.9 1.3 5.8 5.8 0 0 0 2.3.5V6c-.8 0-1.6.2-2.3.5a6 6 0 0 0-2 1.3 6 6 0 0 0-1.2 1.9A5.8 5.8 0 0 0 6 12Z"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3Zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7Zm0 12V9h-7v10h7Z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3ZM9 9v5l5-5H9Zm1 6h5v-5l-5 5Z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0 1 10.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 0 1 2 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 0 1 7 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7Zm12.3 5h-3v10h3v-10ZM8 13.8h-.3l-.4.2a2.8 2.8 0 0 0-.7.4v.1a2.8 2.8 0 0 0-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 0 0 .8-.3 2.4 2.4 0 0 0 .7-.7 2.5 2.5 0 0 0 .3-.8 1.5 1.5 0 0 0 0-.8 1 1 0 0 0-.2-.4 1 1 0 0 0-.5-.2H8Zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4ZM7 5.8h-.4a1 1 0 0 0-.5.3 1 1 0 0 0-.2.5v.7a2.5 2.5 0 0 0 .3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 0 0 0-.8 2.6 2.6 0 0 0-.3-.8A2.5 2.5 0 0 0 7.7 6l-.4-.1H7Z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l2 2V3h14ZM8.5 15.3h-.3a2.6 2.6 0 0 0-.8.4 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3L9 18V18l.4-.4.2-.4.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2h-.5Zm7 0H15a1 1 0 0 0-.4.3 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4a2.8 2.8 0 0 0 .5.7h.1a2.8 2.8 0 0 0 .8.6l.4.1h.7l.5-.2.2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3h-.3ZM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4Zm8.5-7.1h-11v2h11v-2Z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8Zm-8.5 2.2.1-.4v-.7a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1Zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4Zm5.4 4 .2-.5v-.7a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2Z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5Zm0 4h2v2h-2V9ZM9 9h2v2H9V9Zm4 4h2v2h-2v-2Zm-4 0h2v2H9v-2Zm0 4h2v2H9v-2Zm4 0h2v2h-2v-2ZM9 5h2v2H9V5Z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7Zm-2 2h-3v12h3V8Zm-2-6v2H8v15H6V2h7Z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16Zm-2 2H8v3h12v-3Zm-1-6v2H4v5H2V7h17Z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10Zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2Z"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1Z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="m19.8 8.8-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5Zm-2-.2 1-.9v-.3l-2.2-2.2a.3.3 0 0 0-.3 0l-1 1L18 8.5Zm-1 1-2.5-2.4-6 6 2.5 2.5 6-6Zm-7 7.1-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5Z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9ZM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13Zm3-5.3 1.3 2 3-4.7 3.7 6H7l2-3.3Z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0 1 19 6Zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4Zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6Zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3Zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 0 0 8 19h3ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 0 0-4 4.5h2.2Zm-3.4 0a12 12 0 0 1 2.8-4 12 12 0 0 0-5 4h2.2Z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm1 2v14h14V5H5Zm4.8 2.6 5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4Z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1Zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5ZM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16Zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13Z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3 18 7v1h-5V5H7v14h9a1 1 0 0 1 2 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5Z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3Z"/><path d="M16.4 9.2a1 1 0 0 1 1.4.2l2.4 3.6-2.4 3.6a1 1 0 0 1-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 0 1 .2-1.4Z"/></g></svg>',fill:'<svg width="24" height="26"><path d="m16.6 12-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2ZM5.2 13 10 8.2l4.8 4.8H5.2ZM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5Z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2Zm4-8h2V9h-2v2ZM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2Zm14-2v2h2a2 2 0 0 0-2-2Zm-7 16h2V3h-2v18Zm7-6h2v-2h-2v2Zm-4-8h2V5h-2v2Zm4 12a2 2 0 0 0 2-2h-2v2Z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5Zm8 4v2h2v-2h-2Zm4-14H7a2 2 0 0 0-2 2v3h2V6h10v3h2V6a2 2 0 0 0-2-2Zm2 14h-2v2a2 2 0 0 0 2-2ZM3 11v2h18v-2H3Zm6 7v2h2v-2H9Zm8-4v2h2v-2h-2ZM5 18c0 1.1.9 2 2 2v-2H5Z" fill-rule="nonzero"/></svg>',footnote:'<svg width="24" height="24"><path d="M19 13c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h14Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M19 4v6h-1V5h-1.5V4h2.6Z"/><path d="M12 18c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2h7ZM14 8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2h9Z"/></svg>',"format-code":'<svg width="24" height="24"><path d="m10 22 2-7H6l9-13h2l-2 8h7L12 22h-2ZM6 2h7l-1.4 2H6V2Zm4.2 4H4v2h4.8l1.4-2Zm-2.7 4H2v2h4l1.5-2Z"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3Z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 0 1 0 2h-4v11a1 1 0 0 1-2 0V7H7a1 1 0 1 1 0-2h10Z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="m15.3 10-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3Zm0 4 3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2ZM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3ZM8.7 10 5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2Z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="m5 15.7 2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7ZM5 18V19h3l1.8-1.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V7c0-.6.4-1 1-1Zm6 7a2 2 0 1 1 0-4 2 2 0 0 1 0 4ZM4.5 4h15a.5.5 0 1 1 0 1h-15a.5.5 0 0 1 0-1Zm2-2h11a.5.5 0 1 1 0 1h-11a.5.5 0 0 1 0-1Z"/></svg>',gamma:'<svg height="24" width="24"><path d="M11.5 16.3a.7.7 0 1 0 1.4 0V14l2.7-6a.7.7 0 1 0-1.2-.6l-2.2 5-2.3-4.9C9.6 7 8.7 7 8 7.2v1.1c.8-.2.9 0 1.2 1l2.3 4.7z"/><path d="M4 3h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm1 2h14v14H5z" fill-rule="evenodd"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1ZM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Z"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8Z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="m5 15.7 3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7ZM5 18V19h3l2.8-2.9-2-2L5 17.9Zm14-3-2.5-2.4-6.4 6.5H19v-4ZM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1Zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4Zm-1 3v2h2V7h-2Zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4Z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5Z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm0 2a9 9 0 1 1 0-18 9 9 0 0 1 0 18Z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 0 0-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1Z"/></g></svg>',invert:'<svg height="24" width="24"><path d="M5 4 3.6 5.4l3.9 4C6.6 10.7 6 12.3 6 14a6 6 0 0 0 10.3 4.2l1.9 1.8 1.4-1.4z" fill-rule="evenodd"/><path d="M13.4 8.4c.9 1 1.6 2.1 2 3.2l2.6 2.6V14c0-5-6-10-6-10s-1 .8-2.1 2l1.4 1.5.7-.7 1.4 1.6z"/></svg>',italic:'<svg width="24" height="24"><path d="m16.7 4.7-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8Z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 0 0 3.2-2.1l-.2-.2a6 6 0 0 0-1-.6Zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 0 1-2-2.8Zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7Zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3Zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 0 1-.3-2Zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1Zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6Zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3Zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1Zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3Zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1Zm3-1.4-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 0 0-1.3-3.5Zm-9 0 2 .2V5.5a9 9 0 0 0-2 2.2Zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 0 0-2-2.3Zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 0 1 1.9-2.5Zm4.4 0 .1.1a10 10 0 0 1 1.8 2.4l1.1-.7a7.5 7.5 0 0 0-3-1.8Z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zm0 4a1 1 0 0 1 .1 2H13a1 1 0 0 1-.1-2H21zM7 3.6l3.7 3.7a1 1 0 0 1-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 0 1 1.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 0 1 1.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 0 1-1.3 0h-.1a1 1 0 0 1 0-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="m15 9-8 8H4v-3l8-8 3 3Zm1-1-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1ZM4 18h16v2H4v-2Z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2Z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6ZM11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4Zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6Z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8h-.1l-1.5 1v-1.1l1.6-1.1h1.2v6zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2Zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5Zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7Zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7Zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6ZM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7ZM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4Zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3ZM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6Zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7Zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4Zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3Zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7Zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8Zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4ZM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22Zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3ZM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7ZM37.1 34.6 34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1ZM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4Zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8Zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7Zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3ZM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22Zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2Zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1Zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33Zm0 10v-1.2h-1.3V26H33Zm0 10v-1.2h-1.3V36H33Z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15Zm0 10v-1.2h1.3V26H15Zm0 10v-1.2h1.3V36H15Z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="m39.3 17-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3Zm-1.6-4.7-.7 2.3h1.6l-.8-2.3ZM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7Zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7Zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26ZM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="m12.6 17-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3ZM11 12.3l-.7 2.3h1.6l-.8-2.3Zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7ZM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7ZM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1Zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26Zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2Zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7Z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3Zm0 10v-1.2H33V27h-1.3Zm0 10v-1.2H33V37h-1.3Z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15Zm0 10v-1.2h1.3V27H15Zm0 10v-1.2h1.3V37H15Z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3ZM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7Z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5ZM4.4 16.2 6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6Z" fill-rule="evenodd"/></svg>',"math-equation":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 4.8c.1-.5.5-.8 1-.8h10a1 1 0 1 1 0 2h-9.2L8.3 19.2a1 1 0 0 1-1.7.4l-3.4-4.2a1 1 0 0 1 1.6-1.2l2 2.5L9 4.8Zm9.7 5.5c.4.4.4 1 0 1.4L17 13.5l1.8 1.8a1 1 0 1 1-1.4 1.4L15.5 15l-1.8 1.8a1 1 0 0 1-1.4-1.4l1.8-1.8-1.8-1.8a1 1 0 0 1 1.4-1.4l1.8 1.8 1.8-1.8a1 1 0 0 1 1.4 0Z"/></svg>',mentions:'<svg height="24" width="24"><path d="M12 21a8.8 8.8 0 0 1-3.5-.7 9 9 0 0 1-2.9-2 9 9 0 0 1-1.9-2.8A8.8 8.8 0 0 1 3 12c0-1.3.2-2.4.7-3.5a9 9 0 0 1 4.8-4.8A8.8 8.8 0 0 1 12 3c1.3 0 2.4.2 3.5.7a9.1 9.1 0 0 1 4.8 4.8A8.7 8.7 0 0 1 21 12v1.4a3 3 0 0 1-.9 2.2 3 3 0 0 1-2.2.9c-.5 0-1-.1-1.5-.4a3.8 3.8 0 0 1-1.1-1 4.8 4.8 0 0 1-1.5 1 4.3 4.3 0 0 1-1.8.4c-1.2 0-2.3-.4-3.2-1.3-.9-.9-1.3-2-1.3-3.2s.4-2.3 1.3-3.2c.9-.9 2-1.3 3.2-1.3s2.3.4 3.2 1.3c.9.9 1.3 2 1.3 3.2v1.4c0 .4.1.7.4 1 .3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1V12c0-2-.7-3.8-2.1-5.2S14 4.7 12 4.7s-3.8.7-5.2 2.1S4.7 10 4.7 12s.7 3.8 2.1 5.2 3.2 2.1 5.2 2.1h4.5V21zm0-6.2c.8 0 1.4-.3 2-.8a2.7 2.7 0 0 0 .8-2c0-.8-.3-1.4-.8-2a2.7 2.7 0 0 0-2-.8c-.8 0-1.4.3-2 .8a2.7 2.7 0 0 0-.8 2c0 .8.3 1.4.8 2a2.7 2.7 0 0 0 2 .8z"/></svg>',minus:'<svg width="24" height="24"><path d="M19 11a1 1 0 0 1 .1 2H5a1 1 0 0 1-.1-2H19Z"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2Z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3ZM17 19H7V5h6v4h4v10Z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="m15 13 2-2v8H5V7h8l-2 2H7v8h8v-4Zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19Z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3Zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1Z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M15.5 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7ZM13 17v-2h-2v2h2Zm0-4V7h-2v6h2Z" fill-rule="evenodd" clip-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 0 1 0-2Zm0-6h8a1 1 0 0 1 0 2H6a1 1 0 1 1 0-2Zm13-1v3.5a.5.5 0 1 1-1 0V5h-.5a.5.5 0 1 1 0-1H19Zm-1 8.8.2.2h1.3a.5.5 0 1 1 0 1h-1.6a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2h-1.3a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3Zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 0 1 0-1h1.2a.3.3 0 1 0 0-.6h-1.3a.4.4 0 1 1 0-.8h1.3a.3.3 0 0 0 0-.6h-1.2a.5.5 0 1 1 0-1H19c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2ZM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6Zm-1 8.8.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3ZM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1Z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4 1 13l6.4 6.5 6.5-6.5-6.5-6.5ZM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7ZM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1Z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2Zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2Zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2Zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2Z" fill-rule="evenodd"/></svg>',"export-pdf":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H7v3H5V5c0-1.1.9-2 2-2Z"/><path d="M2.6 15.2v-1.9h1c.6 0 1-.2 1.4-.5.3-.3.5-.7.5-1.2s-.2-.9-.5-1.2a2 2 0 0 0-1.3-.4H1v5.2h1.6Zm.4-3h-.4v-1.1h.5l.6.1.2.5c0 .1 0 .3-.2.4l-.7.1Zm5.7 3 1-.1c.3 0 .5-.2.7-.4l.5-.8c.2-.3.2-.7.2-1.3v-1l-.5-.8c-.2-.3-.4-.5-.7-.6L8.7 10H6.3v5.2h2.4Zm-.4-1.1H8v-3h.4c.5 0 .8.2 1 .4l.2 1.1-.1 1-.3.3-.8.2Zm5.3 1.2V13h2v-1h-2v-1H16V10h-4v5.2h1.6Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"export-word":'<svg width="24" height="24"><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V17h-2V9h-4V5H5c0-1.1.9-2 2-2ZM15 17a1 1 0 1 0-2 0v3.1l-1.4-1a1 1 0 1 0-1.2 1.7l3.6 2.4 3.6-2.4a1 1 0 0 0-1.2-1.6l-1.4 1V17Z"/></svg>',"import-word":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M7 3h7.4L19 7.6V15h-2V9h-4V5H5c0-1.1.9-2 2-2Z"/><path d="M9.5 7A1.5 1.5 0 0 1 11 8.4v7.1A1.5 1.5 0 0 1 9.6 17H2.5A1.5 1.5 0 0 1 1 15.6V8.5A1.5 1.5 0 0 1 2.4 7h7.1Zm-1 2.8-1 2.6-1-2.5v-.1a.6.6 0 0 0-1 0l-.1.1-.9 2.5-1-2.5v-.1a.6.6 0 0 0-1 .4v.1l1.5 4v.1a.6.6 0 0 0 1 0v-.1l1-2.5.9 2.5v.1a.6.6 0 0 0 1 0H8l1.6-4v-.2a.6.6 0 0 0-1.1-.4Z"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.4 18.2a1 1 0 0 0 1.2 1.6l1.4-1V22a1 1 0 1 0 2 0v-3.1l1.4 1a1 1 0 0 0 1.2-1.7L15 15.8l-3.6 2.4Z"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2Zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2ZM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1ZM6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1Z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm8 7v12h-6V8h6Zm-1.5 1.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm-2 7v12H4V8h6ZM8.5 9.5h-3v9h3v-9ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 11v5H8v-5h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 0 1 2.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0 1 12 1Zm10 7v5H8V8h14Zm-1.5 1.5h-11v2h11v-2ZM12 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2Z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9ZM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1Zm1.5-9.5v9h9v-9h-9ZM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1Z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5 8 20H3v-3l3.5-3.5a2 2 0 0 1 0-3L14 3l1 1-7.3 7.3a1 1 0 0 0 0 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 0 1-2.8 0l-.1-.1Z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 0 1 .1 2H13v6a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H11V5c0-.6.4-1 1-1Z"/></svg>',preferences:'<svg width="24" height="24"><path d="m20.1 13.5-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1ZM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5Zm-2.4-1 .7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1Zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6Z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3Zm-1 10H7v-4h10v4Zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5Zm.5-8H6v2h12V5Z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3Z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3Z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="m5 22.1-1.2-4.7v-.2a1 1 0 0 1 1-1l5 .4a1 1 0 1 1-.2 2l-2.2-.2a7.8 7.8 0 0 0 8.4.2 7.5 7.5 0 0 0 3.5-6.4 1 1 0 1 1 2 0 9.5 9.5 0 0 1-4.5 8 9.9 9.9 0 0 1-10.2 0l.4 1.4a1 1 0 1 1-2 .5ZM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 0 0-9.5-1 7.5 7.5 0 0 0-3.6 7 1 1 0 0 1-2 0 9.5 9.5 0 0 1 4.5-8.6 10 10 0 0 1 10.9.3l-.3-1a1 1 0 0 1 2-.5l1.1 4.8a1 1 0 0 1-1 1.2l-5-.4a1 1 0 0 1-.9-1Z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8ZM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1Z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1Zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4Zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9Zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4Z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7ZM8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3Z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5Z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"revision-history":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1Z"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10Z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8Z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5Zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2Z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2Zm0 2v2h14v-2H5Zm10 0h2v2h-2v-2Zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6Z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 0 0-2 2Zm0 8h2v-2H3v2Zm4 8h2v-2H7v2ZM3 9h2V7H3v2Zm10-6h-2v2h2V3Zm6 0v2h2a2 2 0 0 0-2-2ZM5 21v-2H3c0 1.1.9 2 2 2Zm-2-4h2v-2H3v2ZM9 3H7v2h2V3Zm2 18h2v-2h-2v2Zm8-8h2v-2h-2v2Zm0 8a2 2 0 0 0 2-2h-2v2Zm0-12h2V7h-2v2Zm0 8h2v-2h-2v2Zm-4 4h2v-2h-2v2Zm0-16h2V3h-2v2ZM7 17h10V7H7v10Zm2-8h6v6H9V9Z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm3.6 10.9L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3Z"/></svg>',send:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="m13.3 22 7-18.3-18.3 7L9 15l4.3 7ZM18 6.8l-.7-.7L9.4 14l.7.7L18 6.8Z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6ZM8 8h2V6H8v2Zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6ZM14 13h2v-2h-2v2Zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6ZM8 18h2v-2H8v2Z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path fill-rule="evenodd" d="m16 6 4 4-8 9-8-9 4-4h8Zm-4 10.2 5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2Z"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 0 1 0-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7ZM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 0 0-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7Z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6Zm0-3v2h2V5H6Zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1Zm-5 1.5-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5ZM13 10V8h-2v2h2Zm0-3V5h-2v2h2Zm3 5 1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12Z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1Z"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="m10.4 10 4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10ZM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19Z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4 10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4Zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11Z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8Zm-2 2H5v5h6V6Z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 0 1 2 2v7h-8v-2h6V6h-6V4Z" opacity=".2"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3Z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8 0h-6v5h6v-5Zm-8-7H5v5h6V6Z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v12h14V6Z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2Z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v7h-8v7H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 9H5v5h6v-5Zm8-7h-6v5h6V6Zm-8 0H5v5h6V6Z"/><path d="m18 20-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3.1.2-2.4 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2Zm.3.5 1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5Z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6Zm-4.7 1.8 1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3Z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 6v12h14V6H5Z"/><path d="m14.4 8.6 1.1 1-2.4 2.4 2.4 2.4-1.1 1.1-2.4-2.4-2.4 2.4-1-1.1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 0 1-2 0V6h-8v12h8v-1a1 1 0 0 1 2 0v2c0 .5-.4 1-.9 1H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h15ZM9 13H5v5h4v-5Zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H17v2a1 1 0 0 1-2 .1V13h-2a1 1 0 0 1-.1-2H15V9c0-.6.4-1 1-1ZM9 6H5v5h4V6Z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a1 1 0 0 1-1-1v-2a1 1 0 0 1 2 0v1h8V6H5v1a1 1 0 1 1-2 0V5c0-.6.4-1 1-1h15Zm0 9h-4v5h4v-5ZM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 0 1 .1 2H9v2a1 1 0 0 1-2 .1V13H5a1 1 0 0 1-.1-2H7V9c0-.6.4-1 1-1Zm11-2h-4v5h4V6Z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 1 1 0 2H5v6h14V6h-1a1 1 0 0 1 0-2h2c.6 0 1 .4 1 1v13a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5c0-.6.4-1 1-1h2Zm5 10H5v4h6v-4Zm8 0h-6v4h6v-4ZM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 0 1 0 2h-2v2a1 1 0 0 1-2 .1V8H9a1 1 0 0 1 0-2h2V4c0-.6.4-1 1-1Z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 0 1 .1 2H13v2a1 1 0 0 1-2 .1V18H9a1 1 0 0 1-.1-2H11v-2c0-.6.4-1 1-1Zm6 7a1 1 0 0 1 0-2h1v-6H5v6h1a1 1 0 0 1 0 2H4a1 1 0 0 1-1-1V6c0-1.1.9-2 2-2h14a2 2 0 0 1 2 2v13c0 .5-.4 1-.9 1H18ZM11 6H5v4h6V6Zm8 0h-6v4h6V6Z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm0 9h-4v5h4v-5Zm-6 0H9v5h4v-5Zm0-7H9v5h4V6Zm6 0h-4v5h4V6Z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15.5V18h3v-2.5H5Zm14-5h-9V18h9v-7.5ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Zm-8 7.5h3v-3H5v3Z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6Zm0 12h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 11h8v3H6v-3Zm11 0c.6 0 1 .4 1 1v1a1 1 0 0 1-2 0v-1c0-.6.4-1 1-1ZM6 6h8v3H6V6Zm11 0c.6 0 1 .4 1 1v1a1 1 0 1 1-2 0V7c0-.6.4-1 1-1Z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 0 1 2 2v13a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h12Zm0 12h-8v3h8v-3ZM7 16a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8v-3ZM7 11a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1c0-.6-.4-1-1-1Zm11-5h-8v3h8V6ZM7 6a1 1 0 0 0-1 1v1a1 1 0 1 0 2 0V7c0-.6-.4-1-1-1Z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 15v3h6v-3H5Zm14 0h-6v3h6v-3Zm0-9h-6v3h6V6ZM5 9h6V6H5v3Z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM8 15.5H5V18h3v-2.5Zm11-5h-9V18h9v-7.5Zm-2.5 1 1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2Zm-8.5-1H5v3h3v-3ZM19 6h-4v2.5h4V6ZM8 6H5v2.5h3V6Zm5 0h-3v2.5h3V6Z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14Zm-8 11H5v3h6v-3Zm8 0h-6v3h6v-3Zm0-5h-6v3h6v-3ZM5 13h6v-3H5v3Z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14ZM5 14v4h6v-4H5Zm14 0h-6v4h6v-4Zm0-6h-6v4h6V8ZM5 12h6V8H5v4Z"/></svg>',"template-add":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M9 12v4H5a2 2 0 0 0-2 2v3h9.3a6 6 0 0 1-.3-2H5v-1h7a6 6 0 0 1 .8-2H11v-5l-.8-.6a3 3 0 1 1 3.6 0l-.8.6v4.7a6 6 0 0 1 2-1.9V12a5 5 0 1 0-6 0Z"/><path d="M18 15c.5 0 1 .4 1 .9V18h2a1 1 0 0 1 .1 2H19v2a1 1 0 0 1-2 .1V20h-2a1 1 0 0 1-.1-2H17v-2c0-.6.4-1 1-1Z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14ZM9 16v-4a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H3v-3c0-1.1.9-2 2-2h4Zm4 0v-5l.8-.6a3 3 0 1 0-3.6 0l.8.6v5h2Z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 1 1 1 0V6H15v1.6a8 8 0 1 1-6 0Zm-2.6 5.3a.5.5 0 0 0 .3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 0 1 3.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 0 0-4.1 3.7Z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path class="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4Zm2.6-7.6-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4Z"/></g></svg>',"text-size-decrease":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM14 12a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6Z"/></svg>',"text-size-increase":'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M14 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H4a1 1 0 0 1 0-2h10ZM17 9a1 1 0 0 0-1 1v2h-2a1 1 0 1 0 0 2h2v2a1 1 0 1 0 2 0v-2h2a1 1 0 1 0 0-2h-2v-2c0-.6-.4-1-1-1Z"/></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2Zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="m12.7 14.3-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8Zm4.3-3 2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 0 1 2 0Zm-2.2 4.4h2.4L16 12.5l-1.2 3.2Z" fill-rule="evenodd"/></svg>',typography:'<svg width="24" height="24"><path fill-rule="evenodd" clip-rule="evenodd" d="M17 5a1 1 0 1 1 0 2h-4v11a1 1 0 1 1-2 0V7H7a1 1 0 0 1 0-2h10Z"/><path d="m17.5 14 .8-1.7 1.7-.8-1.7-.8-.8-1.7-.8 1.7-1.7.8 1.7.8.8 1.7ZM7 14l1 2 2 1-2 1-1 2-1-2-2-1 2-1 1-2Z"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1ZM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2Z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8Z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2Zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2ZM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1ZM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5Zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5Zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17Zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19Zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19Z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2Z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2Zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2ZM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1Z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2Zm0 1a1 1 0 0 0-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6Z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12ZM11 6.4 8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4Z" fill-rule="nonzero"/></svg>',"add-file":'<svg height="24" width="24"><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M2 7h2V4h3V2H4a2 2 0 0 0-2 2zm20 0h-2V4h-3V2h3a2 2 0 0 1 2 2zm0 2h-2v6h2zm0 8h-2v3h-3v2h3a2 2 0 0 0 2-2zM2 9h2v6H2zm0 8h2v3h3v2H4a2 2 0 0 1-2-2zm7 5v-2h6v2zm6-20v2H9V2zM6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/><path d="M6 17h12l-4-5-3 3.8-2-2.6z"/></svg>',adjustments:'<svg width="24" height="24"><path d="M16 11a3 3 0 1 1 2.8-4H21v2h-2.2a3 3 0 0 1-2.8 2Zm0-2a1 1 0 1 1 0-2 1 1 0 0 1 0 2ZM3 9h8V7H3v2Zm5 10a3 3 0 1 0-2.8-4H3v2h2.2A3 3 0 0 0 8 19Zm0-2a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm13 0h-8v-2h8v2Z"/></svg>',"alt-text":'<svg width="24" height="24"><path d="M3 20a2 2 0 0 1-1.4-.6A2 2 0 0 1 1 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 3 4h18c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H3Zm0-2h18V6H3v12Zm1.5-3H6v-1.5h1.5V15H9v-5a1 1 0 0 0-.3-.7A1 1 0 0 0 8 9H5.5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v5ZM6 12v-1.5h1.5V12H6Z"/><path d="M11 15V9h1.3v4.5h2V15H11Zm5.8-4.5V15h1.4v-4.5h1.3V9h-4v1.5h1.3Z"/></svg>',"auto-image-enhancement":'<svg width="24" height="24"><path d="M7.7 10.6a5.8 5.8 0 0 0 5.7 5.7A5.8 5.8 0 0 0 7.7 22 5.8 5.8 0 0 0 2 16.3a5.8 5.8 0 0 0 5.7-5.7ZM15.5 2c.3 3 3.3 6 6.5 6.4-3.2.5-6.2 3.4-6.5 6.5-.3-3.4-3-6-6.4-6.5 3.3-.5 6.1-3 6.4-6.4Z"/></svg>',blur:'<svg width="24" height="24"><path d="M19.3 9.3a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 20 9a1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 10a1 1 0 0 0-.3-.7A1 1 0 0 0 4 9a1 1 0 0 0-.7.3Zm16 6a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3Zm-16 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3A1 1 0 0 0 5 16a1 1 0 0 0-.3-.7A1 1 0 0 0 4 15a1 1 0 0 0-.7.3Zm5-11A1 1 0 0 0 8 5a1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 10 5a1 1 0 0 0-.3-.7A1 1 0 0 0 9 4a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7 1 1 0 0 0 1 1c.3 0 .5-.1.7-.3A1 1 0 0 0 16 5a1 1 0 0 0-.3-.7A1 1 0 0 0 15 4a1 1 0 0 0-.7.3Zm-6 16a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7A1 1 0 0 0 9 20a1 1 0 0 0-.7.3Zm6 0a1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3s.5-.1.7-.3a1 1 0 0 0 .3-.7 1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3ZM7.6 8.6A2 2 0 0 0 7 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 7 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 9 14a2 2 0 0 0-1.4.6Zm6-6A2 2 0 0 0 13 10c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 8a2 2 0 0 0-1.4.6Zm0 6A2 2 0 0 0 13 16c0 .6.2 1 .6 1.4.4.4.8.6 1.4.6s1-.2 1.4-.6c.4-.4.6-.8.6-1.4s-.2-1-.6-1.4A2 2 0 0 0 15 14a2 2 0 0 0-1.4.6Z"/></svg>',box:'<svg width="24" height="24"><path d="M3.8 7a1 1 0 0 0-.7.6l-.1 3V13.8a3.5 3.5 0 0 0 4 2.7c.8-.2 1.4-.5 2-1l.3-.3.3.2c.7.7 1.4 1 2.4 1.1 1.2 0 2.4-.6 3-1.6.9-1.2.8-2.8 0-4a3.7 3.7 0 0 0-2-1.2c-.4-.1-1.2-.1-1.6 0a3.4 3.4 0 0 0-1.7 1l-.3.2-.2-.1c-.4-.5-1.2-1-2-1.1-.6-.2-1.5 0-2 .2H5V9c0-1.3 0-1.3-.3-1.6a1 1 0 0 0-1-.3Zm12 2.6c-.3.2-.5.4-.6.8v.6l.9 1 .7 1v.1l-.8 1-.7 1a1 1 0 0 0 0 .7 1 1 0 0 0 1.3.6c.2 0 .3-.2 1-1l.5-.7.6.8.7.8c.4.3 1 .3 1.3 0l.2-.3a1 1 0 0 0 0-.8l-.8-1.2-.7-1a26 26 0 0 0 1.5-2 .8.8 0 0 0 .1-.4c0-.4-.1-.7-.5-.9H20c-.4 0-.5 0-1.2.8l-.7.8-.6-.7-.7-.9a1 1 0 0 0-1 0Zm-9 2 .4.1c.3.1.6.5.7.8l.1.6v.6c-.6 1-2 1.2-2.7.3-.3-.3-.3-.5-.3-1v-.5c.3-.5.7-.8 1.1-1a1.5 1.5 0 0 1 .7 0Zm5.7 0c.4 0 .8.4 1 .8l.2.6-.1.7c-.5.9-1.6 1.1-2.4.6a1.4 1.4 0 0 1-.6-1.1 1.4 1.4 0 0 1 .5-1.2 1.5 1.5 0 0 1 1.4-.4Z"/></svg>',camera:'<svg height="24" width="24"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M10 5.4a1 1 0 0 1 .8-.4h4.4a1 1 0 0 1 .8.4l1.2 1.8h2.3A2.5 2.5 0 0 1 22 9.6v8a2.5 2.5 0 0 1-2.5 2.5h-13A2.5 2.5 0 0 1 4 17.6v-8a2.5 2.5 0 0 1 2.5-2.4h2.3zM11.4 7l-1.2 1.7a1 1 0 0 1-.8.5h-3a.5.5 0 0 0-.4.4v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.4h-2.9a1 1 0 0 1-.8-.5L14.6 7z"/><path d="M13 11.4a2 2 0 1 0 0 3.8 2 2 0 0 0 0-3.8zm-4 1.9a4 4 0 1 1 8 0 4 4 0 0 1-8 0z"/></g></svg>',caption:'<svg height="24" width="24"><path d="M6 16h8v-2H6zm10 0h2v-2h-2zM4 20a2 2 0 0 1-1.5-.6A2 2 0 0 1 2 18V6c0-.6.2-1 .6-1.4A2 2 0 0 1 4 4h16c.6 0 1 .2 1.4.6.4.4.6.9.6 1.4v12c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm0-2h16V6H4z"/></svg>',dropbox:'<svg height="24" width="24"><path clip-rule="evenodd" d="m6.4 9.3-3-2a1 1 0 0 1 0-1.6l4-2.5a1 1 0 0 1 1 0L12 5.5l3.6-2.3a1 1 0 0 1 1 0l4 2.5a1 1 0 0 1 0 1.7l-3 1.9 3 1.9a1 1 0 0 1 0 1.6l-2.9 1.9V16c0 .3-.1.6-.4.8l-4.5 3a1 1 0 0 1-1.2 0l-4.4-3a1 1 0 0 1-.5-.9v-1l-3.2-2.2a1 1 0 0 1 0-1.6zm3 0L12 7.5l2.6 1.8L12 11zM8.9 15v.4l3.3 2.3 3.4-2.3v-.2L12 13l-3.1 2zm-1-10-2 1.4 2 1.3 2-1.3zm8.2 0-2 1.4 2 1.3 2-1.3zm-2 6.9 2-1.3 2 1.3-2 1.3-2-1.3zm-8.3 0 2-1.3L10 12l-2 1.3-2-1.3z" fill-rule="evenodd"/></svg>',evernote:'<svg width="24" height="24"><path fill-rule="evenodd" d="m9.5 3-.3.1-2.6 2.6C3.8 8.5 4 8.2 4 8.7c0 1.3.3 3 .6 4.3.5 2 1.1 3.2 2 3.7l1.2.3c1 .2 1.5.2 2.2.2 1.3 0 1.7 0 2.2-.4.3-.2.3-.4.4-1a38.4 38.4 0 0 1 .3-.4l.3.1 1.8.1h1.6v-1.8H14l-.1-.2a6.8 6.8 0 0 1-.5-1c-.2-.4-.3-.6-.5-.7a.8.8 0 0 0-.5-.1.9.9 0 0 0-.8.5l-.4 1.6-.3 1.5H9.4l-2-.3a1 1 0 0 1-.1-.2A10.1 10.1 0 0 1 6 9.7v-.2h4l.5-.5V5H12c.4.2.7.7.8 1.1a1 1 0 0 0 .2.6c.2.2.3.2 1 .3 1.2 0 2 .2 2.5.6.4.2.8.7 1 1.2.3 1.2.5 4 .3 6.4 0 1.8-.4 3.4-.8 4h-.7a8 8 0 0 1-.8 0c-.2 0-.3-.3-.2-.5a.5.5 0 0 1 .4-.3h.9v-1.8H16c-.7 0-.9 0-1.2.2-.9.4-1.4 1.2-1.4 2.1l.1.4.1.2a1 1 0 0 1 .1.2c.3.7.8 1.2 1.4 1.3l1.2.1h1.2a2 2 0 0 0 1-.8 9 9 0 0 0 1.1-4.3c.2-3 0-6.3-.4-7.7A4.3 4.3 0 0 0 16 5.3a7 7 0 0 0-1.3-.2 7.2 7.2 0 0 1-.4 0 5.5 5.5 0 0 1 0-.3c-.2-.5-.6-1-1.2-1.4a3 3 0 0 0-.5-.2c-.4-.2-.5-.2-1.8-.2a26.5 26.5 0 0 0-1.3 0Zm-.8 4v.7H7.2l.7-.8.8-.7v.7Zm7 3.5c-.4 0-.7.5-.9 1v.7h.3c.7 0 1.1.2 1.5.6l.3.2.3-.6V11a1 1 0 0 0-.6-.4 2 2 0 0 0-.8 0Z" clip-rule="evenodd"/></svg>',exposure:'<svg width="24" height="24"><path d="M5 21a2 2 0 0 1-1.4-.6A2 2 0 0 1 3 19V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h14c.6 0 1 .2 1.4.6.4.4.6.8.6 1.4v14c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6H5Zm0-2h14V5L5 19Zm9.5-1v-2h-2v-1.5h2v-2H16v2h2V16h-2v2h-1.5ZM6 8.5h5V7H6v1.5Z"/></svg>',fb:'<svg width="24" height="24"><path fill-rule="evenodd" d="M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-11 6.7V14H8.1v-2.5h2v-1C10 8.2 11.5 7 12.8 7H16v2.5h-2.4c-.8 0-1 .7-1 1.3v.7h3.2l-1 2.5h-2v5a7 7 0 1 0-2.8-.2Z" clip-rule="evenodd"/></svg>',flickr:'<svg width="24" height="24"><path d="M8.2 15.3c1.7 0 3.1-1.4 3.1-3.1A3.2 3.2 0 0 0 8.1 9 3.2 3.2 0 0 0 5 12.2c0 1.7 1.4 3 3.2 3Zm7.6 0c1.7 0 3.2-1.4 3.2-3.1a3.2 3.2 0 0 0-6.3 0c0 1.7 1.4 3 3.1 3Z"/></svg>',folder:'<svg width="24" height="24"><path fill-rule="evenodd" d="M5.6 6a.6.6 0 0 0-.6.6v11.2a.6.6 0 0 0 .6.6h12.8a.6.6 0 0 0 .6-.6V9a.6.6 0 0 0-.6-.6h-7.2a1 1 0 0 1-.8-.4L9 6H5.6ZM3.8 4.8A2.6 2.6 0 0 1 5.6 4h4a1 1 0 0 1 .8.4l1.3 2h6.7A2.6 2.6 0 0 1 21 9v8.8a2.6 2.6 0 0 1-2.6 2.6H5.6A2.6 2.6 0 0 1 3 17.8V6.6c0-.7.3-1.4.8-1.8Z" clip-rule="evenodd"/></svg>',"google-drive":'<svg height="24" width="24"><path clip-rule="evenodd" d="M8.7 4.5a1 1 0 0 1 .9-.5h4.8a1 1 0 0 1 .9.5l5.6 9.7a1 1 0 0 1 0 1l-2.4 4.2a1 1 0 0 1-.9.5H6.4a1 1 0 0 1-.9-.5l-2.4-4.2a1 1 0 0 1 0-1zM10.2 6l-4.5 7.7h2.5L12.7 6h-2.5zm4.2 1 4.4 7.7-1.2 2.2-4.4-7.7zM12 11.2l-1.5 2.5h3zm2.6 4.5H5.7L7 17.9h8.9l-1.3-2.2z" fill-rule="evenodd"/></svg>',"google-photos":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12.4 3c-.8 0-1.4.7-1.4 1.4v3.2a5 5 0 0 0-8 4c0 .8.6 1.4 1.4 1.4h3.2a5 5 0 0 0-1 3 5 5 0 0 0 5 5c.8 0 1.4-.6 1.4-1.4v-3.2a5 5 0 0 0 8-4c0-.8-.7-1.4-1.4-1.4h-3.2a5 5 0 0 0-4-8Zm.6 8V5a3 3 0 0 1 2.4 3 3 3 0 0 1-2.4 3Zm-2 0H5a3 3 0 0 1 3-2.4 3 3 0 0 1 3 2.4Zm2 2a3 3 0 0 0 3 2.4 3 3 0 0 0 3-2.4h-6Zm-4.4 3a3 3 0 0 1 2.4-3v6a3 3 0 0 1-2.4-3Z" clip-rule="evenodd"/></svg>',grayscale:'<svg height="24" width="24"><path d="M3 5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm12.4 0H19v3.6zm-2.8 0h-2.2l8.6 8.6v-2.2zm-5 0H5l14 14v-2.6z" fill-rule="evenodd"/></svg>',huddle:'<svg height="24" width="24"><path d="M10.3 5.6V8h.8v-2l3.5 2 4.3-2.5L14.6 3l-4.3 2.6zM14.6 8v5.2l4.3-2.6V5.6L14.6 8zM6 13.3v2.5h.9v-2l3.4 2 4.3-2.5-4.3-2.6zm4.3 2.6V21l4.3-2.6v-5.1l-4.3 2.6z"/></svg>',"image-decorative":'<svg width="24" height="24"><path d="M12 10c.3 0 .5-.1.7-.3A1 1 0 0 0 13 9a1 1 0 0 0-.3-.7A1 1 0 0 0 12 8a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7 1 1 0 0 0 1 1Zm0 6a3 3 0 0 1-1.8-.5A3 3 0 0 1 9.1 14a2 2 0 0 0-.2 0 3 3 0 0 1-2.5-1 3 3 0 0 1-.9-2.2A3 3 0 0 1 6.2 9a3.4 3.4 0 0 1-.5-1 3 3 0 0 1-.2-1 3 3 0 0 1 1-2.2A3 3 0 0 1 8.8 4H9a3 3 0 0 1 1.1-1.4A3 3 0 0 1 12 2a3 3 0 0 1 1.8.5c.5.4.9.9 1.1 1.5h.2a3 3 0 0 1 2.5.8 3 3 0 0 1 .9 2.3c0 .3 0 .7-.2 1a2.8 2.8 0 0 1-.5.9l.5 1 .2 1a3 3 0 0 1-1 2.2 3 3 0 0 1-2.4.9 1.8 1.8 0 0 0-.2 0 3 3 0 0 1-1.1 1.4 3 3 0 0 1-1.8.5Zm0 7a8.7 8.7 0 0 1 .7-3.5 9.2 9.2 0 0 1 2-2.8 9.2 9.2 0 0 1 2.8-2A8.6 8.6 0 0 1 21 14a8.6 8.6 0 0 1-.7 3.5 9.2 9.2 0 0 1-2 2.8 9.2 9.2 0 0 1-2.8 2 8.6 8.6 0 0 1-3.5.7Zm2.5-2.5a6.8 6.8 0 0 0 2.4-1.5 6.8 6.8 0 0 0 1.7-2.6c-1 .4-1.8 1-2.6 1.7a6.8 6.8 0 0 0-1.5 2.4ZM12 23a8.6 8.6 0 0 0-.7-3.5 9.2 9.2 0 0 0-2-2.9 9.2 9.2 0 0 0-2.8-1.9A8.6 8.6 0 0 0 3 14a8.7 8.7 0 0 0 .7 3.5 9.2 9.2 0 0 0 2 2.9 9.2 9.2 0 0 0 2.8 1.9 8.6 8.6 0 0 0 3.5.7Zm-2.5-2.5A6.8 6.8 0 0 1 7.2 19a6.8 6.8 0 0 1-1.6-2.6c.9.4 1.7 1 2.5 1.7a6.8 6.8 0 0 1 1.6 2.4Zm5.9-8.4c.3 0 .5-.1.8-.4.2-.2.3-.5.3-.8 0-.2 0-.4-.2-.6a1.3 1.3 0 0 0-.5-.4l-.8-.4a3 3 0 0 1-.2.5 3.8 3.8 0 0 1-.2.5 2.5 2.5 0 0 1-.3.4 4 4 0 0 1-.4.4l.8.6a.8.8 0 0 0 .3.1h.4ZM15 8.5l.8-.4.5-.4.2-.6a1.1 1.1 0 0 0-.3-.8 1 1 0 0 0-.8-.4 1.1 1.1 0 0 0-.7.2l-.8.6.4.4.3.4a3.9 3.9 0 0 1 .4 1Zm-4-2.3a2.7 2.7 0 0 1 1-.2 2.7 2.7 0 0 1 1 .2l.2-1.1c0-.3-.1-.6-.4-.8A1.2 1.2 0 0 0 12 4c-.3 0-.6.1-.8.3-.3.2-.4.5-.3.8v1.1Zm1 7.8c.3 0 .6-.1.8-.3.3-.2.4-.5.3-.8v-1.1a2.7 2.7 0 0 1-1.1.2 2.7 2.7 0 0 1-1-.2l-.2 1.1c0 .3.1.6.4.8.2.2.5.3.8.3ZM9 8.5a3 3 0 0 1 .4-1l.3-.4.4-.4-.8-.6A.9.9 0 0 0 9 6a1.2 1.2 0 0 0-.3 0c-.4 0-.6 0-.9.3a1.1 1.1 0 0 0-.3.8c0 .2 0 .4.2.6l.5.4.9.4Zm-.3 3.6H9l.3-.2.8-.6a5.5 5.5 0 0 1-.4-.4 2.1 2.1 0 0 1-.3-.4 3.8 3.8 0 0 1-.2-.5 3 3 0 0 1-.1-.5l-1 .4-.4.4a1.1 1.1 0 0 0-.2.6c0 .3.2.6.4.8.2.2.4.4.7.4Z"/></svg>',"image-enhancements":'<svg height="24" width="24"><path d="M5.3 21a2 2 0 0 1-1.5-.6 2 2 0 0 1-.6-1.4V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5.2 3H13v2H5.2v14h14v-8h2v8c0 .6-.1 1-.5 1.4a2 2 0 0 1-1.4.6z"/><path d="M11 9a4 4 0 0 0 4 4 4 4 0 0 0-4 4 4 4 0 0 0-4-4 4 4 0 0 0 4-4zm5.5-6c.2 2.1 2.2 4.1 4.5 4.5-2.3.4-4.3 2.4-4.5 4.5A5.2 5.2 0 0 0 12 7.5 5.2 5.2 0 0 0 16.5 3z"/></svg>',instagram:'<svg height="24" width="24"><path clip-rule="evenodd" d="M10.1 9a4 4 0 1 1 4.4 6.6A4 4 0 0 1 10.1 9zm2.2 1.3a2 2 0 1 0 0 4 2 2 0 0 0 0-4z" fill-rule="evenodd"/><path d="M16 9.3a1.3 1.3 0 1 0 0-2.6 1.3 1.3 0 0 0 0 2.6z"/><path clip-rule="evenodd" d="M3 6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3zm3-1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1z" fill-rule="evenodd"/></svg>',onedrive:'<svg height="24" width="24"><path d="M4 13.7h1zm16 .7h-1zm-11.7-4A4.4 4.4 0 0 1 12.1 8V6a6.4 6.4 0 0 0-5.6 3.4l1.8 1zM12.1 8c2 0 3.6 1.4 4 2.8l2-.5A6.3 6.3 0 0 0 12 6v2zm8.1 6.8-9.8-5.5-1 1.8 9.8 5.5 1-1.8zm-9.8-5.5A5 5 0 0 0 3 13.7h2A3 3 0 0 1 9.5 11l1-1.8zM3 13.7a5 5 0 0 0 1 2.8l1.5-1.1a3 3 0 0 1-.5-1.7zm15.8 1.6a2.3 2.3 0 0 1-2 1.4v2a4.3 4.3 0 0 0 3.9-2.6zm-2 1.4H8v2h8.7zm-8.8 0a3 3 0 0 1-2.5-1.3L4 16.5a5 5 0 0 0 4 2.2v-2zm12.7-.6c.2-.6.3-1.1.3-1.7h-2c0 .3 0 .6-.2.9zm.3-1.7c0-3-3.1-5.1-6-4l.8 1.9a2.3 2.3 0 0 1 3.2 2h2zm-6-4L4.4 15l.8 1.9 10.7-4.6-.7-1.8z"/></svg>',"photo-filter":'<svg height="24" width="24"><path d="M4.4 21c-.3 0-.6-.2-.9-.5-.3-.3-.4-.6-.5-.9L19.6 3c.3 0 .6.3.9.5l.5.9zM3 14.7v-2.8L11.9 3h2.8zM3 7V5c0-.6.2-1 .6-1.4A2 2 0 0 1 5 3h2zm14 14 4-4v2c0 .6-.2 1-.6 1.4a2 2 0 0 1-1.4.6zm-7.7 0L21 9.3v2.8L12 21z"/></svg>',"revert-changes":'<svg height="24" width="24"><path d="m8.9 18.8.4 3.2H13v-2h-2v-2.6a4.6 4.6 0 0 1-1.6-.6 5.9 5.9 0 0 1-1.3-1l-2.5 1-1-1.7 2.2-1.6a4 4 0 0 1-.2-.7 5.9 5.9 0 0 1 0-.8v-.8l.2-.8-2.2-1.6 1-1.7 2.5 1a6 6 0 0 1 1.2-.9l1.4-.6.4-2.6h2l.3 2.6A5.6 5.6 0 0 1 16 8.2l2.5-1 1 1.6-2.2 1.7.2.7v.8a5 5 0 0 1 0 1h2a2.6 2.6 0 0 0 0-.5V11.3l2.6-2-2.8-4.7-3 1.3a8.2 8.2 0 0 0-.5-.4 3.8 3.8 0 0 0-.6-.3L14.8 2H9.3l-.4 3.2a5 5 0 0 0-1.2.7l-3-1.3L2 9.4l2.6 2V12.6l-2.6 2 2.7 4.7 3-1.3a8 8 0 0 0 1.2.7z"/><path d="m14.5 20.3 2.1-2-2.1-2.2 1.4-1.4 2.1 2.1 2.1-2 1.4 1.3-2 2.1 2 2.1-1.4 1.4-2.1-2-2.1 2zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></svg>',saturation:'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 20.5a6 6 0 1 1-5.9-10.2 6 6 0 1 1 11.8 0A6 6 0 1 1 12 20.5Zm-1.1-7.7a6 6 0 0 0-.2.3 4.3 4.3 0 0 1-2-1.3c.9.1 1.6.5 2.2 1Zm2.4.3a6 6 0 0 0-.2-.3 4.3 4.3 0 0 1 2.2-1 4.3 4.3 0 0 1-2 1.3ZM12.2 15a6.3 6.3 0 0 1-.4 0 4.3 4.3 0 0 0 .2 2.5 4.3 4.3 0 0 0 .2-2.5Zm.9 4.2a6 6 0 0 0 .8-4.5 6 6 0 0 0 3.4-2.8 4.3 4.3 0 0 1-1.3 8.4 4.3 4.3 0 0 1-2.9-1.1Zm-2.2 0a4.3 4.3 0 1 1-4.2-7.3 6 6 0 0 0 3.4 2.8 6 6 0 0 0 .8 4.5Zm-3-9.2a4.3 4.3 0 1 1 8.3 0 6 6 0 0 0-4.2 1.5A6 6 0 0 0 7.8 10Z"/></svg>',"transform-image":'<svg height="24" width="24"><path d="M3 21v-6h2V9H3V3h6v2h6V3h6v6h-2v6h2v6h-6v-2H9v2zm6-4h6v-2h2V9h-2V7H9v2H7v6h2zM5 7h2V5H5zm12 0h2V5h-2zm0 12h2v-2h-2zM5 19h2v-2H5z"/></svg>',vibrance:'<svg height="24" width="24"><path d="M12 20 22 4H2zm2.6-8 1.3-2H8l1.3 2h5.2zm-1.2 2h-2.8l1.4 2.2zm5-8L17 8H7L5.6 6h12.8z" fill-rule="evenodd"/></svg>',vk:'<svg width="24" height="24"><path fill-rule="evenodd" d="M14.8 17.4a2 2 0 0 1-1.3.7 8 8 0 0 1-7.7-3.6c-1.4-2-2.2-4.4-2.6-5.7L3 8.6A2 2 0 0 1 5 6h2.5c.4 0 .8.1 1.2.4A2 2 0 0 1 9.8 6h3.5a2 2 0 0 1 1.4.6 2 2 0 0 1 1.5-.6h2.4a2 2 0 0 1 2 2.5c-.5 1.5-1.2 2.6-1.8 3.6a12.5 12.5 0 0 1 2 3.2A2 2 0 0 1 19 18h-2.6a2 2 0 0 1-1.3-.5 6.9 6.9 0 0 1-.3-.2Zm.5-2.5-1.2-1a3 3 0 0 0-.8-.2v2.4h-1.7a5.6 5.6 0 0 1-.3 0c-3-.7-4.7-3.7-5.6-6.1A38.1 38.1 0 0 1 5 8.1V8h2.5a80.5 80.5 0 0 1 1.2 2.5c.6 1.2 1.2 2 2 2.1V9l-.9-1h3.5v4.1a5 5 0 0 0 .4-.3c.7-.7 1.2-1.4 1.6-2.2l.2-.3.7-1.3h2.4a8.5 8.5 0 0 1-.8 2l-1.3 2-.3.3a10.5 10.5 0 0 1 2.8 3.8h-2.6l-.8-.9a20.6 20.6 0 0 0-.3-.3Z" clip-rule="evenodd"/></svg>',warmth:'<svg height="24" width="24"><path d="M12 21.1c-1.4 0-2.6-.5-3.6-1.5s-1.5-2.1-1.5-3.5c0-.8.2-1.6.6-2.2A5 5 0 0 1 8.9 12v-6c0-.8.3-1.5 1-2.1a2.9 2.9 0 0 1 2-.9c.9 0 1.6.3 2.2.9.5.6.8 1.3.8 2.1v6a5 5 0 0 1 1.5 1.8A4.9 4.9 0 0 1 17 16c0 1.4-.5 2.6-1.4 3.5s-2.2 1.5-3.6 1.5zm-3-5h6c0-.5-.2-1-.4-1.4a3 3 0 0 0-.9-1l-.8-.6v-7a1 1 0 0 0-.3-.7A1 1 0 0 0 12 5a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v7l-.8.6a2.9 2.9 0 0 0-.9 1 3 3 0 0 0-.3 1.4z"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24Zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7ZM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13Z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 0 1 1.2 1.5l-.1.1-4.1 3-4-3a1 1 0 0 1 1-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8 4 2.9a1 1 0 0 1-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 0 1-1-1v-4l-2 1.3a1 1 0 0 1-1.2-.1l-.1-.1a1 1 0 0 1 .1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2Zm-4 0v2a2 2 0 0 1-2-2h2Zm8 0v2h-2v-2h2Zm8 0a2 2 0 0 1-2 2v-2h2Zm-4 0v2h-2v-2h2ZM15 7a1 1 0 0 1 0 2v7a1 1 0 0 1-2 0V9h-1v7a1 1 0 0 1-2 0v-4a2.5 2.5 0 0 1-.2-5H15ZM5 15v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 11v2H3v-2h2Zm16 0v2h-2v-2h2ZM5 7v2H3V7h2Zm16 0v2h-2V7h2ZM5 3v2H3c0-1.1.9-2 2-2Zm8 0v2h-2V3h2Zm6 0a2 2 0 0 1 2 2h-2V3ZM9 3v2H7V3h2Zm8 0v2h-2V3h2Z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5Z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6ZM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3Zm.7-3 .3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4Z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8Zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3Zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8Z" fill-rule="nonzero"/></svg>'}});const K5=window.tinymce,G5={base_url:"/umbraco/backoffice/tinymce"};function aj(ul){const _c={...G5,...ul};return K5.init(_c)}export{G5 as defaultConfig,aj as renderEditor,K5 as tinymce};
