{"version":3,"file":"content-editor.element-GMgpMQhT.js","sources":["../../../src/packages/core/content/workspace/views/edit/content-editor-properties.element.ts","../../../src/packages/core/content/workspace/views/edit/content-editor-tab.element.ts","../../../src/packages/core/content/workspace/views/edit/content-editor.element.ts"],"sourcesContent":["import { css, html, customElement, property, state, repeat } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport type {\r\n\tUmbContentTypeModel,\r\n\tUmbContentTypeStructureManager,\r\n\tUmbPropertyTypeModel,\r\n} from '@umbraco-cms/backoffice/content-type';\r\nimport { UmbContentTypePropertyStructureHelper } from '@umbraco-cms/backoffice/content-type';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UmbDataPathPropertyValueQuery } from '@umbraco-cms/backoffice/validation';\r\nimport { UMB_PROPERTY_STRUCTURE_WORKSPACE_CONTEXT } from '@umbraco-cms/backoffice/workspace';\r\nimport type { UmbVariantId } from '@umbraco-cms/backoffice/variant';\r\nimport { UMB_PROPERTY_DATASET_CONTEXT } from '@umbraco-cms/backoffice/property';\r\n\r\n@customElement('umb-content-workspace-view-edit-properties')\r\nexport class UmbContentWorkspaceViewEditPropertiesElement extends UmbLitElement {\r\n\t@property({ type: String, attribute: 'container-id', reflect: false })\r\n\tpublic get containerId(): string | null | undefined {\r\n\t\treturn this.#propertyStructureHelper.getContainerId();\r\n\t}\r\n\tpublic set containerId(value: string | null | undefined) {\r\n\t\tthis.#propertyStructureHelper.setContainerId(value);\r\n\t}\r\n\r\n\t#propertyStructureHelper = new UmbContentTypePropertyStructureHelper<UmbContentTypeModel>(this);\r\n\t#variantId?: UmbVariantId;\r\n\r\n\t@state()\r\n\t_propertyStructure?: Array<UmbPropertyTypeModel>;\r\n\r\n\t@state()\r\n\t_dataPaths?: Array<string>;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_PROPERTY_STRUCTURE_WORKSPACE_CONTEXT, (workspaceContext) => {\r\n\t\t\tthis.#propertyStructureHelper.setStructureManager(\r\n\t\t\t\t// Assuming its the same content model type that we are working with here... [NL]\r\n\t\t\t\tworkspaceContext.structure as unknown as UmbContentTypeStructureManager<UmbContentTypeModel>,\r\n\t\t\t);\r\n\t\t});\r\n\t\tthis.consumeContext(UMB_PROPERTY_DATASET_CONTEXT, (datasetContext) => {\r\n\t\t\tthis.#variantId = datasetContext.getVariantId();\r\n\t\t\tthis.#generatePropertyDataPath();\r\n\t\t});\r\n\t\tthis.observe(\r\n\t\t\tthis.#propertyStructureHelper.propertyStructure,\r\n\t\t\t(propertyStructure) => {\r\n\t\t\t\tthis._propertyStructure = propertyStructure;\r\n\t\t\t\tthis.#generatePropertyDataPath();\r\n\t\t\t},\r\n\t\t\tnull,\r\n\t\t);\r\n\t}\r\n\r\n\t#generatePropertyDataPath() {\r\n\t\tif (!this.#variantId || !this._propertyStructure) return;\r\n\t\tthis._dataPaths = this._propertyStructure.map(\r\n\t\t\t(property) =>\r\n\t\t\t\t`$.values[${UmbDataPathPropertyValueQuery({\r\n\t\t\t\t\talias: property.alias,\r\n\t\t\t\t\tculture: property.variesByCulture ? this.#variantId!.culture : null,\r\n\t\t\t\t\tsegment: property.variesBySegment ? this.#variantId!.segment : null,\r\n\t\t\t\t})}].value`,\r\n\t\t);\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn this._propertyStructure && this._dataPaths\r\n\t\t\t? repeat(\r\n\t\t\t\t\tthis._propertyStructure,\r\n\t\t\t\t\t(property) => property.alias,\r\n\t\t\t\t\t(property, index) =>\r\n\t\t\t\t\t\thtml`<umb-property-type-based-property\r\n\t\t\t\t\t\t\tclass=\"property\"\r\n\t\t\t\t\t\t\tdata-path=${this._dataPaths![index]}\r\n\t\t\t\t\t\t\t.property=${property}></umb-property-type-based-property> `,\r\n\t\t\t\t)\r\n\t\t\t: '';\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t.property {\r\n\t\t\t\tborder-bottom: 1px solid var(--uui-color-divider);\r\n\t\t\t}\r\n\t\t\t.property:last-child {\r\n\t\t\t\tborder-bottom: 0;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbContentWorkspaceViewEditPropertiesElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-content-workspace-view-edit-properties': UmbContentWorkspaceViewEditPropertiesElement;\r\n\t}\r\n}\r\n","import { css, html, customElement, property, state, repeat } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport type {\r\n\tUmbContentTypeModel,\r\n\tUmbContentTypeStructureManager,\r\n\tUmbPropertyTypeContainerModel,\r\n} from '@umbraco-cms/backoffice/content-type';\r\nimport { UmbContentTypeContainerStructureHelper } from '@umbraco-cms/backoffice/content-type';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UMB_PROPERTY_STRUCTURE_WORKSPACE_CONTEXT } from '@umbraco-cms/backoffice/workspace';\r\nimport './content-editor-properties.element.js';\r\n\r\n@customElement('umb-content-workspace-view-edit-tab')\r\nexport class UmbContentWorkspaceViewEditTabElement extends UmbLitElement {\r\n\t@property({ type: String })\r\n\tpublic get containerId(): string | null | undefined {\r\n\t\treturn this._containerId;\r\n\t}\r\n\tpublic set containerId(value: string | null | undefined) {\r\n\t\tthis._containerId = value;\r\n\t\tthis.#groupStructureHelper.setContainerId(value);\r\n\t}\r\n\t@state()\r\n\tprivate _containerId?: string | null;\r\n\r\n\t#groupStructureHelper = new UmbContentTypeContainerStructureHelper<UmbContentTypeModel>(this);\r\n\r\n\t@state()\r\n\t_groups: Array<UmbPropertyTypeContainerModel> = [];\r\n\r\n\t@state()\r\n\t_hasProperties = false;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_PROPERTY_STRUCTURE_WORKSPACE_CONTEXT, (workspaceContext) => {\r\n\t\t\tthis.#groupStructureHelper.setStructureManager(\r\n\t\t\t\t// Assuming its the same content model type that we are working with here... [NL]\r\n\t\t\t\tworkspaceContext.structure as unknown as UmbContentTypeStructureManager<UmbContentTypeModel>,\r\n\t\t\t);\r\n\t\t});\r\n\t\tthis.observe(this.#groupStructureHelper.mergedContainers, (groups) => {\r\n\t\t\tthis._groups = groups;\r\n\t\t});\r\n\t\tthis.observe(this.#groupStructureHelper.hasProperties, (hasProperties) => {\r\n\t\t\tthis._hasProperties = hasProperties;\r\n\t\t});\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t${this._hasProperties\r\n\t\t\t\t? html`\r\n\t\t\t\t\t\t<uui-box>\r\n\t\t\t\t\t\t\t<umb-content-workspace-view-edit-properties\r\n\t\t\t\t\t\t\t\tdata-mark=\"property-group:root\"\r\n\t\t\t\t\t\t\t\t.containerId=${this._containerId}></umb-content-workspace-view-edit-properties>\r\n\t\t\t\t\t\t</uui-box>\r\n\t\t\t\t\t`\r\n\t\t\t\t: ''}\r\n\t\t\t${repeat(\r\n\t\t\t\tthis._groups,\r\n\t\t\t\t(group) => group.id,\r\n\t\t\t\t(group) =>\r\n\t\t\t\t\thtml`<uui-box .headline=${this.localize.string(group.name) ?? ''}>\r\n\t\t\t\t\t\t<umb-content-workspace-view-edit-properties\r\n\t\t\t\t\t\t\tdata-mark=\"property-group:${group.name}\"\r\n\t\t\t\t\t\t\t.containerId=${group.id}></umb-content-workspace-view-edit-properties>\r\n\t\t\t\t\t</uui-box>`,\r\n\t\t\t)}\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\tuui-box {\r\n\t\t\t\t--uui-box-default-padding: 0 var(--uui-size-space-5);\r\n\t\t\t}\r\n\t\t\tuui-box:not(:first-child) {\r\n\t\t\t\tmargin-top: var(--uui-size-layout-1);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbContentWorkspaceViewEditTabElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-content-workspace-view-edit-tab': UmbContentWorkspaceViewEditTabElement;\r\n\t}\r\n}\r\n","import type { UmbContentWorkspaceViewEditTabElement } from './content-editor-tab.element.js';\r\nimport { css, html, customElement, state, repeat } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport type {\r\n\tUmbContentTypeModel,\r\n\tUmbContentTypeStructureManager,\r\n\tUmbPropertyTypeContainerModel,\r\n} from '@umbraco-cms/backoffice/content-type';\r\nimport { UmbContentTypeContainerStructureHelper } from '@umbraco-cms/backoffice/content-type';\r\nimport type { UmbRoute, UmbRouterSlotChangeEvent, UmbRouterSlotInitEvent } from '@umbraco-cms/backoffice/router';\r\nimport { encodeFolderName } from '@umbraco-cms/backoffice/router';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport type { UmbWorkspaceViewElement } from '@umbraco-cms/backoffice/workspace';\r\nimport { UMB_PROPERTY_STRUCTURE_WORKSPACE_CONTEXT } from '@umbraco-cms/backoffice/workspace';\r\nimport './content-editor-tab.element.js';\r\n\r\n@customElement('umb-content-workspace-view-edit')\r\nexport class UmbContentWorkspaceViewEditElement extends UmbLitElement implements UmbWorkspaceViewElement {\r\n\t/*\r\n\t// root properties is a possible feature with Bellissima, but as it is new its not fully implemented yet [NL]\r\n\t@state()\r\n\tprivate _hasRootProperties = false;\r\n  */\r\n\r\n\t@state()\r\n\tprivate _hasRootGroups = false;\r\n\r\n\t@state()\r\n\tprivate _routes: UmbRoute[] = [];\r\n\r\n\t@state()\r\n\tprivate _tabs?: Array<UmbPropertyTypeContainerModel>;\r\n\r\n\t@state()\r\n\tprivate _routerPath?: string;\r\n\r\n\t@state()\r\n\tprivate _activePath = '';\r\n\r\n\t#structureManager?: UmbContentTypeStructureManager<UmbContentTypeModel>;\r\n\r\n\tprivate _tabsStructureHelper = new UmbContentTypeContainerStructureHelper<UmbContentTypeModel>(this);\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis._tabsStructureHelper.setIsRoot(true);\r\n\t\tthis._tabsStructureHelper.setContainerChildType('Tab');\r\n\t\tthis.observe(\r\n\t\t\tthis._tabsStructureHelper.mergedContainers,\r\n\t\t\t(tabs) => {\r\n\t\t\t\tthis._tabs = tabs;\r\n\t\t\t\tthis._createRoutes();\r\n\t\t\t},\r\n\t\t\tnull,\r\n\t\t);\r\n\r\n\t\t// _hasRootProperties can be gotten via _tabsStructureHelper.hasProperties. But we do not support root properties currently.\r\n\r\n\t\tthis.consumeContext(UMB_PROPERTY_STRUCTURE_WORKSPACE_CONTEXT, (workspaceContext) => {\r\n\t\t\tthis.#structureManager = workspaceContext.structure;\r\n\t\t\tthis._tabsStructureHelper.setStructureManager(workspaceContext.structure);\r\n\t\t\tthis.#observeRootGroups();\r\n\t\t});\r\n\t}\r\n\r\n\tasync #observeRootGroups() {\r\n\t\tif (!this.#structureManager) return;\r\n\r\n\t\tthis.observe(\r\n\t\t\tawait this.#structureManager.hasRootContainers('Group'),\r\n\t\t\t(hasRootGroups) => {\r\n\t\t\t\tthis._hasRootGroups = hasRootGroups;\r\n\t\t\t\tthis._createRoutes();\r\n\t\t\t},\r\n\t\t\t'_observeGroups',\r\n\t\t);\r\n\t}\r\n\r\n\tprivate _createRoutes() {\r\n\t\tif (!this._tabs || !this.#structureManager) return;\r\n\t\tconst routes: UmbRoute[] = [];\r\n\r\n\t\tif (this._hasRootGroups) {\r\n\t\t\troutes.push({\r\n\t\t\t\tpath: `root`,\r\n\t\t\t\tcomponent: () => import('./content-editor-tab.element.js'),\r\n\t\t\t\tsetup: (component) => {\r\n\t\t\t\t\t(component as UmbContentWorkspaceViewEditTabElement).containerId = null;\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (this._tabs.length > 0) {\r\n\t\t\tthis._tabs?.forEach((tab) => {\r\n\t\t\t\tconst tabName = tab.name ?? '';\r\n\t\t\t\troutes.push({\r\n\t\t\t\t\tpath: `tab/${encodeFolderName(tabName)}`,\r\n\t\t\t\t\tcomponent: () => import('./content-editor-tab.element.js'),\r\n\t\t\t\t\tsetup: (component) => {\r\n\t\t\t\t\t\t(component as UmbContentWorkspaceViewEditTabElement).containerId = tab.id;\r\n\t\t\t\t\t},\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (routes.length !== 0) {\r\n\t\t\troutes.push({\r\n\t\t\t\tpath: '',\r\n\t\t\t\tredirectTo: routes[0].path,\r\n\t\t\t});\r\n\r\n\t\t\troutes.push({\r\n\t\t\t\tpath: `**`,\r\n\t\t\t\tcomponent: async () => (await import('@umbraco-cms/backoffice/router')).UmbRouteNotFoundElement,\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis._routes = routes;\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tif (!this._routes || !this._tabs) return;\r\n\t\treturn html`\r\n\t\t\t<umb-body-layout header-fit-height>\r\n\t\t\t\t${this._routerPath && (this._tabs.length > 1 || (this._tabs.length === 1 && this._hasRootGroups))\r\n\t\t\t\t\t? html` <uui-tab-group slot=\"header\">\r\n\t\t\t\t\t\t\t${this._hasRootGroups && this._tabs.length > 0\r\n\t\t\t\t\t\t\t\t? html`\r\n\t\t\t\t\t\t\t\t\t\t<uui-tab\r\n\t\t\t\t\t\t\t\t\t\t\t.label=${this.localize.term('general_generic')}\r\n\t\t\t\t\t\t\t\t\t\t\t.active=${this._routerPath + '/root' === this._activePath}\r\n\t\t\t\t\t\t\t\t\t\t\t.href=${this._routerPath + '/root'}></uui-tab>\r\n\t\t\t\t\t\t\t\t\t`\r\n\t\t\t\t\t\t\t\t: ''}\r\n\t\t\t\t\t\t\t${repeat(\r\n\t\t\t\t\t\t\t\tthis._tabs,\r\n\t\t\t\t\t\t\t\t(tab) => tab.name,\r\n\t\t\t\t\t\t\t\t(tab) => {\r\n\t\t\t\t\t\t\t\t\tconst path = this._routerPath + '/tab/' + encodeFolderName(tab.name || '');\r\n\t\t\t\t\t\t\t\t\treturn html`<uui-tab\r\n\t\t\t\t\t\t\t\t\t\t.label=${this.localize.string(tab.name ?? '#general_unnamed')}\r\n\t\t\t\t\t\t\t\t\t\t.active=${path === this._activePath}\r\n\t\t\t\t\t\t\t\t\t\t.href=${path}></uui-tab>`;\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</uui-tab-group>`\r\n\t\t\t\t\t: ''}\r\n\r\n\t\t\t\t<umb-router-slot\r\n\t\t\t\t\tinherit-addendum\r\n\t\t\t\t\t.routes=${this._routes}\r\n\t\t\t\t\t@init=${(event: UmbRouterSlotInitEvent) => {\r\n\t\t\t\t\t\tthis._routerPath = event.target.absoluteRouterPath;\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t@change=${(event: UmbRouterSlotChangeEvent) => {\r\n\t\t\t\t\t\tthis._activePath = event.target.absoluteActiveViewPath || '';\r\n\t\t\t\t\t}}>\r\n\t\t\t\t</umb-router-slot>\r\n\t\t\t</umb-body-layout>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\theight: 100%;\r\n\t\t\t\t--uui-tab-background: var(--uui-color-surface);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbContentWorkspaceViewEditElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-content-workspace-view-edit': UmbContentWorkspaceViewEditElement;\r\n\t}\r\n}\r\n"],"names":["_propertyStructureHelper","_variantId","_UmbContentWorkspaceViewEditPropertiesElement_instances","generatePropertyDataPath_fn","UmbContentWorkspaceViewEditPropertiesElement","UmbLitElement","__privateAdd","UmbContentTypePropertyStructureHelper","UMB_PROPERTY_STRUCTURE_WORKSPACE_CONTEXT","workspaceContext","__privateGet","UMB_PROPERTY_DATASET_CONTEXT","datasetContext","__privateSet","__privateMethod","propertyStructure","value","repeat","property","index","html","UmbDataPathPropertyValueQuery","UmbTextStyles","css","__decorateClass","state","customElement","_groupStructureHelper","UmbContentWorkspaceViewEditTabElement","UmbContentTypeContainerStructureHelper","groups","hasProperties","group","UmbContentWorkspaceViewEditTabElement$1","_structureManager","_UmbContentWorkspaceViewEditElement_instances","observeRootGroups_fn","UmbContentWorkspaceViewEditElement","tabs","routes","contentEditorTab_element","component","tab","tabName","encodeFolderName","path","event","hasRootGroups","UmbContentWorkspaceViewEditElement$1"],"mappings":"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"}