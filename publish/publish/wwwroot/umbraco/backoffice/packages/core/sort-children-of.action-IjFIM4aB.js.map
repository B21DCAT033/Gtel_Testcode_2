{"version":3,"file":"sort-children-of.action-IjFIM4aB.js","sources":["../../../src/packages/core/tree/entity-actions/sort-children-of/sort-children-of.action.ts"],"sourcesContent":["import { UMB_SORT_CHILDREN_OF_MODAL } from './modal/index.js';\r\nimport type { MetaEntityActionSortChildrenOfKind } from './types.js';\r\nimport { UmbEntityActionBase, UmbRequestReloadChildrenOfEntityEvent } from '@umbraco-cms/backoffice/entity-action';\r\nimport { UMB_MODAL_MANAGER_CONTEXT } from '@umbraco-cms/backoffice/modal';\r\nimport { UMB_ACTION_EVENT_CONTEXT } from '@umbraco-cms/backoffice/action';\r\n\r\nexport class UmbSortChildrenOfEntityAction extends UmbEntityActionBase<MetaEntityActionSortChildrenOfKind> {\r\n\toverride async execute() {\r\n\t\tconst modalManager = await this.getContext(UMB_MODAL_MANAGER_CONTEXT);\r\n\t\tconst modal = modalManager.open(this._host, UMB_SORT_CHILDREN_OF_MODAL, {\r\n\t\t\tdata: {\r\n\t\t\t\tunique: this.args.unique,\r\n\t\t\t\tentityType: this.args.entityType,\r\n\t\t\t\tsortChildrenOfRepositoryAlias: this.args.meta.sortChildrenOfRepositoryAlias,\r\n\t\t\t\ttreeRepositoryAlias: this.args.meta.treeRepositoryAlias,\r\n\t\t\t},\r\n\t\t});\r\n\r\n\t\tawait modal.onSubmit().catch(() => undefined);\r\n\r\n\t\tconst eventContext = await this.getContext(UMB_ACTION_EVENT_CONTEXT);\r\n\r\n\t\teventContext.dispatchEvent(\r\n\t\t\tnew UmbRequestReloadChildrenOfEntityEvent({\r\n\t\t\t\tunique: this.args.unique,\r\n\t\t\t\tentityType: this.args.entityType,\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default UmbSortChildrenOfEntityAction;\r\n"],"names":["UmbSortChildrenOfEntityAction","UmbEntityActionBase","UMB_MODAL_MANAGER_CONTEXT","UMB_SORT_CHILDREN_OF_MODAL","UMB_ACTION_EVENT_CONTEXT","UmbRequestReloadChildrenOfEntityEvent"],"mappings":";;;;AAMO,MAAMA,UAAsCC,EAAwD;AAAA,EAC1G,MAAe,UAAU;AAWxB,WAVqB,MAAM,KAAK,WAAWC,CAAyB,GACzC,KAAK,KAAK,OAAOC,GAA4B;AAAA,MACvE,MAAM;AAAA,QACL,QAAQ,KAAK,KAAK;AAAA,QAClB,YAAY,KAAK,KAAK;AAAA,QACtB,+BAA+B,KAAK,KAAK,KAAK;AAAA,QAC9C,qBAAqB,KAAK,KAAK,KAAK;AAAA,MAAA;AAAA,IACrC,CACA,EAEW,SAAA,EAAW,MAAM,MAAM;AAAA,KAAS,IAEvB,MAAM,KAAK,WAAWC,CAAwB,GAEtD;AAAA,MACZ,IAAIC,EAAsC;AAAA,QACzC,QAAQ,KAAK,KAAK;AAAA,QAClB,YAAY,KAAK,KAAK;AAAA,MACtB,CAAA;AAAA,IACF;AAAA,EAAA;AAEF;"}