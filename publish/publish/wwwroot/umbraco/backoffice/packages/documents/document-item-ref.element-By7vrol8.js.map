{"version":3,"file":"document-item-ref.element-By7vrol8.js","sources":["../../../src/packages/documents/documents/item/document-item-ref.element.ts"],"sourcesContent":["import { UMB_DOCUMENT_ENTITY_TYPE } from '../entity.js';\r\nimport { UMB_EDIT_DOCUMENT_WORKSPACE_PATH_PATTERN } from '../paths.js';\r\nimport type { UmbDocumentItemModel } from './types.js';\r\nimport { UmbDocumentItemDataResolver } from './document-item-data-resolver.js';\r\nimport { customElement, html, ifDefined, nothing, property, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UmbModalRouteRegistrationController } from '@umbraco-cms/backoffice/router';\r\nimport { UMB_WORKSPACE_MODAL } from '@umbraco-cms/backoffice/workspace';\r\n\r\n@customElement('umb-document-item-ref')\r\nexport class UmbDocumentItemRefElement extends UmbLitElement {\r\n\t#item = new UmbDocumentItemDataResolver<UmbDocumentItemModel>(this);\r\n\r\n\t@property({ type: Object })\r\n\tpublic get item(): UmbDocumentItemModel | undefined {\r\n\t\treturn this.#item.getData();\r\n\t}\r\n\tpublic set item(value: UmbDocumentItemModel | undefined) {\r\n\t\tthis.#item.setData(value);\r\n\t}\r\n\r\n\t@property({ type: Boolean })\r\n\treadonly = false;\r\n\r\n\t@property({ type: Boolean })\r\n\tstandalone = false;\r\n\r\n\t@state()\r\n\t_unique = '';\r\n\r\n\t@state()\r\n\t_name = '';\r\n\r\n\t@state()\r\n\t_icon = '';\r\n\r\n\t@state()\r\n\t_isTrashed = false;\r\n\r\n\t@state()\r\n\t_isDraft = false;\r\n\r\n\t@state()\r\n\t_editPath = '';\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tnew UmbModalRouteRegistrationController(this, UMB_WORKSPACE_MODAL)\r\n\t\t\t.addUniquePaths(['unique'])\r\n\t\t\t.onSetup(() => {\r\n\t\t\t\treturn { data: { entityType: UMB_DOCUMENT_ENTITY_TYPE, preset: {} } };\r\n\t\t\t})\r\n\t\t\t.observeRouteBuilder((routeBuilder) => {\r\n\t\t\t\tthis._editPath = routeBuilder({});\r\n\t\t\t});\r\n\r\n\t\tthis.#item.observe(this.#item.unique, (unique) => (this._unique = unique ?? ''));\r\n\t\tthis.#item.observe(this.#item.name, (name) => (this._name = name ?? ''));\r\n\t\tthis.#item.observe(this.#item.icon, (icon) => (this._icon = icon ?? ''));\r\n\t\tthis.#item.observe(this.#item.isTrashed, (isTrashed) => (this._isTrashed = isTrashed ?? false));\r\n\t\tthis.#item.observe(this.#item.isDraft, (isDraft) => (this._isDraft = isDraft ?? false));\r\n\t}\r\n\r\n\t#getHref() {\r\n\t\tif (!this._unique) return;\r\n\t\tconst path = UMB_EDIT_DOCUMENT_WORKSPACE_PATH_PATTERN.generateLocal({ unique: this._unique });\r\n\t\treturn `${this._editPath}/${path}`;\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tif (!this.item) return nothing;\r\n\r\n\t\treturn html`\r\n\t\t\t<uui-ref-node\r\n\t\t\t\tname=${this._name}\r\n\t\t\t\thref=${ifDefined(this.#getHref())}\r\n\t\t\t\t?readonly=${this.readonly}\r\n\t\t\t\t?standalone=${this.standalone}>\r\n\t\t\t\t<slot name=\"actions\" slot=\"actions\"></slot>\r\n\t\t\t\t${this.#renderIcon()}${this.#renderIsDraft()} ${this.#renderIsTrashed()}\r\n\t\t\t</uui-ref-node>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderIcon() {\r\n\t\tif (!this._icon) return nothing;\r\n\t\treturn html`<umb-icon slot=\"icon\" name=${this._icon}></umb-icon>`;\r\n\t}\r\n\r\n\t#renderIsTrashed() {\r\n\t\tif (!this._isTrashed) return nothing;\r\n\t\treturn html`<uui-tag size=\"s\" slot=\"tag\" color=\"danger\">Trashed</uui-tag>`;\r\n\t}\r\n\r\n\t#renderIsDraft() {\r\n\t\tif (!this._isDraft) return nothing;\r\n\t\treturn html`<uui-tag size=\"s\" slot=\"tag\" look=\"secondary\" color=\"default\">Draft</uui-tag>`;\r\n\t}\r\n}\r\n\r\nexport { UmbDocumentItemRefElement as element };\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-document-item-ref': UmbDocumentItemRefElement;\r\n\t}\r\n}\r\n"],"names":["_item","_UmbDocumentItemRefElement_instances","getHref_fn","renderIcon_fn","renderIsTrashed_fn","renderIsDraft_fn","UmbDocumentItemRefElement","UmbLitElement","__privateAdd","UmbDocumentItemDataResolver","UmbModalRouteRegistrationController","UMB_WORKSPACE_MODAL","UMB_DOCUMENT_ENTITY_TYPE","routeBuilder","__privateGet","unique","name","icon","isTrashed","isDraft","value","html","ifDefined","__privateMethod","nothing","path","UMB_EDIT_DOCUMENT_WORKSPACE_PATH_PATTERN","__decorateClass","property","state","customElement"],"mappings":";;;;;;;;;;;;+TAAAA,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC;AAUa,IAAAC,IAAN,cAAwCC,EAAc;AAAA,EAmC5D,cAAc;AACP,UAAA,GApCDC,EAAA,MAAAP,CAAA,GACEO,EAAA,MAAAR,GAAA,IAAIS,EAAkD,IAAI,CAAA,GAWvD,KAAA,WAAA,IAGE,KAAA,aAAA,IAGH,KAAA,UAAA,IAGF,KAAA,QAAA,IAGA,KAAA,QAAA,IAGK,KAAA,aAAA,IAGF,KAAA,WAAA,IAGC,KAAA,YAAA,IAKP,IAAAC,EAAoC,MAAMC,CAAmB,EAC/D,eAAe,CAAC,QAAQ,CAAC,EACzB,QAAQ,OACD,EAAE,MAAM,EAAE,YAAYC,GAA0B,QAAQ,CAAA,IAAK,EACpE,EACA,oBAAoB,CAACC,MAAiB;AACjC,WAAA,YAAYA,EAAa,EAAE;AAAA,IAAA,CAChC,GAEGC,EAAA,MAAAd,CAAA,EAAM,QAAQc,EAAA,MAAKd,CAAM,EAAA,QAAQ,CAACe,MAAY,KAAK,UAAUA,KAAU,EAAG,GAC1ED,EAAA,MAAAd,CAAA,EAAM,QAAQc,EAAA,MAAKd,CAAM,EAAA,MAAM,CAACgB,MAAU,KAAK,QAAQA,KAAQ,EAAG,GAClEF,EAAA,MAAAd,CAAA,EAAM,QAAQc,EAAA,MAAKd,CAAM,EAAA,MAAM,CAACiB,MAAU,KAAK,QAAQA,KAAQ,EAAG,GAClEH,EAAA,MAAAd,CAAA,EAAM,QAAQc,EAAA,MAAKd,CAAM,EAAA,WAAW,CAACkB,MAAe,KAAK,aAAaA,KAAa,EAAM,GACzFJ,EAAA,MAAAd,CAAA,EAAM,QAAQc,EAAA,MAAKd,CAAM,EAAA,SAAS,CAACmB,MAAa,KAAK,WAAWA,KAAW,EAAM;AAAA,EAAA;AAAA,EA/CvF,IAAW,OAAyC;AAC5C,WAAAL,EAAA,MAAKd,GAAM,QAAQ;AAAA,EAAA;AAAA,EAE3B,IAAW,KAAKoB,GAAyC;AACnD,IAAAN,EAAA,MAAAd,CAAA,EAAM,QAAQoB,CAAK;AAAA,EAAA;AAAA,EAoDhB,SAAS;AACb,WAAC,KAAK,OAEHC;AAAA;AAAA,WAEE,KAAK,KAAK;AAAA,WACVC,EAAUC,EAAA,MAAKtB,GAALC,CAAA,EAAA,KAAA,IAAA,CAAe,CAAC;AAAA,gBACrB,KAAK,QAAQ;AAAA,kBACX,KAAK,UAAU;AAAA;AAAA,MAE3BqB,EAAA,MAAKtB,GAALE,CAAA,EAAA,KAAA,IAAA,CAAkB,GAAGoB,EAAA,MAAKtB,MAAL,KAAqB,IAAA,CAAA,IAAIsB,EAAK,MAAAtB,GAAAG,CAAA,EAAL,KAAuB,IAAA,CAAA;AAAA;AAAA,MATlDoB;AAAA,EASkD;AAmB3E;AAxFCxB,IAAA,oBAAA,QAAA;AADMC,IAAA,oBAAA,QAAA;AAsDNC,IAAQ,WAAG;AACN,MAAA,CAAC,KAAK,QAAS;AACnB,QAAMuB,IAAOC,EAAyC,cAAc,EAAE,QAAQ,KAAK,SAAS;AAC5F,SAAO,GAAG,KAAK,SAAS,IAAID,CAAI;AACjC;AAiBAtB,IAAW,WAAG;AACT,SAAC,KAAK,QACHkB,+BAAkC,KAAK,KAAK,iBAD3BG;AAEzB;AAEApB,IAAgB,WAAG;AACd,SAAC,KAAK,aACHiB,mEADsBG;AAE9B;AAEAnB,IAAc,WAAG;AACZ,SAAC,KAAK,WACHgB,mFADoBG;AAE5B;AApFWG,EAAA;AAAA,EADVC,EAAS,EAAE,MAAM,OAAQ,CAAA;AAAA,GAHdtB,EAID,WAAA,QAAA,CAAA;AAQXqB,EAAA;AAAA,EADCC,EAAS,EAAE,MAAM,QAAS,CAAA;AAAA,GAXftB,EAYZ,WAAA,YAAA,CAAA;AAGAqB,EAAA;AAAA,EADCC,EAAS,EAAE,MAAM,QAAS,CAAA;AAAA,GAdftB,EAeZ,WAAA,cAAA,CAAA;AAGAqB,EAAA;AAAA,EADCE,EAAM;AAAA,GAjBKvB,EAkBZ,WAAA,WAAA,CAAA;AAGAqB,EAAA;AAAA,EADCE,EAAM;AAAA,GApBKvB,EAqBZ,WAAA,SAAA,CAAA;AAGAqB,EAAA;AAAA,EADCE,EAAM;AAAA,GAvBKvB,EAwBZ,WAAA,SAAA,CAAA;AAGAqB,EAAA;AAAA,EADCE,EAAM;AAAA,GA1BKvB,EA2BZ,WAAA,cAAA,CAAA;AAGAqB,EAAA;AAAA,EADCE,EAAM;AAAA,GA7BKvB,EA8BZ,WAAA,YAAA,CAAA;AAGAqB,EAAA;AAAA,EADCE,EAAM;AAAA,GAhCKvB,EAiCZ,WAAA,aAAA,CAAA;AAjCYA,IAANqB,EAAA;AAAA,EADNG,EAAc,uBAAuB;AAAA,GACzBxB,CAAA;"}