{"version":3,"file":"document-search-result-item.element-BYVoVkWK.js","sources":["../../../src/packages/documents/documents/search/document-search-result-item.element.ts"],"sourcesContent":["import type { UmbDocumentItemModel, UmbDocumentItemVariantModel } from '../item/repository/types.js';\r\nimport type { UmbSearchResultItemModel } from '@umbraco-cms/backoffice/search';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { css, customElement, html, nothing, property, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport type { UmbAppLanguageContext } from '@umbraco-cms/backoffice/language';\r\nimport { UMB_APP_LANGUAGE_CONTEXT } from '@umbraco-cms/backoffice/language';\r\n\r\nconst elementName = 'umb-document-search-result-item';\r\n@customElement(elementName)\r\nexport class UmbSearchResultItemElement extends UmbLitElement {\r\n\t@property({ type: Object })\r\n\titem?: UmbSearchResultItemModel & UmbDocumentItemModel;\r\n\r\n\t@state()\r\n\t_currentCulture?: string;\r\n\r\n\t@state()\r\n\t_defaultCulture?: string;\r\n\r\n\t@state()\r\n\t_variant?: UmbDocumentItemVariantModel;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_APP_LANGUAGE_CONTEXT, (instance) => {\r\n\t\t\tthis.#observeAppCulture(instance);\r\n\t\t\tthis.#observeDefaultCulture(instance);\r\n\t\t});\r\n\t}\r\n\r\n\t#observeAppCulture(context: UmbAppLanguageContext) {\r\n\t\tthis.observe(context.appLanguageCulture, (value) => {\r\n\t\t\tthis._currentCulture = value;\r\n\t\t\tthis._variant = this.#getVariant(value);\r\n\t\t});\r\n\t}\r\n\r\n\t#observeDefaultCulture(context: UmbAppLanguageContext) {\r\n\t\tthis.observe(context.appDefaultLanguage, (value) => {\r\n\t\t\tthis._defaultCulture = value?.unique;\r\n\t\t});\r\n\t}\r\n\r\n\t#getVariant(culture: string | undefined) {\r\n\t\treturn this.item?.variants.find((x) => x.culture === culture);\r\n\t}\r\n\r\n\t#isInvariant() {\r\n\t\tconst firstVariant = this.item?.variants[0];\r\n\t\treturn firstVariant?.culture === null;\r\n\t}\r\n\r\n\t#getLabel() {\r\n\t\tif (this.#isInvariant()) {\r\n\t\t\treturn this.item?.name ?? 'Unknown';\r\n\t\t}\r\n\r\n\t\tconst fallbackName = this.#getVariant(this._defaultCulture)?.name ?? this.item?.name ?? 'Unknown';\r\n\t\treturn this._variant?.name ?? `(${fallbackName})`;\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tif (!this.item) return nothing;\r\n\r\n\t\treturn html`\r\n\t\t\t<span class=\"item-icon\">\r\n\t\t\t\t${this.item.icon ? html`<umb-icon name=\"${this.item.icon}\"></umb-icon>` : this.#renderHashTag()}\r\n\t\t\t</span>\r\n\t\t\t<span class=\"item-name\"> ${this.#getLabel()} </span>\r\n\t\t`;\r\n\t}\r\n\r\n\t#renderHashTag() {\r\n\t\treturn html`\r\n\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width=\"24\" height=\"24\">\r\n\t\t\t\t<path fill=\"none\" d=\"M0 0h24v24H0z\" />\r\n\t\t\t\t<path\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t\td=\"M7.784 14l.42-4H4V8h4.415l.525-5h2.011l-.525 5h3.989l.525-5h2.011l-.525 5H20v2h-3.784l-.42 4H20v2h-4.415l-.525 5h-2.011l.525-5H9.585l-.525 5H7.049l.525-5H4v-2h3.784zm2.011 0h3.99l.42-4h-3.99l-.42 4z\" />\r\n\t\t\t</svg>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tpadding: var(--uui-size-space-3) var(--uui-size-space-5);\r\n\t\t\t\tborder-radius: var(--uui-border-radius);\r\n\t\t\t\tdisplay: grid;\r\n\t\t\t\tgrid-template-columns: var(--uui-size-space-6) 1fr var(--uui-size-space-5);\r\n\t\t\t\talign-items: center;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\toutline-offset: -3px;\r\n\t\t\t}\r\n\t\t\t.item-icon {\r\n\t\t\t\tmargin-bottom: auto;\r\n\t\t\t\tmargin-top: 5px;\r\n\t\t\t}\r\n\t\t\t.item-icon {\r\n\t\t\t\topacity: 0.4;\r\n\t\t\t}\r\n\t\t\t.item-name {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t}\r\n\t\t\t.item-icon > * {\r\n\t\t\t\theight: 1rem;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\twidth: min-content;\r\n\t\t\t}\r\n\t\t\ta {\r\n\t\t\t\ttext-decoration: none;\r\n\t\t\t\tcolor: inherit;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport { UmbSearchResultItemElement as element };\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t[elementName]: UmbSearchResultItemElement;\r\n\t}\r\n}\r\n"],"names":["_UmbSearchResultItemElement_instances","observeAppCulture_fn","observeDefaultCulture_fn","getVariant_fn","isInvariant_fn","getLabel_fn","renderHashTag_fn","elementName","UmbSearchResultItemElement","UmbLitElement","__privateAdd","UMB_APP_LANGUAGE_CONTEXT","instance","__privateMethod","html","nothing","context","value","culture","x","fallbackName","UmbTextStyles","css","__decorateClass","property","state","customElement"],"mappings":";;;;;;;;;;8OAAAA,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC;AAQA,MAAMC,IAAc;AAEP,IAAAC,IAAN,cAAyCC,EAAc;AAAA,EAa7D,cAAc;AACP,UAAA,GAdDC,EAAA,MAAAV,CAAA,GAgBA,KAAA,eAAeW,GAA0B,CAACC,MAAa;AAC3D,MAAAC,EAAA,MAAKb,MAAL,KAAwB,MAAAY,CAAA,GACxBC,EAAA,MAAKb,MAAL,KAA4B,MAAAY,CAAA;AAAA,IAAA,CAC5B;AAAA,EAAA;AAAA,EAkCO,SAAS;AACb,WAAC,KAAK,OAEHE;AAAA;AAAA,MAEH,KAAK,KAAK,OAAOA,oBAAuB,KAAK,KAAK,IAAI,kBAAkBD,EAAK,MAAAb,GAAAM,CAAA,EAAL,KAAqB,IAAA,CAAA;AAAA;AAAA,8BAErEO,EAAA,MAAKb,MAAL,KAAgB,IAAA,CAAA;AAAA,MANrBe;AAAA,EAMqB;AAiD9C;AA7GOf,IAAA,oBAAA,QAAA;AAsBNC,IAAkB,SAACe,GAAgC;AAClD,OAAK,QAAQA,EAAQ,oBAAoB,CAACC,MAAU;AACnD,SAAK,kBAAkBA,GAClB,KAAA,WAAWJ,EAAK,MAAAb,GAAAG,CAAA,EAAL,KAAiB,MAAAc,CAAA;AAAA,EAAA,CACjC;AACF;AAEAf,IAAsB,SAACc,GAAgC;AACtD,OAAK,QAAQA,EAAQ,oBAAoB,CAACC,MAAU;AACnD,SAAK,kBAAkBA,GAAO;AAAA,EAAA,CAC9B;AACF;AAEAd,IAAW,SAACe,GAA6B;AACjC,SAAA,KAAK,MAAM,SAAS,KAAK,CAACC,MAAMA,EAAE,YAAYD,CAAO;AAC7D;AAEAd,IAAY,WAAG;AAEd,SADqB,KAAK,MAAM,SAAS,CAAC,GACrB,YAAY;AAClC;AAEAC,IAAS,WAAG;AACP,MAAAQ,EAAA,MAAKb,MAAL,KAAqB,IAAA;AACjB,WAAA,KAAK,MAAM,QAAQ;AAGrB,QAAAoB,IAAeP,QAAKb,GAALG,CAAA,EAAA,KAAA,MAAiB,KAAK,eAAkB,GAAA,QAAQ,KAAK,MAAM,QAAQ;AACxF,SAAO,KAAK,UAAU,QAAQ,IAAIiB,CAAY;AAC/C;AAaAd,IAAc,WAAG;AACT,SAAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQR;AAzEYN,EA2EI,SAAS;AAAA,EACxBa;AAAA,EACAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA+BD;AA1GAC,EAAA;AAAA,EADCC,EAAS,EAAE,MAAM,OAAQ,CAAA;AAAA,GADdhB,EAEZ,WAAA,QAAA,CAAA;AAGAe,EAAA;AAAA,EADCE,EAAM;AAAA,GAJKjB,EAKZ,WAAA,mBAAA,CAAA;AAGAe,EAAA;AAAA,EADCE,EAAM;AAAA,GAPKjB,EAQZ,WAAA,mBAAA,CAAA;AAGAe,EAAA;AAAA,EADCE,EAAM;AAAA,GAVKjB,EAWZ,WAAA,YAAA,CAAA;AAXYA,IAANe,EAAA;AAAA,EADNG,EAAcnB,CAAW;AAAA,GACbC,CAAA;"}