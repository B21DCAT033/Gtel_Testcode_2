{"version":3,"file":"document-table-collection-view.element-C_nOC9CI.js","sources":["../../../src/packages/documents/documents/collection/views/table/column-layouts/document-table-column-name.element.ts","../../../src/packages/documents/documents/collection/views/table/column-layouts/document-table-column-state.element.ts","../../../src/packages/documents/documents/collection/views/table/document-table-collection-view.element.ts"],"sourcesContent":["import type { UmbEditableDocumentCollectionItemModel } from '../../../types.js';\r\nimport { UmbDocumentItemDataResolver } from '../../../../item/index.js';\r\nimport { css, customElement, html, nothing, property, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport type { UmbTableColumn, UmbTableColumnLayoutElement, UmbTableItem } from '@umbraco-cms/backoffice/components';\r\n\r\n@customElement('umb-document-table-column-name')\r\nexport class UmbDocumentTableColumnNameElement extends UmbLitElement implements UmbTableColumnLayoutElement {\r\n\tcolumn!: UmbTableColumn;\r\n\titem!: UmbTableItem;\r\n\r\n\t#value!: UmbEditableDocumentCollectionItemModel;\r\n\t@property({ attribute: false })\r\n\tpublic get value(): UmbEditableDocumentCollectionItemModel {\r\n\t\treturn this.#value;\r\n\t}\r\n\tpublic set value(value: UmbEditableDocumentCollectionItemModel) {\r\n\t\tthis.#value = value;\r\n\r\n\t\tif (value.item) {\r\n\t\t\tthis.#item.setData(value.item);\r\n\t\t}\r\n\t}\r\n\r\n\t@state()\r\n\t_name = '';\r\n\r\n\t#item = new UmbDocumentItemDataResolver(this);\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.#item.observe(this.#item.name, (name) => (this._name = name || ''));\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tif (!this.value) return nothing;\r\n\t\treturn html` <uui-button compact href=${this.value.editPath} label=${this._name}></uui-button> `;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\tuui-button {\r\n\t\t\t\ttext-align: left;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbDocumentTableColumnNameElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-document-table-column-name': UmbDocumentTableColumnNameElement;\r\n\t}\r\n}\r\n","import type { UmbEditableDocumentCollectionItemModel } from '../../../types.js';\r\nimport { UmbDocumentItemDataResolver } from '../../../../item/index.js';\r\nimport { customElement, html, property, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { fromCamelCase } from '@umbraco-cms/backoffice/utils';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport type { UmbTableColumn, UmbTableColumnLayoutElement, UmbTableItem } from '@umbraco-cms/backoffice/components';\r\n\r\n@customElement('umb-document-table-column-state')\r\nexport class UmbDocumentTableColumnStateElement extends UmbLitElement implements UmbTableColumnLayoutElement {\r\n\tcolumn!: UmbTableColumn;\r\n\titem!: UmbTableItem;\r\n\r\n\t#value!: UmbEditableDocumentCollectionItemModel;\r\n\t@property({ attribute: false })\r\n\tpublic get value(): UmbEditableDocumentCollectionItemModel {\r\n\t\treturn this.#value;\r\n\t}\r\n\tpublic set value(value: UmbEditableDocumentCollectionItemModel) {\r\n\t\tthis.#value = value;\r\n\r\n\t\tif (value.item) {\r\n\t\t\tthis.#item.setData(value.item);\r\n\t\t}\r\n\t}\r\n\r\n\t@state()\r\n\t_state = '';\r\n\r\n\t#item = new UmbDocumentItemDataResolver(this);\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.#item.observe(this.#item.state, (state) => (this._state = state || ''));\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tswitch (this._state) {\r\n\t\t\tcase 'Published':\r\n\t\t\t\treturn html`<uui-tag color=\"positive\" look=\"secondary\">${this.localize.term('content_published')}</uui-tag>`;\r\n\t\t\tcase 'PublishedPendingChanges':\r\n\t\t\t\treturn html`<uui-tag color=\"warning\" look=\"secondary\"\r\n\t\t\t\t\t>${this.localize.term('content_publishedPendingChanges')}</uui-tag\r\n\t\t\t\t>`;\r\n\t\t\tcase 'Draft':\r\n\t\t\t\treturn html`<uui-tag color=\"default\" look=\"secondary\">${this.localize.term('content_unpublished')}</uui-tag>`;\r\n\t\t\tcase 'NotCreated':\r\n\t\t\t\treturn html`<uui-tag color=\"danger\" look=\"secondary\">${this.localize.term('content_notCreated')}</uui-tag>`;\r\n\t\t\tdefault:\r\n\t\t\t\treturn html`<uui-tag color=\"danger\" look=\"secondary\">${fromCamelCase(this.value.item.state)}</uui-tag>`;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default UmbDocumentTableColumnStateElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-document-table-column-state': UmbDocumentTableColumnStateElement;\r\n\t}\r\n}\r\n","import { getPropertyValueByAlias } from '../index.js';\r\nimport { UMB_EDIT_DOCUMENT_WORKSPACE_PATH_PATTERN } from '../../../paths.js';\r\nimport type { UmbDocumentCollectionItemModel } from '../../types.js';\r\nimport type { UmbDocumentCollectionContext } from '../../document-collection.context.js';\r\nimport { UMB_DOCUMENT_COLLECTION_CONTEXT } from '../../document-collection.context-token.js';\r\nimport { UMB_DOCUMENT_ENTITY_TYPE } from '../../../entity.js';\r\nimport type { UmbCollectionColumnConfiguration } from '@umbraco-cms/backoffice/collection';\r\nimport { css, customElement, html, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UmbTextStyles } from '@umbraco-cms/backoffice/style';\r\nimport type { UmbModalRouteBuilder } from '@umbraco-cms/backoffice/router';\r\nimport type {\r\n\tUmbTableColumn,\r\n\tUmbTableConfig,\r\n\tUmbTableDeselectedEvent,\r\n\tUmbTableElement,\r\n\tUmbTableItem,\r\n\tUmbTableOrderedEvent,\r\n\tUmbTableSelectedEvent,\r\n} from '@umbraco-cms/backoffice/components';\r\n\r\nimport './column-layouts/document-table-column-name.element.js';\r\nimport './column-layouts/document-table-column-state.element.js';\r\n\r\n@customElement('umb-document-table-collection-view')\r\nexport class UmbDocumentTableCollectionViewElement extends UmbLitElement {\r\n\t@state()\r\n\tprivate _workspacePathBuilder?: UmbModalRouteBuilder;\r\n\r\n\t@state()\r\n\tprivate _userDefinedProperties?: Array<UmbCollectionColumnConfiguration>;\r\n\r\n\t@state()\r\n\tprivate _items?: Array<UmbDocumentCollectionItemModel>;\r\n\r\n\t@state()\r\n\tprivate _tableConfig: UmbTableConfig = {\r\n\t\tallowSelection: true,\r\n\t};\r\n\r\n\t@state()\r\n\tprivate _tableColumns: Array<UmbTableColumn> = [];\r\n\r\n\t#systemColumns: Array<UmbTableColumn> = [\r\n\t\t{\r\n\t\t\tname: this.localize.term('general_name'),\r\n\t\t\talias: 'name',\r\n\t\t\telementName: 'umb-document-table-column-name',\r\n\t\t\tallowSorting: true,\r\n\t\t},\r\n\t\t{\r\n\t\t\tname: this.localize.term('content_publishStatus'),\r\n\t\t\talias: 'state',\r\n\t\t\telementName: 'umb-document-table-column-state',\r\n\t\t\tallowSorting: false,\r\n\t\t},\r\n\t];\r\n\r\n\t@state()\r\n\tprivate _tableItems: Array<UmbTableItem> = [];\r\n\r\n\t@state()\r\n\tprivate _selection: Array<string> = [];\r\n\r\n\t#collectionContext?: UmbDocumentCollectionContext;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_DOCUMENT_COLLECTION_CONTEXT, (collectionContext) => {\r\n\t\t\tthis.#collectionContext = collectionContext;\r\n\t\t\tcollectionContext.setupView(this);\r\n\t\t\tthis.observe(\r\n\t\t\t\tcollectionContext.workspacePathBuilder,\r\n\t\t\t\t(builder) => {\r\n\t\t\t\t\tthis._workspacePathBuilder = builder;\r\n\t\t\t\t\tif (this.#collectionContext) {\r\n\t\t\t\t\t\tthis.#createTableItems(this.#collectionContext.getItems());\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t'observePath',\r\n\t\t\t);\r\n\t\t\tthis.#observeCollectionContext();\r\n\t\t});\r\n\t}\r\n\r\n\t#observeCollectionContext() {\r\n\t\tif (!this.#collectionContext) return;\r\n\r\n\t\tthis.observe(\r\n\t\t\tthis.#collectionContext.userDefinedProperties,\r\n\t\t\t(userDefinedProperties) => {\r\n\t\t\t\tthis._userDefinedProperties = userDefinedProperties;\r\n\t\t\t\tthis.#createTableHeadings();\r\n\t\t\t},\r\n\t\t\t'_observeUserDefinedProperties',\r\n\t\t);\r\n\r\n\t\tthis.observe(\r\n\t\t\tthis.#collectionContext.items,\r\n\t\t\t(items) => {\r\n\t\t\t\tthis._items = items;\r\n\t\t\t\tthis.#createTableItems(this._items);\r\n\t\t\t},\r\n\t\t\t'_observeItems',\r\n\t\t);\r\n\r\n\t\tthis.observe(\r\n\t\t\tthis.#collectionContext.selection.selection,\r\n\t\t\t(selection) => {\r\n\t\t\t\tthis._selection = selection as string[];\r\n\t\t\t},\r\n\t\t\t'_observeSelection',\r\n\t\t);\r\n\t}\r\n\r\n\t#createTableHeadings() {\r\n\t\tif (this._userDefinedProperties && this._userDefinedProperties.length > 0) {\r\n\t\t\tconst userColumns: Array<UmbTableColumn> = this._userDefinedProperties.map((item) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tname: this.localize.string(item.header),\r\n\t\t\t\t\talias: item.alias,\r\n\t\t\t\t\telementName: item.elementName,\r\n\t\t\t\t\tlabelTemplate: item.nameTemplate,\r\n\t\t\t\t\tallowSorting: true,\r\n\t\t\t\t};\r\n\t\t\t});\r\n\r\n\t\t\tthis._tableColumns = [\r\n\t\t\t\t...this.#systemColumns,\r\n\t\t\t\t...userColumns,\r\n\t\t\t\t{ name: '', alias: 'entityActions', align: 'right' },\r\n\t\t\t];\r\n\t\t}\r\n\t}\r\n\r\n\t#createTableItems(items: Array<UmbDocumentCollectionItemModel>) {\r\n\t\tthis._tableItems = items.map((item) => {\r\n\t\t\tif (!item.unique) throw new Error('Item id is missing.');\r\n\r\n\t\t\tconst data =\r\n\t\t\t\tthis._tableColumns?.map((column) => {\r\n\t\t\t\t\tif (column.alias === 'entityActions') {\r\n\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\tcolumnAlias: 'entityActions',\r\n\t\t\t\t\t\t\tvalue: html`<umb-entity-actions-table-column-view\r\n\t\t\t\t\t\t\t\t.value=${{\r\n\t\t\t\t\t\t\t\t\tentityType: item.entityType,\r\n\t\t\t\t\t\t\t\t\tunique: item.unique,\r\n\t\t\t\t\t\t\t\t}}></umb-entity-actions-table-column-view>`,\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst editPath =\r\n\t\t\t\t\t\titem.unique && this._workspacePathBuilder\r\n\t\t\t\t\t\t\t? this._workspacePathBuilder({ entityType: item.entityType }) +\r\n\t\t\t\t\t\t\t\tUMB_EDIT_DOCUMENT_WORKSPACE_PATH_PATTERN.generateLocal({\r\n\t\t\t\t\t\t\t\t\tunique: item.unique,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t: '';\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tcolumnAlias: column.alias,\r\n\t\t\t\t\t\tvalue: column.elementName ? { item, editPath } : getPropertyValueByAlias(item, column.alias),\r\n\t\t\t\t\t};\r\n\t\t\t\t}) ?? [];\r\n\r\n\t\t\treturn {\r\n\t\t\t\tid: item.unique,\r\n\t\t\t\ticon: item.documentType.icon,\r\n\t\t\t\tentityType: UMB_DOCUMENT_ENTITY_TYPE,\r\n\t\t\t\tdata: data,\r\n\t\t\t};\r\n\t\t});\r\n\t}\r\n\r\n\t#handleSelect(event: UmbTableSelectedEvent) {\r\n\t\tevent.stopPropagation();\r\n\t\tconst table = event.target as UmbTableElement;\r\n\t\tconst selection = table.selection;\r\n\t\tthis.#collectionContext?.selection.setSelection(selection);\r\n\t}\r\n\r\n\t#handleDeselect(event: UmbTableDeselectedEvent) {\r\n\t\tevent.stopPropagation();\r\n\t\tconst table = event.target as UmbTableElement;\r\n\t\tconst selection = table.selection;\r\n\t\tthis.#collectionContext?.selection.setSelection(selection);\r\n\t}\r\n\r\n\t#handleOrdering(event: UmbTableOrderedEvent) {\r\n\t\tconst table = event.target as UmbTableElement;\r\n\t\tconst orderingColumn = table.orderingColumn;\r\n\t\tconst orderingDesc = table.orderingDesc;\r\n\t\tthis.#collectionContext?.setFilter({\r\n\t\t\torderBy: orderingColumn,\r\n\t\t\torderDirection: orderingDesc ? 'desc' : 'asc',\r\n\t\t});\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<umb-table\r\n\t\t\t\t.config=${this._tableConfig}\r\n\t\t\t\t.columns=${this._tableColumns}\r\n\t\t\t\t.items=${this._tableItems}\r\n\t\t\t\t.selection=${this._selection}\r\n\t\t\t\t@selected=${this.#handleSelect}\r\n\t\t\t\t@deselected=${this.#handleDeselect}\r\n\t\t\t\t@ordered=${this.#handleOrdering}></umb-table>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tUmbTextStyles,\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\theight: auto;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tpadding: var(--uui-size-space-3) 0;\r\n\t\t\t}\r\n\r\n\t\t\t.container {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\talign-items: center;\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbDocumentTableCollectionViewElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-document-table-collection-view': UmbDocumentTableCollectionViewElement;\r\n\t}\r\n}\r\n"],"names":["_value","_item","UmbDocumentTableColumnNameElement","UmbLitElement","__privateAdd","UmbDocumentItemDataResolver","__privateGet","name","value","__privateSet","html","nothing","css","__decorateClass","property","state","customElement","UmbDocumentTableColumnStateElement","fromCamelCase","_systemColumns","_collectionContext","_UmbDocumentTableCollectionViewElement_instances","observeCollectionContext_fn","createTableHeadings_fn","createTableItems_fn","handleSelect_fn","handleDeselect_fn","handleOrdering_fn","UmbDocumentTableCollectionViewElement","UMB_DOCUMENT_COLLECTION_CONTEXT","collectionContext","builder","__privateMethod","userDefinedProperties","items","selection","userColumns","item","data","column","editPath","UMB_EDIT_DOCUMENT_WORKSPACE_PATH_PATTERN","getPropertyValueByAlias","UMB_DOCUMENT_ENTITY_TYPE","event","table","orderingColumn","orderingDesc","UmbTextStyles","UmbDocumentTableCollectionViewElement$1"],"mappings":"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"}