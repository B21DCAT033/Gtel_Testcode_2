{"version":3,"file":"document-tree-item.context-BuNm_VUk.js","sources":["../../../src/packages/documents/documents/tree/tree-item/document-tree-item.context.ts"],"sourcesContent":["import type { UmbDocumentTreeItemModel, UmbDocumentTreeRootModel } from '../types.js';\r\nimport { UmbDocumentItemDataResolver } from '../../item/index.js';\r\nimport { UmbDefaultTreeItemContext } from '@umbraco-cms/backoffice/tree';\r\nimport type { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\nimport { UmbIsTrashedEntityContext } from '@umbraco-cms/backoffice/recycle-bin';\r\n\r\nexport class UmbDocumentTreeItemContext extends UmbDefaultTreeItemContext<\r\n\tUmbDocumentTreeItemModel,\r\n\tUmbDocumentTreeRootModel\r\n> {\r\n\t// TODO: Provide this together with the EntityContext, ideally this takes part via a extension-type [NL]\r\n\t#isTrashedContext = new UmbIsTrashedEntityContext(this);\r\n\t#item = new UmbDocumentItemDataResolver(this);\r\n\r\n\treadonly name = this.#item.name;\r\n\treadonly icon = this.#item.icon;\r\n\treadonly isDraft = this.#item.isDraft;\r\n\r\n\treadonly isTrashed = this._treeItem.asObservablePart((item) => item?.isTrashed ?? false);\r\n\r\n\tconstructor(host: UmbControllerHost) {\r\n\t\tsuper(host);\r\n\r\n\t\tthis.observe(this.isTrashed, (isTrashed) => {\r\n\t\t\tthis.#isTrashedContext.setIsTrashed(isTrashed);\r\n\t\t});\r\n\t}\r\n\r\n\tpublic override setTreeItem(treeItem: UmbDocumentTreeItemModel | undefined) {\r\n\t\tsuper.setTreeItem(treeItem);\r\n\t\tthis.#item.setData(treeItem);\r\n\t}\r\n}\r\n\r\nexport { UmbDocumentTreeItemContext as api };\r\n"],"names":["UmbDocumentTreeItemContext","UmbDefaultTreeItemContext","host","#isTrashedContext","UmbIsTrashedEntityContext","#item","UmbDocumentItemDataResolver","item","isTrashed","treeItem"],"mappings":";;;;;;AAMO,MAAMA,UAAmCC,EAG9C;AAAA,EAWD,YAAYC,GAAyB;AACpC,UAAMA,CAAI,GAVS,KAAAC,KAAA,IAAIC,EAA0B,IAAI,GAC9C,KAAAC,KAAA,IAAIC,EAA4B,IAAI,GAEnC,KAAA,OAAO,KAAKD,GAAM,MAClB,KAAA,OAAO,KAAKA,GAAM,MAClB,KAAA,UAAU,KAAKA,GAAM,SAErB,KAAA,YAAY,KAAK,UAAU,iBAAiB,CAACE,MAASA,GAAM,aAAa,EAAK,GAKtF,KAAK,QAAQ,KAAK,WAAW,CAACC,MAAc;AACtC,WAAAL,GAAkB,aAAaK,CAAS;AAAA,IAAA,CAC7C;AAAA,EAAA;AAAA,EAdFL;AAAA,EACAE;AAAA,EAgBgB,YAAYI,GAAgD;AAC3E,UAAM,YAAYA,CAAQ,GACrB,KAAAJ,GAAM,QAAQI,CAAQ;AAAA,EAAA;AAE7B;"}