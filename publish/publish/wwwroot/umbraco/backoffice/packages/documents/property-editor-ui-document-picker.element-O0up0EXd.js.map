{"version":3,"file":"property-editor-ui-document-picker.element-O0up0EXd.js","sources":["../../../src/packages/documents/documents/property-editors/document-picker/property-editor-ui-document-picker.element.ts"],"sourcesContent":["import type { UmbInputDocumentElement } from '../../components/input-document/input-document.element.js';\r\nimport { UMB_DOCUMENT_ENTITY_TYPE } from '../../entity.js';\r\nimport { html, customElement, property, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UmbPropertyValueChangeEvent } from '@umbraco-cms/backoffice/property-editor';\r\nimport type { UmbNumberRangeValueType } from '@umbraco-cms/backoffice/models';\r\nimport type {\r\n\tUmbPropertyEditorConfigCollection,\r\n\tUmbPropertyEditorUiElement,\r\n} from '@umbraco-cms/backoffice/property-editor';\r\nimport type { UmbTreeStartNode } from '@umbraco-cms/backoffice/tree';\r\n\r\n@customElement('umb-property-editor-ui-document-picker')\r\nexport class UmbPropertyEditorUIDocumentPickerElement extends UmbLitElement implements UmbPropertyEditorUiElement {\r\n\t@property()\r\n\tpublic value?: string;\r\n\r\n\tpublic set config(config: UmbPropertyEditorConfigCollection | undefined) {\r\n\t\tif (!config) return;\r\n\r\n\t\tconst minMax = config.getValueByAlias<UmbNumberRangeValueType>('validationLimit');\r\n\t\tif (minMax) {\r\n\t\t\tthis._min = minMax.min && minMax.min > 0 ? minMax.min : 0;\r\n\t\t\tthis._max = minMax.max && minMax.max > 0 ? minMax.max : 1;\r\n\t\t}\r\n\r\n\t\tthis._startNodeId = config.getValueByAlias('startNodeId');\r\n\t\tthis._showOpenButton = config.getValueByAlias('showOpenButton') ?? false;\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the input to readonly mode, meaning value cannot be changed but still able to read and select its content.\r\n\t * @type {boolean}\r\n\t * @attr\r\n\t * @default false\r\n\t */\r\n\t@property({ type: Boolean, reflect: true })\r\n\treadonly = false;\r\n\r\n\t@state()\r\n\tprivate _min = 0;\r\n\r\n\t// NOTE: The legacy \"Content Picker\" property-editor only supported 1 item,\r\n\t// so that's why it's being enforced here. We'll evolve this in a future version. [LK]\r\n\t@state()\r\n\tprivate _max = 1;\r\n\r\n\t@state()\r\n\tprivate _startNodeId?: string;\r\n\r\n\t@state()\r\n\tprivate _showOpenButton?: boolean;\r\n\r\n\t#onChange(event: CustomEvent & { target: UmbInputDocumentElement }) {\r\n\t\tthis.value = event.target.value;\r\n\t\tthis.dispatchEvent(new UmbPropertyValueChangeEvent());\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tconst startNode: UmbTreeStartNode | undefined = this._startNodeId\r\n\t\t\t? { unique: this._startNodeId, entityType: UMB_DOCUMENT_ENTITY_TYPE }\r\n\t\t\t: undefined;\r\n\r\n\t\treturn html`\r\n\t\t\t<umb-input-document\r\n\t\t\t\t.min=${this._min}\r\n\t\t\t\t.max=${this._max}\r\n\t\t\t\t.startNode=${startNode}\r\n\t\t\t\t.value=${this.value}\r\n\t\t\t\t?showOpenButton=${this._showOpenButton}\r\n\t\t\t\t@change=${this.#onChange}\r\n\t\t\t\t?readonly=${this.readonly}>\r\n\t\t\t</umb-input-document>\r\n\t\t`;\r\n\t}\r\n}\r\n\r\nexport default UmbPropertyEditorUIDocumentPickerElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-property-editor-ui-document-picker': UmbPropertyEditorUIDocumentPickerElement;\r\n\t}\r\n}\r\n"],"names":["_UmbPropertyEditorUIDocumentPickerElement_instances","onChange_fn","UmbPropertyEditorUIDocumentPickerElement","UmbLitElement","__privateAdd","config","minMax","startNode","UMB_DOCUMENT_ENTITY_TYPE","html","__privateMethod","event","UmbPropertyValueChangeEvent","__decorateClass","property","state","customElement","UmbPropertyEditorUIDocumentPickerElement$1"],"mappings":";;;;;;;;;;8OAAAA,GAAAC;AAaa,IAAAC,IAAN,cAAuDC,EAAoD;AAAA,EAA3G,cAAA;AAAA,UAAA,GAAA,SAAA,GAAAC,EAAA,MAAAJ,CAAA,GAwBK,KAAA,WAAA,IAGX,KAAQ,OAAO,GAKf,KAAQ,OAAO;AAAA,EAAA;AAAA,EA5Bf,IAAW,OAAOK,GAAuD;AACxE,QAAI,CAACA,EAAQ;AAEP,UAAAC,IAASD,EAAO,gBAAyC,iBAAiB;AAChF,IAAIC,MACH,KAAK,OAAOA,EAAO,OAAOA,EAAO,MAAM,IAAIA,EAAO,MAAM,GACxD,KAAK,OAAOA,EAAO,OAAOA,EAAO,MAAM,IAAIA,EAAO,MAAM,IAGpD,KAAA,eAAeD,EAAO,gBAAgB,aAAa,GACxD,KAAK,kBAAkBA,EAAO,gBAAgB,gBAAgB,KAAK;AAAA,EAAA;AAAA,EA+B3D,SAAS;AACX,UAAAE,IAA0C,KAAK,eAClD,EAAE,QAAQ,KAAK,cAAc,YAAYC,EAAA,IACzC;AAEI,WAAAC;AAAA;AAAA,WAEE,KAAK,IAAI;AAAA,WACT,KAAK,IAAI;AAAA,iBACHF,CAAS;AAAA,aACb,KAAK,KAAK;AAAA,sBACD,KAAK,eAAe;AAAA,cAC5BG,QAAKV,GAASC,CAAA,CAAA;AAAA,gBACZ,KAAK,QAAQ;AAAA;AAAA;AAAA,EAAA;AAI7B;AA9DOD,IAAA,oBAAA,QAAA;AAwCNC,IAAS,SAACU,GAA0D;AAC9D,OAAA,QAAQA,EAAM,OAAO,OACrB,KAAA,cAAc,IAAIC,GAA6B;AACrD;AAzCOC,EAAA;AAAA,EADNC,EAAS;AAAA,GADEZ,EAEL,WAAA,SAAA,CAAA;AAsBPW,EAAA;AAAA,EADCC,EAAS,EAAE,MAAM,SAAS,SAAS,GAAM,CAAA;AAAA,GAvB9BZ,EAwBZ,WAAA,YAAA,CAAA;AAGQW,EAAA;AAAA,EADPE,EAAM;AAAA,GA1BKb,EA2BJ,WAAA,QAAA,CAAA;AAKAW,EAAA;AAAA,EADPE,EAAM;AAAA,GA/BKb,EAgCJ,WAAA,QAAA,CAAA;AAGAW,EAAA;AAAA,EADPE,EAAM;AAAA,GAlCKb,EAmCJ,WAAA,gBAAA,CAAA;AAGAW,EAAA;AAAA,EADPE,EAAM;AAAA,GArCKb,EAsCJ,WAAA,mBAAA,CAAA;AAtCIA,IAANW,EAAA;AAAA,EADNG,EAAc,wCAAwC;AAAA,GAC1Cd,CAAA;AAgEb,MAAAe,IAAef;"}