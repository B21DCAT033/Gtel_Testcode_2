{"version":3,"file":"rollback.action-DZrCDJCB.js","sources":["../../../src/packages/documents/documents/rollback/entity-action/rollback.action.ts"],"sourcesContent":["import { UMB_ROLLBACK_MODAL } from '../constants.js';\r\nimport { UmbEntityActionBase } from '@umbraco-cms/backoffice/entity-action';\r\nimport { UMB_MODAL_MANAGER_CONTEXT } from '@umbraco-cms/backoffice/modal';\r\nimport { UMB_NOTIFICATION_CONTEXT } from '@umbraco-cms/backoffice/notification';\r\nimport { UmbLocalizationController } from '@umbraco-cms/backoffice/localization-api';\r\n\r\nexport class UmbRollbackDocumentEntityAction extends UmbEntityActionBase<never> {\r\n\t#localize = new UmbLocalizationController(this);\r\n\r\n\toverride async execute() {\r\n\t\tconst modalManagerContext = await this.getContext(UMB_MODAL_MANAGER_CONTEXT);\r\n\t\tconst modalContext = modalManagerContext.open(this, UMB_ROLLBACK_MODAL, {});\r\n\r\n\t\tawait modalContext.onSubmit();\r\n\t\tconst notificationContext = await this.getContext(UMB_NOTIFICATION_CONTEXT);\r\n\t\tnotificationContext.peek('positive', {\r\n\t\t\tdata: { message: this.#localize.term('rollback_documentRolledBack') },\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport { UmbRollbackDocumentEntityAction as api };\r\n"],"names":["UmbRollbackDocumentEntityAction","UmbEntityActionBase","#localize","UmbLocalizationController","UMB_MODAL_MANAGER_CONTEXT","UMB_ROLLBACK_MODAL","UMB_NOTIFICATION_CONTEXT"],"mappings":";;;;;AAMO,MAAMA,UAAwCC,EAA2B;AAAA,EAC/EC,KAAY,IAAIC,EAA0B,IAAI;AAAA,EAE9C,MAAe,UAAU;AAIxB,WAH4B,MAAM,KAAK,WAAWC,CAAyB,GAClC,KAAK,MAAMC,GAAoB,CAAA,CAAE,EAEvD,SAAS,IACA,MAAM,KAAK,WAAWC,CAAwB,GACtD,KAAK,YAAY;AAAA,MACpC,MAAM,EAAE,SAAS,KAAKJ,GAAU,KAAK,6BAA6B,EAAE;AAAA,IAAA,CACpE;AAAA,EAAA;AAEH;"}