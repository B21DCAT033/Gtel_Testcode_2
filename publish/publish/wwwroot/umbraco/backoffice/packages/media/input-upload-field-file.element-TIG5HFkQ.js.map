{"version":3,"file":"input-upload-field-file.element-TIG5HFkQ.js","sources":["../../../src/packages/media/media/components/input-upload-field/preview/input-upload-field-file.element.ts"],"sourcesContent":["import { html, customElement, property, state, css, when } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UMB_APP_CONTEXT } from '@umbraco-cms/backoffice/app';\r\nimport type { PropertyValueMap } from '@umbraco-cms/backoffice/external/lit';\r\n\r\n@customElement('umb-input-upload-field-file')\r\nexport default class UmbInputUploadFieldFileElement extends UmbLitElement {\r\n\t#loadingText = `(${this.localize.term('general_loading')}...)`;\r\n\r\n\t#serverUrl = '';\r\n\r\n\t@property()\r\n\tpath: string = '';\r\n\r\n\t/**\r\n\t * @description The file to be rendered.\r\n\t * @type {File}\r\n\t * @required\r\n\t */\r\n\t@property({ attribute: false })\r\n\tfile?: File;\r\n\r\n\t@state()\r\n\textension = '';\r\n\r\n\t@state()\r\n\tlabel = '';\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_APP_CONTEXT, (instance) => {\r\n\t\t\tthis.#serverUrl = instance.getServerUrl();\r\n\t\t});\r\n\t}\r\n\r\n\tprotected override updated(_changedProperties: PropertyValueMap<any> | Map<PropertyKey, unknown>): void {\r\n\t\tsuper.updated(_changedProperties);\r\n\r\n\t\tif (_changedProperties.has('file') && this.file) {\r\n\t\t\tthis.extension = this.file.name.split('.').pop() ?? '';\r\n\t\t\tthis.label = this.file.name || this.#loadingText;\r\n\t\t}\r\n\r\n\t\tif (_changedProperties.has('path') && !this.file) {\r\n\t\t\tthis.extension = this.path.split('.').pop() ?? '';\r\n\t\t\tthis.label = this.path.split('/').pop() ?? this.#loadingText;\r\n\t\t}\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tif (!this.label && !this.extension) return html`<uui-loader></uui-loader>`;\r\n\r\n\t\treturn html`\r\n\t\t\t<div id=\"main\">\r\n\t\t\t\t<uui-symbol-file id=\"file-symbol\" .type=${this.extension}></uui-symbol-file>\r\n\t\t\t\t${when(\r\n\t\t\t\t\t!this.file && this.path,\r\n\t\t\t\t\t() => html`<a id=\"label\" href=\"${this.#serverUrl}${this.path}\" target=\"_blank\">${this.label}</a>`,\r\n\t\t\t\t\t() => html`<span id=\"label\">${this.label}</span>`,\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override readonly styles = [\r\n\t\tcss`\r\n\t\t\t#main {\r\n\t\t\t\tdisplay: grid;\r\n\t\t\t\tgrid-template-rows: 150px auto;\r\n\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\tcolor: var(--uui-color-text);\r\n\t\t\t}\r\n\r\n\t\t\t#file-symbol {\r\n\t\t\t\taspect-ratio: 1 / 1;\r\n\t\t\t\tmargin: auto;\r\n\t\t\t\tmax-width: 100%;\r\n\t\t\t\tmax-height: 100%;\r\n\t\t\t}\r\n\r\n\t\t\t#label {\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\toverflow: hidden;\r\n\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\twhite-space: nowrap;\r\n\t\t\t\tcolor: var(--uui-color-text);\r\n\r\n\t\t\t\t&:is(a) {\r\n\t\t\t\t\ttext-decoration: none;\r\n\t\t\t\t\tcolor: var(--uui-color-interactive);\r\n\r\n\t\t\t\t\t&:hover {\r\n\t\t\t\t\t\ttext-decoration: underline;\r\n\t\t\t\t\t\tcolor: var(--uui-color-interactive-emphasis);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-input-upload-field-file': UmbInputUploadFieldFileElement;\r\n\t}\r\n}\r\n"],"names":["_loadingText","_serverUrl","UmbInputUploadFieldFileElement","UmbLitElement","__privateAdd","UMB_APP_CONTEXT","instance","__privateSet","_changedProperties","__privateGet","html","when","css","__decorateClass","property","state","customElement"],"mappings":";;;;;;;;;gVAAAA,GAAAC;AAMqB,IAAAC,IAArB,cAA4DC,EAAc;AAAA,EAsBzE,cAAc;AACP,UAAA,GAtBPC,EAAA,MAAAJ,GAAe,IAAI,KAAK,SAAS,KAAK,iBAAiB,CAAC,MAAA,GAE3CI,EAAA,MAAAH,GAAA,EAAA,GAGE,KAAA,OAAA,IAWH,KAAA,YAAA,IAGJ,KAAA,QAAA,IAKF,KAAA,eAAeI,GAAiB,CAACC,MAAa;AAC7C,MAAAC,EAAA,MAAAN,GAAaK,EAAS,aAAa,CAAA;AAAA,IAAA,CACxC;AAAA,EAAA;AAAA,EAGiB,QAAQE,GAA6E;AACvG,UAAM,QAAQA,CAAkB,GAE5BA,EAAmB,IAAI,MAAM,KAAK,KAAK,SACrC,KAAA,YAAY,KAAK,KAAK,KAAK,MAAM,GAAG,EAAE,SAAS,IACpD,KAAK,QAAQ,KAAK,KAAK,QAAQC,EAAK,MAAAT,CAAA,IAGjCQ,EAAmB,IAAI,MAAM,KAAK,CAAC,KAAK,SAC3C,KAAK,YAAY,KAAK,KAAK,MAAM,GAAG,EAAE,SAAS,IAC1C,KAAA,QAAQ,KAAK,KAAK,MAAM,GAAG,EAAE,SAASC,EAAK,MAAAT,CAAA;AAAA,EACjD;AAAA,EAGQ,SAAS;AACjB,WAAI,CAAC,KAAK,SAAS,CAAC,KAAK,YAAkBU,+BAEpCA;AAAA;AAAA,8CAEqC,KAAK,SAAS;AAAA,MACtDC;AAAA,MACD,CAAC,KAAK,QAAQ,KAAK;AAAA,MACnB,MAAMD,wBAA2BD,EAAK,MAAAR,CAAA,CAAU,GAAG,KAAK,IAAI,qBAAqB,KAAK,KAAK;AAAA,MAC3F,MAAMS,qBAAwB,KAAK,KAAK;AAAA,IACxC,CAAA;AAAA;AAAA;AAAA,EAAA;AAwCL;AA7FCV,IAAA,oBAAA,QAAA;AAEAC,IAAA,oBAAA,QAAA;AAHoBC,EA2DK,SAAS;AAAA,EACjCU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiCD;AAvFAC,EAAA;AAAA,EADCC,EAAS;AAAA,GALUZ,EAMpB,WAAA,QAAA,CAAA;AAQAW,EAAA;AAAA,EADCC,EAAS,EAAE,WAAW,GAAO,CAAA;AAAA,GAbVZ,EAcpB,WAAA,QAAA,CAAA;AAGAW,EAAA;AAAA,EADCE,EAAM;AAAA,GAhBab,EAiBpB,WAAA,aAAA,CAAA;AAGAW,EAAA;AAAA,EADCE,EAAM;AAAA,GAnBab,EAoBpB,WAAA,SAAA,CAAA;AApBoBA,IAArBW,EAAA;AAAA,EADCG,EAAc,6BAA6B;AAAA,GACvBd,CAAA;"}