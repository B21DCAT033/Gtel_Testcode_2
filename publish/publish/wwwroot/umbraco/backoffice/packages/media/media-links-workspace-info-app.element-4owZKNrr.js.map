{"version":3,"file":"media-links-workspace-info-app.element-4owZKNrr.js","sources":["../../../src/packages/media/media/url/info-app/media-links-workspace-info-app.element.ts"],"sourcesContent":["import { UMB_MEDIA_WORKSPACE_CONTEXT } from '../../workspace/constants.js';\r\nimport type { MediaUrlInfoModel } from '@umbraco-cms/backoffice/external/backend-api';\r\nimport { css, customElement, html, repeat, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\n\r\n@customElement('umb-media-links-workspace-info-app')\r\nexport class UmbMediaLinksWorkspaceInfoAppElement extends UmbLitElement {\r\n\t@state()\r\n\tprivate _urls?: Array<MediaUrlInfoModel>;\r\n\r\n\t#workspaceContext?: typeof UMB_MEDIA_WORKSPACE_CONTEXT.TYPE;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\t\tthis.consumeContext(UMB_MEDIA_WORKSPACE_CONTEXT, (context) => {\r\n\t\t\tthis.#workspaceContext = context;\r\n\t\t\tthis.#observeUrls();\r\n\t\t});\r\n\t}\r\n\r\n\t#observeUrls() {\r\n\t\tif (!this.#workspaceContext) return;\r\n\r\n\t\tthis.observe(\r\n\t\t\tthis.#workspaceContext.urls,\r\n\t\t\t(urls) => {\r\n\t\t\t\tthis._urls = urls;\r\n\t\t\t},\r\n\t\t\t'__urls',\r\n\t\t);\r\n\t}\r\n\r\n\tprotected override render() {\r\n\t\treturn html`<umb-workspace-info-app-layout headline=\"#general_links\">\r\n\t\t\t${this.#renderLinksSection()}\r\n\t\t</umb-workspace-info-app-layout> `;\r\n\t}\r\n\r\n\t#openSvg(imagePath: string) {\r\n\t\tconst popup = window.open('', '_blank');\r\n\t\tif (!popup) return;\r\n\r\n\t\tconst html = `<!doctype html>\r\n<body style=\"background-image: linear-gradient(45deg, #ccc 25%, transparent 25%), linear-gradient(135deg, #ccc 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #ccc 75%), linear-gradient(135deg, transparent 75%, #ccc 75%); background-size:30px 30px; background-position:0 0, 15px 0, 15px -15px, 0px 15px;\">\r\n\t<img src=\"${imagePath}\"/>\r\n\t<script>history.pushState(null, null, \"${window.location.href}\");</script>\r\n</body>`;\r\n\r\n\t\tpopup.document.open();\r\n\t\tpopup.document.write(html);\r\n\t\tpopup.document.close();\r\n\t}\r\n\r\n\t#renderLinksSection() {\r\n\t\tif (this._urls && this._urls.length) {\r\n\t\t\treturn html`\r\n\t\t\t\t${repeat(\r\n\t\t\t\t\tthis._urls,\r\n\t\t\t\t\t(item) => item.url,\r\n\t\t\t\t\t(item) => this.#renderLinkItem(item),\r\n\t\t\t\t)}\r\n\t\t\t`;\r\n\t\t} else {\r\n\t\t\treturn html`\r\n\t\t\t\t<div class=\"link-item\">\r\n\t\t\t\t\t<span class=\"link-content italic\"><umb-localize key=\"content_noMediaLink\"></umb-localize></span>\r\n\t\t\t\t</div>\r\n\t\t\t`;\r\n\t\t}\r\n\t}\r\n\r\n\t#renderLinkItem(item: MediaUrlInfoModel) {\r\n\t\tconst ext = item.url.split(/[#?]/)[0].split('.').pop()?.trim();\r\n\t\tif (ext === 'svg') {\r\n\t\t\treturn html`\r\n\t\t\t\t<a href=\"#\" target=\"_blank\" class=\"link-item with-href\" @click=${() => this.#openSvg(item.url)}>\r\n\t\t\t\t\t<span class=\"link-content\">${item.url}</span>\r\n\t\t\t\t\t<uui-icon name=\"icon-out\"></uui-icon>\r\n\t\t\t\t</a>\r\n\t\t\t`;\r\n\t\t} else {\r\n\t\t\treturn html`\r\n\t\t\t\t<a href=${item.url} target=\"_blank\" class=\"link-item with-href\">\r\n\t\t\t\t\t<span class=\"link-content\">${item.url}</span>\r\n\t\t\t\t\t<uui-icon name=\"icon-out\"></uui-icon>\r\n\t\t\t\t</a>\r\n\t\t\t`;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic override styles = [\r\n\t\tcss`\r\n\t\t\tuui-box {\r\n\t\t\t\t--uui-box-default-padding: 0;\r\n\t\t\t}\r\n\r\n\t\t\t#link-section {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\ttext-align: left;\r\n\t\t\t}\r\n\r\n\t\t\t.link-item {\r\n\t\t\t\tpadding: var(--uui-size-space-4) var(--uui-size-space-5);\r\n\t\t\t\tdisplay: grid;\r\n\t\t\t\tgrid-template-columns: 1fr auto;\r\n\t\t\t\tgap: var(--uui-size-6);\r\n\t\t\t\tcolor: inherit;\r\n\t\t\t\ttext-decoration: none;\r\n\t\t\t\tword-break: break-all;\r\n\t\t\t}\r\n\r\n\t\t\t.link-language {\r\n\t\t\t\tcolor: var(--uui-color-divider-emphasis);\r\n\t\t\t}\r\n\r\n\t\t\t.link-content.italic {\r\n\t\t\t\tfont-style: italic;\r\n\t\t\t}\r\n\r\n\t\t\t.link-item uui-icon {\r\n\t\t\t\tmargin-right: var(--uui-size-space-2);\r\n\t\t\t\tvertical-align: middle;\r\n\t\t\t}\r\n\r\n\t\t\t.link-item.with-href {\r\n\t\t\t\tcursor: pointer;\r\n\t\t\t}\r\n\r\n\t\t\t.link-item.with-href:hover {\r\n\t\t\t\tbackground: var(--uui-color-divider);\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbMediaLinksWorkspaceInfoAppElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-media-links-workspace-info-app': UmbMediaLinksWorkspaceInfoAppElement;\r\n\t}\r\n}\r\n"],"names":["_workspaceContext","_UmbMediaLinksWorkspaceInfoAppElement_instances","observeUrls_fn","openSvg_fn","renderLinksSection_fn","renderLinkItem_fn","UmbMediaLinksWorkspaceInfoAppElement","UmbLitElement","__privateAdd","UMB_MEDIA_WORKSPACE_CONTEXT","context","__privateSet","__privateMethod","html","__privateGet","urls","imagePath","popup","repeat","item","css","__decorateClass","state","customElement","UmbMediaLinksWorkspaceInfoAppElement$1"],"mappings":";;;;;;;;;wXAAAA,GAAAC,GAAAC,GAAAC,GAAAC,GAAAC;AAMa,IAAAC,IAAN,cAAmDC,EAAc;AAAA,EAMvE,cAAc;AACP,UAAA,GAPDC,EAAA,MAAAP,CAAA,GAINO,EAAA,MAAAR,CAAA,GAKM,KAAA,eAAeS,GAA6B,CAACC,MAAY;AAC7D,MAAAC,EAAA,MAAKX,GAAoBU,CAAA,GACzBE,EAAA,MAAKX,GAALC,CAAA,EAAA,KAAA,IAAA;AAAA,IAAA,CACA;AAAA,EAAA;AAAA,EAeiB,SAAS;AACpB,WAAAW;AAAA,KACJD,EAAA,MAAKX,MAAL,KAA0B,IAAA,CAAA;AAAA;AAAA,EAAA;AAoG/B;AA7HCD,IAAA,oBAAA,QAAA;AAJMC,IAAA,oBAAA,QAAA;AAeNC,IAAY,WAAG;AACV,EAACY,QAAKd,CAAmB,KAExB,KAAA;AAAA,IACJc,QAAKd,CAAkB,EAAA;AAAA,IACvB,CAACe,MAAS;AACT,WAAK,QAAQA;AAAA,IACd;AAAA,IACA;AAAA,EACD;AACD;AAQAZ,IAAQ,SAACa,GAAmB;AAC3B,QAAMC,IAAQ,OAAO,KAAK,IAAI,QAAQ;AACtC,MAAI,CAACA,EAAO;AAEZ,QAAMJ,IAAO;AAAA;AAAA,aAEFG,CAAS;AAAA,0CACoB,OAAO,SAAS,IAAI;AAAA;AAG5D,EAAAC,EAAM,SAAS,KAAK,GACdA,EAAA,SAAS,MAAMJ,CAAI,GACzBI,EAAM,SAAS,MAAM;AACtB;AAEAb,IAAmB,WAAG;AACrB,SAAI,KAAK,SAAS,KAAK,MAAM,SACrBS;AAAA,MACJK;AAAA,IACD,KAAK;AAAA,IACL,CAACC,MAASA,EAAK;AAAA,IACf,CAACA,MAASP,EAAK,MAAAX,GAAAI,CAAA,EAAL,KAAqB,MAAAc,CAAA;AAAA,EAC/B,CAAA;AAAA,OAGKN;AAAA;AAAA;AAAA;AAAA;AAMT;AAEAR,IAAe,SAACc,GAAyB;AAExC,SADYA,EAAK,IAAI,MAAM,MAAM,EAAE,CAAC,EAAE,MAAM,GAAG,EAAE,IAAA,GAAO,KAAK,MACjD,QACJN;AAAA,qEAC2D,MAAMD,EAAA,MAAKX,GAALE,CAAA,EAAA,KAAA,MAAcgB,EAAK,GAAI,CAAA;AAAA,kCAChEA,EAAK,GAAG;AAAA;AAAA;AAAA,OAKhCN;AAAA,cACIM,EAAK,GAAG;AAAA,kCACYA,EAAK,GAAG;AAAA;AAAA;AAAA;AAKzC;AAnFYb,EAqFI,SAAS;AAAA,EACxBc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0CD;AA9HQC,EAAA;AAAA,EADPC,EAAM;AAAA,GADKhB,EAEJ,WAAA,SAAA,CAAA;AAFIA,IAANe,EAAA;AAAA,EADNE,EAAc,oCAAoC;AAAA,GACtCjB,CAAA;AAmIb,MAAAkB,IAAelB;"}