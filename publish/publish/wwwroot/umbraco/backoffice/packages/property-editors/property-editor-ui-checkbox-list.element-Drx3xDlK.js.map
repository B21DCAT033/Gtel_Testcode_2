{"version":3,"file":"property-editor-ui-checkbox-list.element-Drx3xDlK.js","sources":["../../../src/packages/property-editors/checkbox-list/property-editor-ui-checkbox-list.element.ts"],"sourcesContent":["import type {\r\n\tUmbCheckboxListItem,\r\n\tUmbInputCheckboxListElement,\r\n} from './components/input-checkbox-list/input-checkbox-list.element.js';\r\nimport { html, customElement, property, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { UmbPropertyValueChangeEvent } from '@umbraco-cms/backoffice/property-editor';\r\nimport type {\r\n\tUmbPropertyEditorConfigCollection,\r\n\tUmbPropertyEditorUiElement,\r\n} from '@umbraco-cms/backoffice/property-editor';\r\n\r\nimport './components/input-checkbox-list/input-checkbox-list.element.js';\r\n\r\n/**\r\n * @element umb-property-editor-ui-checkbox-list\r\n */\r\n@customElement('umb-property-editor-ui-checkbox-list')\r\nexport class UmbPropertyEditorUICheckboxListElement extends UmbLitElement implements UmbPropertyEditorUiElement {\r\n\t#selection: Array<string> = [];\r\n\r\n\t@property({ type: Array })\r\n\tpublic set value(value: Array<string> | string | undefined) {\r\n\t\tthis.#selection = Array.isArray(value) ? value : value ? [value] : [];\r\n\t}\r\n\tpublic get value(): Array<string> | undefined {\r\n\t\treturn this.#selection;\r\n\t}\r\n\r\n\tpublic set config(config: UmbPropertyEditorConfigCollection | undefined) {\r\n\t\tif (!config) return;\r\n\r\n\t\tconst items = config.getValueByAlias('items');\r\n\r\n\t\tif (Array.isArray(items) && items.length) {\r\n\t\t\tthis._list =\r\n\t\t\t\ttypeof items[0] === 'string'\r\n\t\t\t\t\t? items.map((item) => ({ label: item, value: item, checked: this.#selection.includes(item) }))\r\n\t\t\t\t\t: items.map((item) => ({\r\n\t\t\t\t\t\t\tlabel: item.name,\r\n\t\t\t\t\t\t\tvalue: item.value,\r\n\t\t\t\t\t\t\tchecked: this.#selection.includes(item.value),\r\n\t\t\t\t\t\t}));\r\n\r\n\t\t\t// If selection includes a value that is not in the list, add it to the list\r\n\t\t\tthis.#selection.forEach((value) => {\r\n\t\t\t\tif (!this._list.find((item) => item.value === value)) {\r\n\t\t\t\t\tthis._list.push({ label: value, value, checked: true, invalid: true });\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Sets the input to readonly mode, meaning value cannot be changed but still able to read and select its content.\r\n\t * @type {boolean}\r\n\t * @attr\r\n\t * @default false\r\n\t */\r\n\t@property({ type: Boolean, reflect: true })\r\n\treadonly = false;\r\n\r\n\t@state()\r\n\tprivate _list: Array<UmbCheckboxListItem> = [];\r\n\r\n\t#onChange(event: CustomEvent & { target: UmbInputCheckboxListElement }) {\r\n\t\tthis.value = event.target.selection;\r\n\t\tthis.dispatchEvent(new UmbPropertyValueChangeEvent());\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<umb-input-checkbox-list\r\n\t\t\t\t.list=${this._list}\r\n\t\t\t\t.selection=${this.#selection}\r\n\t\t\t\t?readonly=${this.readonly}\r\n\t\t\t\t@change=${this.#onChange}></umb-input-checkbox-list>\r\n\t\t`;\r\n\t}\r\n}\r\n\r\nexport default UmbPropertyEditorUICheckboxListElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-property-editor-ui-checkbox-list': UmbPropertyEditorUICheckboxListElement;\r\n\t}\r\n}\r\n"],"names":["_selection","_UmbPropertyEditorUICheckboxListElement_instances","onChange_fn","UmbPropertyEditorUICheckboxListElement","UmbLitElement","__privateAdd","value","__privateSet","__privateGet","config","items","item","html","__privateMethod","event","UmbPropertyValueChangeEvent","__decorateClass","property","state","customElement","UmbPropertyEditorUICheckboxListElement$1"],"mappings":";;;;;;;;;;wYAAAA,GAAAC,GAAAC;AAkBa,IAAAC,IAAN,cAAqDC,EAAoD;AAAA,EAAzG,cAAA;AAAA,UAAA,GAAA,SAAA,GAAAC,EAAA,MAAAJ,CAAA,GACNI,EAAA,MAAAL,GAA4B,EAAC,GAyClB,KAAA,WAAA,IAGX,KAAQ,QAAoC,CAAC;AAAA,EAAA;AAAA,EAzC7C,IAAW,MAAMM,GAA2C;AACtD,IAAAC,EAAA,MAAAP,GAAa,MAAM,QAAQM,CAAK,IAAIA,IAAQA,IAAQ,CAACA,CAAK,IAAI,CAAA,CAAC;AAAA,EAAA;AAAA,EAErE,IAAW,QAAmC;AAC7C,WAAOE,EAAK,MAAAR,CAAA;AAAA,EAAA;AAAA,EAGb,IAAW,OAAOS,GAAuD;AACxE,QAAI,CAACA,EAAQ;AAEP,UAAAC,IAAQD,EAAO,gBAAgB,OAAO;AAE5C,IAAI,MAAM,QAAQC,CAAK,KAAKA,EAAM,WAC5B,KAAA,QACJ,OAAOA,EAAM,CAAC,KAAM,WACjBA,EAAM,IAAI,CAACC,OAAU,EAAE,OAAOA,GAAM,OAAOA,GAAM,SAASH,EAAK,MAAAR,CAAA,EAAW,SAASW,CAAI,EAAE,EAAE,IAC3FD,EAAM,IAAI,CAACC,OAAU;AAAA,MACrB,OAAOA,EAAK;AAAA,MACZ,OAAOA,EAAK;AAAA,MACZ,SAASH,EAAA,MAAKR,CAAW,EAAA,SAASW,EAAK,KAAK;AAAA,IAAA,EAC3C,GAGAH,EAAA,MAAAR,CAAA,EAAW,QAAQ,CAACM,MAAU;AAC9B,MAAC,KAAK,MAAM,KAAK,CAACK,MAASA,EAAK,UAAUL,CAAK,KAC7C,KAAA,MAAM,KAAK,EAAE,OAAOA,GAAO,OAAAA,GAAO,SAAS,IAAM,SAAS,GAAA,CAAM;AAAA,IACtE,CACA;AAAA,EACF;AAAA,EAoBQ,SAAS;AACV,WAAAM;AAAA;AAAA,YAEG,KAAK,KAAK;AAAA,iBACLJ,QAAKR,CAAU,CAAA;AAAA,gBAChB,KAAK,QAAQ;AAAA,cACfa,QAAKZ,GAASC,CAAA,CAAA;AAAA;AAAA,EAAA;AAG5B;AA5DCF,IAAA,oBAAA,QAAA;AADMC,IAAA,oBAAA,QAAA;AA+CNC,IAAS,SAACY,GAA8D;AAClE,OAAA,QAAQA,EAAM,OAAO,WACrB,KAAA,cAAc,IAAIC,GAA6B;AACrD;AA9CWC,EAAA;AAAA,EADVC,EAAS,EAAE,MAAM,MAAO,CAAA;AAAA,GAHbd,EAID,WAAA,SAAA,CAAA;AAsCXa,EAAA;AAAA,EADCC,EAAS,EAAE,MAAM,SAAS,SAAS,GAAM,CAAA;AAAA,GAzC9Bd,EA0CZ,WAAA,YAAA,CAAA;AAGQa,EAAA;AAAA,EADPE,EAAM;AAAA,GA5CKf,EA6CJ,WAAA,SAAA,CAAA;AA7CIA,IAANa,EAAA;AAAA,EADNG,EAAc,sCAAsC;AAAA,GACxChB,CAAA;AA+Db,MAAAiB,IAAejB;"}