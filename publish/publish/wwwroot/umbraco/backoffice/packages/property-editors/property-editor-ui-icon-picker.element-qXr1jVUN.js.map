{"version":3,"file":"property-editor-ui-icon-picker.element-qXr1jVUN.js","sources":["../../../src/packages/property-editors/icon-picker/property-editor-ui-icon-picker.element.ts"],"sourcesContent":["import { html, customElement, property, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport type { UmbPropertyEditorUiElement } from '@umbraco-cms/backoffice/property-editor';\r\nimport { UMB_MODAL_MANAGER_CONTEXT } from '@umbraco-cms/backoffice/modal';\r\nimport { UMB_ICON_PICKER_MODAL } from '@umbraco-cms/backoffice/icon';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { extractUmbColorVariable } from '@umbraco-cms/backoffice/resources';\r\nimport { UmbPropertyValueChangeEvent } from '@umbraco-cms/backoffice/property-editor';\r\n\r\n/**\r\n * @element umb-property-editor-ui-icon-picker\r\n */\r\n@customElement('umb-property-editor-ui-icon-picker')\r\nexport class UmbPropertyEditorUIIconPickerElement extends UmbLitElement implements UmbPropertyEditorUiElement {\r\n\t//\r\n\t@property()\r\n\tpublic set value(v: string) {\r\n\t\tthis._value = v ?? '';\r\n\t\tconst parts = this._value.split(' ');\r\n\t\tif (parts.length === 2) {\r\n\t\t\tthis._icon = parts[0];\r\n\t\t\tthis._color = parts[1].replace('color-', '');\r\n\t\t} else {\r\n\t\t\tthis._icon = this._value;\r\n\t\t\tthis._color = '';\r\n\t\t}\r\n\t}\r\n\tpublic get value() {\r\n\t\treturn this._value;\r\n\t}\r\n\tprivate _value = '';\r\n\r\n\t@state()\r\n\tprivate _icon = '';\r\n\r\n\t@state()\r\n\tprivate _color = '';\r\n\r\n\tprivate async _openModal() {\r\n\t\tconst modalManager = await this.getContext(UMB_MODAL_MANAGER_CONTEXT);\r\n\t\tconst modalContext = modalManager.open(this, UMB_ICON_PICKER_MODAL);\r\n\r\n\t\tconst data = await modalContext?.onSubmit();\r\n\t\tif (!data) return;\r\n\r\n\t\tif (data.color) {\r\n\t\t\tthis.value = `${data.icon} color-${data.color}`;\r\n\t\t} else {\r\n\t\t\tthis.value = data.icon as string;\r\n\t\t}\r\n\r\n\t\tthis.dispatchEvent(new UmbPropertyValueChangeEvent());\r\n\t}\r\n\r\n\toverride render() {\r\n\t\treturn html`\r\n\t\t\t<uui-button\r\n\t\t\t\tcompact\r\n\t\t\t\tlabel=${this.localize.term('defaultdialogs_selectIcon')}\r\n\t\t\t\tlook=\"secondary\"\r\n\t\t\t\t@click=${this._openModal}\r\n\t\t\t\tstyle=\"margin-right: var(--uui-size-space-3)\">\r\n\t\t\t\t${this._color\r\n\t\t\t\t\t? html` <uui-icon name=\"${this._icon}\" style=\"color:var(${extractUmbColorVariable(this._color)})\"></uui-icon>`\r\n\t\t\t\t\t: html` <uui-icon name=\"${this._icon}\"></uui-icon>`}\r\n\t\t\t</uui-button>\r\n\t\t`;\r\n\t}\r\n}\r\n\r\nexport default UmbPropertyEditorUIIconPickerElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-property-editor-ui-icon-picker': UmbPropertyEditorUIIconPickerElement;\r\n\t}\r\n}\r\n"],"names":["UmbPropertyEditorUIIconPickerElement","UmbLitElement","v","parts","data","UMB_MODAL_MANAGER_CONTEXT","UMB_ICON_PICKER_MODAL","UmbPropertyValueChangeEvent","html","extractUmbColorVariable","__decorateClass","property","state","customElement","UmbPropertyEditorUIIconPickerElement$1"],"mappings":";;;;;;;;;;;AAYa,IAAAA,IAAN,cAAmDC,EAAoD;AAAA,EAAvG,cAAA;AAAA,UAAA,GAAA,SAAA,GAiBN,KAAQ,SAAS,IAGjB,KAAQ,QAAQ,IAGhB,KAAQ,SAAS;AAAA,EAAA;AAAA,EApBjB,IAAW,MAAMC,GAAW;AAC3B,SAAK,SAASA,KAAK;AACnB,UAAMC,IAAQ,KAAK,OAAO,MAAM,GAAG;AAC/B,IAAAA,EAAM,WAAW,KACf,KAAA,QAAQA,EAAM,CAAC,GACpB,KAAK,SAASA,EAAM,CAAC,EAAE,QAAQ,UAAU,EAAE,MAE3C,KAAK,QAAQ,KAAK,QAClB,KAAK,SAAS;AAAA,EACf;AAAA,EAED,IAAW,QAAQ;AAClB,WAAO,KAAK;AAAA,EAAA;AAAA,EAUb,MAAc,aAAa;AAIpB,UAAAC,IAAO,OAHQ,MAAM,KAAK,WAAWC,CAAyB,GAClC,KAAK,MAAMC,CAAqB,GAEjC,SAAS;AAC1C,IAAKF,MAEDA,EAAK,QACR,KAAK,QAAQ,GAAGA,EAAK,IAAI,UAAUA,EAAK,KAAK,KAE7C,KAAK,QAAQA,EAAK,MAGd,KAAA,cAAc,IAAIG,GAA6B;AAAA,EAAA;AAAA,EAG5C,SAAS;AACV,WAAAC;AAAA;AAAA;AAAA,YAGG,KAAK,SAAS,KAAK,2BAA2B,CAAC;AAAA;AAAA,aAE9C,KAAK,UAAU;AAAA;AAAA,MAEtB,KAAK,SACJA,qBAAwB,KAAK,KAAK,sBAAsBC,EAAwB,KAAK,MAAM,CAAC,mBAC5FD,qBAAwB,KAAK,KAAK,eAAe;AAAA;AAAA;AAAA,EAAA;AAIxD;AApDYE,EAAA;AAAA,EADVC,EAAS;AAAA,GAFEX,EAGD,WAAA,SAAA,CAAA;AAiBHU,EAAA;AAAA,EADPE,EAAM;AAAA,GAnBKZ,EAoBJ,WAAA,SAAA,CAAA;AAGAU,EAAA;AAAA,EADPE,EAAM;AAAA,GAtBKZ,EAuBJ,WAAA,UAAA,CAAA;AAvBIA,IAANU,EAAA;AAAA,EADNG,EAAc,oCAAoC;AAAA,GACtCb,CAAA;AAyDb,MAAAc,IAAed;"}