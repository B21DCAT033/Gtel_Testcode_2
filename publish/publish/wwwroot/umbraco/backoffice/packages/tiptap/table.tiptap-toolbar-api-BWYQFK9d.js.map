{"version":3,"file":"table.tiptap-toolbar-api-BWYQFK9d.js","sources":["../../../src/packages/tiptap/extensions/table/components/table-insert.element.ts","../../../src/packages/tiptap/extensions/table/table.tiptap-toolbar-api.ts"],"sourcesContent":["import { css, customElement, html, state } from '@umbraco-cms/backoffice/external/lit';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport type { TemplateResult } from '@umbraco-cms/backoffice/external/lit';\r\nimport type { Editor } from '@umbraco-cms/backoffice/external/tiptap';\r\n\r\n@customElement('umb-tiptap-table-insert')\r\nexport class UmbTiptapTableInsertElement extends UmbLitElement {\r\n\teditor?: Editor;\r\n\r\n\t@state()\r\n\tprivate _selectedColumn = 0;\r\n\r\n\t@state()\r\n\tprivate _selectedRow = 0;\r\n\r\n\t#onClick(column: number, row: number) {\r\n\t\tthis._selectedColumn = column;\r\n\t\tthis._selectedRow = row;\r\n\r\n\t\tthis.editor?.chain().focus().insertTable({ rows: row, cols: column }).run();\r\n\t}\r\n\r\n\t#onMouseover(column: number, row: number) {\r\n\t\tthis._selectedColumn = column;\r\n\t\tthis._selectedRow = row;\r\n\t}\r\n\r\n\toverride render() {\r\n\t\tconst rows = 10;\r\n\t\tconst columns = 10;\r\n\r\n\t\tconst cells: Array<Array<TemplateResult>> = [];\r\n\r\n\t\tfor (let i = 1; i <= rows; i++) {\r\n\t\t\tconst row = [];\r\n\t\t\tfor (let j = 1; j <= columns; j++) {\r\n\t\t\t\trow.push(html`\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tclass=${i <= this._selectedRow && j <= this._selectedColumn ? 'selected' : ''}\r\n\t\t\t\t\t\taria-label=\"${j} columns, ${i} rows\"\r\n\t\t\t\t\t\t@mouseover=${() => this.#onMouseover(j, i)}\r\n\t\t\t\t\t\t@click=${() => this.#onClick(j, i)}></button>\r\n\t\t\t\t`);\r\n\t\t\t}\r\n\t\t\tcells.push(row);\r\n\t\t}\r\n\r\n\t\treturn html`\r\n\t\t\t<div id=\"grid\">${cells}</div>\r\n\t\t\t<label>${this._selectedColumn} &times; ${this._selectedRow}</label>\r\n\t\t`;\r\n\t}\r\n\r\n\tstatic override readonly styles = [\r\n\t\tcss`\r\n\t\t\t:host {\r\n\t\t\t\tbackground-color: var(--uui-color-surface);\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tjustify-content: center;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\twidth: 170px;\r\n\t\t\t}\r\n\r\n\t\t\t#grid {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-wrap: wrap;\r\n\r\n\t\t\t\t> button {\r\n\t\t\t\t\tall: unset;\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\r\n\t\t\t\t\tborder-color: var(--uui-color-border);\r\n\t\t\t\t\tborder-style: solid;\r\n\t\t\t\t\tborder-width: 0 1px 1px 0;\r\n\r\n\t\t\t\t\theight: 17px;\r\n\t\t\t\t\twidth: 17px;\r\n\r\n\t\t\t\t\t&:hover,\r\n\t\t\t\t\t&.selected {\r\n\t\t\t\t\t\tbackground-color: var(--uui-color-background);\r\n\t\t\t\t\t\tborder-color: var(--uui-color-selected);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t`,\r\n\t];\r\n}\r\n\r\nexport default UmbTiptapTableInsertElement;\r\n\r\ndeclare global {\r\n\tinterface HTMLElementTagNameMap {\r\n\t\t'umb-tiptap-table-insert': UmbTiptapTableInsertElement;\r\n\t}\r\n}\r\n","import type { UmbCascadingMenuItem } from '../../components/cascading-menu-popover/cascading-menu-popover.element.js';\r\nimport { UmbTiptapToolbarElementApiBase } from '../base.js';\r\nimport { UmbTiptapTableInsertElement } from './components/table-insert.element.js';\r\nimport type { Editor } from '@umbraco-cms/backoffice/external/tiptap';\r\n\r\nexport class UmbTiptapToolbarTableExtensionApi extends UmbTiptapToolbarElementApiBase {\r\n\tpublic override execute() {}\r\n\r\n\tpublic getMenu(editor?: Editor): Array<UmbCascadingMenuItem> {\r\n\t\tconst tableInsertElement = new UmbTiptapTableInsertElement();\r\n\t\ttableInsertElement.editor = editor;\r\n\r\n\t\treturn [\r\n\t\t\t{\r\n\t\t\t\tunique: 'table-menu-table',\r\n\t\t\t\tlabel: 'Table',\r\n\t\t\t\ticon: 'icon-table',\r\n\t\t\t\titems: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tunique: 'table-insert',\r\n\t\t\t\t\t\tlabel: 'Insert table',\r\n\t\t\t\t\t\telement: tableInsertElement,\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\tseparatorAfter: true,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tunique: 'table-menu-cell',\r\n\t\t\t\tlabel: 'Cell',\r\n\t\t\t\titems: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tunique: 'table-merge',\r\n\t\t\t\t\t\tlabel: 'Merge cells',\r\n\t\t\t\t\t\texecute: () => editor?.chain().focus().mergeCells().run(),\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tunique: 'table-split',\r\n\t\t\t\t\t\tlabel: 'Split cell',\r\n\t\t\t\t\t\texecute: () => editor?.chain().focus().splitCell().run(),\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tunique: 'table-merge-split',\r\n\t\t\t\t\t\tlabel: 'Merge or split',\r\n\t\t\t\t\t\texecute: () => editor?.chain().focus().mergeOrSplit().run(),\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tunique: 'table-header-cell',\r\n\t\t\t\t\t\tlabel: 'Toggle header cell',\r\n\t\t\t\t\t\texecute: () => editor?.chain().focus().toggleHeaderCell().run(),\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tunique: 'table-menu-row',\r\n\t\t\t\tlabel: 'Row',\r\n\t\t\t\titems: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tunique: 'table-row-before',\r\n\t\t\t\t\t\tlabel: 'Add row before',\r\n\t\t\t\t\t\texecute: () => editor?.chain().focus().addRowBefore().run(),\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tunique: 'table-row-after',\r\n\t\t\t\t\t\tlabel: 'Add row after',\r\n\t\t\t\t\t\texecute: () => editor?.chain().focus().addRowAfter().run(),\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tunique: 'table-row-delete',\r\n\t\t\t\t\t\tlabel: 'Delete row',\r\n\t\t\t\t\t\ticon: 'icon-trash',\r\n\t\t\t\t\t\texecute: () => editor?.chain().focus().deleteRow().run(),\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tunique: 'table-header-row',\r\n\t\t\t\t\t\tlabel: 'Toggle header row',\r\n\t\t\t\t\t\texecute: () => editor?.chain().focus().toggleHeaderRow().run(),\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tunique: 'table-menu-column',\r\n\t\t\t\tlabel: 'Column',\r\n\t\t\t\titems: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tunique: 'table-column-before',\r\n\t\t\t\t\t\tlabel: 'Add column before',\r\n\t\t\t\t\t\texecute: () => editor?.chain().focus().addColumnBefore().run(),\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tunique: 'table-column-after',\r\n\t\t\t\t\t\tlabel: 'Add column after',\r\n\t\t\t\t\t\texecute: () => editor?.chain().focus().addColumnAfter().run(),\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tunique: 'table-column-delete',\r\n\t\t\t\t\t\tlabel: 'Delete column',\r\n\t\t\t\t\t\ticon: 'icon-trash',\r\n\t\t\t\t\t\texecute: () => editor?.chain().focus().deleteColumn().run(),\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tunique: 'table-header-column',\r\n\t\t\t\t\t\tlabel: 'Toggle header column',\r\n\t\t\t\t\t\texecute: () => editor?.chain().focus().toggleHeaderColumn().run(),\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t\tseparatorAfter: true,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tunique: 'table-delete',\r\n\t\t\t\tlabel: 'Delete table',\r\n\t\t\t\ticon: 'icon-trash',\r\n\t\t\t\texecute: () => editor?.chain().focus().deleteTable().run(),\r\n\t\t\t},\r\n\t\t];\r\n\t}\r\n}\r\n\r\nexport { UmbTiptapToolbarTableExtensionApi as api };\r\n"],"names":["_UmbTiptapTableInsertElement_instances","onClick_fn","onMouseover_fn","UmbTiptapTableInsertElement","UmbLitElement","__privateAdd","cells","i","row","j","html","__privateMethod","column","css","__decorateClass","state","customElement","UmbTiptapToolbarTableExtensionApi","UmbTiptapToolbarElementApiBase","editor","tableInsertElement"],"mappings":"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"}