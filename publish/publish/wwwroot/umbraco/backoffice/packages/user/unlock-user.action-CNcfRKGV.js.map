{"version":3,"file":"unlock-user.action-CNcfRKGV.js","sources":["../../../src/packages/user/user/entity-actions/unlock/unlock-user.action.ts"],"sourcesContent":["import { UmbUnlockUserRepository } from '../../repository/index.js';\r\nimport { UmbUserItemRepository } from '../../repository/item/user-item.repository.js';\r\nimport type { UmbEntityActionArgs } from '@umbraco-cms/backoffice/entity-action';\r\nimport { UmbEntityActionBase } from '@umbraco-cms/backoffice/entity-action';\r\nimport type { UmbControllerHost } from '@umbraco-cms/backoffice/controller-api';\r\nimport { umbConfirmModal } from '@umbraco-cms/backoffice/modal';\r\n\r\nexport class UmbUnlockUserEntityAction extends UmbEntityActionBase<never> {\r\n\tconstructor(host: UmbControllerHost, args: UmbEntityActionArgs<never>) {\r\n\t\tsuper(host, args);\r\n\t}\r\n\r\n\toverride async execute() {\r\n\t\tif (!this.args.unique) throw new Error('Unique is not available');\r\n\r\n\t\tconst itemRepository = new UmbUserItemRepository(this);\r\n\t\tconst { data } = await itemRepository.requestItems([this.args.unique]);\r\n\r\n\t\tif (!data?.length) {\r\n\t\t\tthrow new Error('Item not found.');\r\n\t\t}\r\n\r\n\t\tconst item = data[0];\r\n\r\n\t\tawait umbConfirmModal(this._host, {\r\n\t\t\theadline: `Unlock ${item.name}`,\r\n\t\t\tcontent: 'Are you sure you want to unlock this user?',\r\n\t\t\tconfirmLabel: 'Unlock',\r\n\t\t});\r\n\r\n\t\tconst unlockUserRepository = new UmbUnlockUserRepository(this);\r\n\t\tawait unlockUserRepository?.unlock([this.args.unique]);\r\n\t}\r\n}\r\n\r\nexport { UmbUnlockUserEntityAction as api };\r\n"],"names":["UmbUnlockUserEntityAction","UmbEntityActionBase","host","args","itemRepository","UmbUserItemRepository","data","item","umbConfirmModal","UmbUnlockUserRepository"],"mappings":";;;;;;;;;;;;;AAOO,MAAMA,UAAkCC,EAA2B;AAAA,EACzE,YAAYC,GAAyBC,GAAkC;AACtE,UAAMD,GAAMC,CAAI;AAAA,EAAA;AAAA,EAGjB,MAAe,UAAU;AACxB,QAAI,CAAC,KAAK,KAAK,OAAc,OAAA,IAAI,MAAM,yBAAyB;AAE1D,UAAAC,IAAiB,IAAIC,EAAsB,IAAI,GAC/C,EAAE,MAAAC,EAAK,IAAI,MAAMF,EAAe,aAAa,CAAC,KAAK,KAAK,MAAM,CAAC;AAEjE,QAAA,CAACE,GAAM;AACJ,YAAA,IAAI,MAAM,iBAAiB;AAG5B,UAAAC,IAAOD,EAAK,CAAC;AAEb,UAAAE,EAAgB,KAAK,OAAO;AAAA,MACjC,UAAU,UAAUD,EAAK,IAAI;AAAA,MAC7B,SAAS;AAAA,MACT,cAAc;AAAA,IAAA,CACd,GAGD,MAD6B,IAAIE,EAAwB,IAAI,GACjC,OAAO,CAAC,KAAK,KAAK,MAAM,CAAC;AAAA,EAAA;AAEvD;"}